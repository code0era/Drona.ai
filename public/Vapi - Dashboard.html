<!DOCTYPE html>
<!-- saved from url=(0072)https://dashboard.vapi.ai/workflows/7dded450-e0c3-48d7-9557-ae5e54126f4f -->
<html lang="en" class="dark" data-theme="dark" style="color-scheme: dark;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <link rel="icon" type="image/x-icon" href="https://dashboard.vapi.ai/workflows/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="VAPI Dashboard - Build and manage voice AI agents that conduct human-like conversations. Access analytics, configure assistants, and monitor your AI voice applications.">

  <!-- Resource Hints -->
  <link rel="preconnect" href="https://fonts.googleapis.com/">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
  <link rel="preconnect" href="https://api.vapi.ai/">
  <link rel="dns-prefetch" href="https://analytics.google.com/">
  <link rel="dns-prefetch" href="https://www.googletagmanager.com/">
  <link rel="dns-prefetch" href="https://static.ads-twitter.com/">
  <link rel="dns-prefetch" href="https://www.datadoghq-browser-agent.com/">

  <!-- Open Graph / Social Media Meta Tags -->
  <meta property="og:title" content="VAPI Dashboard - Voice AI Management Platform">
  <meta property="og:description" content="Build and manage voice AI agents that conduct human-like conversations. Access real-time analytics, configure assistants, and monitor your AI voice applications.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://dashboard.vapi.ai">
  <meta property="og:image" content="https://dashboard.vapi.ai/images/vapi-social-preview.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="VAPI Dashboard - Voice AI Management Platform">
  <meta name="twitter:description" content="Build and manage voice AI agents that conduct human-like conversations.">
  <meta name="twitter:image" content="https://dashboard.vapi.ai/images/vapi-social-preview.png">

  <!-- Critical: Clickjacking Protection (keep as-is for security) -->
  <script src="./Vapi - Dashboard_files/pixel.js.download" async=""></script><script async="" src="./Vapi - Dashboard_files/uwt.js.download"></script><script type="text/javascript" async="" src="./Vapi - Dashboard_files/insight.min.js.download"></script><script src="./Vapi - Dashboard_files/fb.js.download" type="text/javascript" id="hs-ads-pixel-244349038" data-ads-portal-id="244349038" data-ads-env="prod" data-loader="hs-scriptloader" data-hsjs-portal="244349038" data-hsjs-env="prod" data-hsjs-hublet="na2"></script><script src="./Vapi - Dashboard_files/banner.js.download" type="text/javascript" id="cookieBanner-244349038" data-cookieconsent="ignore" data-hs-ignore="true" data-loader="hs-scriptloader" data-hsjs-portal="244349038" data-hsjs-env="prod" data-hsjs-hublet="na2"></script><script src="./Vapi - Dashboard_files/244349038.js.download" type="text/javascript" id="hs-analytics"></script><script type="text/javascript">
    if (window.top !== window.self) {
      document.body.innerHTML = '<h1>Clickjacking Protection Active</h1>';
    }
  </script>

  <!-- Google Tag Manager (defer for better performance) -->
  <script>
    // Defer GTM loading
    window.addEventListener('load', function () {
      const gtmScript = document.createElement('script');
      gtmScript.src = 'https://www.googletagmanager.com/gtag/js?id=G-X338HKZF81';
      gtmScript.async = true;
      document.head.appendChild(gtmScript);

      gtmScript.onload = function () {
        window.dataLayer = window.dataLayer || [];
        function gtag() {
          dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'G-X338HKZF81');
        window.gtag = gtag;
      };
    });
  </script>

  <!-- HockeyStack -->
  <script>
    var hsscript = document.createElement("script");
    hsscript.id = "wphs";
    hsscript.src = "https://cdn.jsdelivr.net/npm/hockeystack@latest/hockeystack.min.js";
    hsscript.async = 1;
    hsscript.dataset.apikey = "96e358f635f3f5ea7fda26023b10da";
    hsscript.dataset.cookieless = 1;
    hsscript.dataset.autoIdentify = 1;
    document.getElementsByTagName('head')[0].append(hsscript);
  </script><script id="wphs" src="./Vapi - Dashboard_files/hockeystack.min.js.download" async="" data-apikey="96e358f635f3f5ea7fda26023b10da" data-cookieless="1" data-auto-identify="1"></script>

  <!-- Start of Reo Javascript -->
  <script type="text/javascript">
    !function(){var e,t,n;e="0dc28e3fda800b9",t=function(){Reo.init({clientID:"0dc28e3fda800b9"})},(n=document.createElement("script")).src="https://static.reo.dev/"+e+"/reo.js",n.defer=!0,n.onload=t,document.head.appendChild(n)}();
  </script><script src="./Vapi - Dashboard_files/reo.js.download" defer=""></script>
  <!-- End of Reo Javascript -->

  <!-- Start of HubSpot Embed Code -->
  <script type="text/javascript" id="hs-script-loader" async="" defer="" src="./Vapi - Dashboard_files/244349038(1).js.download"></script>
  <!-- End of HubSpot Embed Code -->

  <!-- Move non-critical analytics to load after user interaction -->
  <script>
    // Load analytics after user interaction or 3 seconds
    function loadDeferredScripts() {
      // Tolt Analytics
      const toltScript = document.createElement('script');
      toltScript.src = 'https://cdn.tolt.io/tolt.js';
      toltScript.setAttribute('data-tolt', '7ef6023e-5ff9-493c-9c79-405e0f449e59');
      toltScript.async = true;
      document.head.appendChild(toltScript);

      // Twitter Pixel
      !(function (e, t, n, s, u, a) {
        e.twq ||
          ((s = e.twq =
            function () {
              s.exe ? s.exe.apply(s, arguments) : s.queue.push(arguments);
            }),
            (s.version = '1.1'),
            (s.queue = []),
            (u = t.createElement(n)),
            (u.async = !0),
            (u.src = 'https://static.ads-twitter.com/uwt.js'),
            (a = t.getElementsByTagName(n)[0]),
            a.parentNode.insertBefore(u, a));
      })(window, document, 'script');
      twq('config', 'ok996');
      twq('event', 'tw-ok996-ok997', {});

      // Reddit Pixel
      (function (w, d) {
        if (!w.rdt) {
          var p = w.rdt = function () {
            if (p.sendEvent) {
              p.sendEvent.apply(p, arguments);
            } else {
              p.callQueue.push(arguments);
            }
          };
          p.callQueue = [];

          var t = d.createElement("script");
          t.src = "https://www.redditstatic.com/ads/pixel.js";
          t.async = true;

          var s = d.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(t, s);
        }
      })(window, document);

      rdt('init', 'a2_h6i4aods2x94');
      rdt('track', 'PageVisit');
    }

    // Load on first user interaction or after 3 seconds
    if (document.readyState === 'complete') {
      setTimeout(loadDeferredScripts, 3000);
    } else {
      window.addEventListener('load', () => setTimeout(loadDeferredScripts, 3000));
    }

    // Also load immediately on user interaction
    ['click', 'scroll', 'keydown', 'touchstart'].forEach(event => {
      window.addEventListener(event, loadDeferredScripts, { once: true, passive: true });
    });
  </script>
  <title>Vapi - Dashboard</title>
  <script type="module" crossorigin="" src="./Vapi - Dashboard_files/index-CNEFSAUz.js.download"></script>
  <link rel="stylesheet" crossorigin="" href="./Vapi - Dashboard_files/index-so8GTeUs.css">
<style data-squad-edge-animation="">
  @keyframes dashdraw {
    to {
      stroke-dashoffset: -16;
    }
  }
</style><script src="./Vapi - Dashboard_files/v3"></script><style data-emotion="css-global" data-s=""></style><style data-emotion="css-global" data-s=""></style><style data-emotion="css-global" data-s=""></style><style data-emotion="css" data-s=""></style><script src="./Vapi - Dashboard_files/js" async=""></script><script src="./Vapi - Dashboard_files/tolt.js.download" data-tolt="7ef6023e-5ff9-493c-9c79-405e0f449e59" async=""></script><script id="cf-turnstile-script" src="./Vapi - Dashboard_files/api.js.download" defer="" async=""></script><script src="./Vapi - Dashboard_files/tolt.js.download" data-tolt="7ef6023e-5ff9-493c-9c79-405e0f449e59" async=""></script><script src="./Vapi - Dashboard_files/tolt.js.download" data-tolt="7ef6023e-5ff9-493c-9c79-405e0f449e59" async=""></script></head>

<body class="chakra-ui-dark" style="">
  <div id="root"><script id="chakra-script">!(function(){try{var a=function(c){var v="(prefers-color-scheme: dark)",h=window.matchMedia(v).matches?"dark":"light",r=c==="system"?h:c,o=document.documentElement,s=document.body,l="chakra-ui-light",d="chakra-ui-dark",i=r==="dark";return s.classList.add(i?d:l),s.classList.remove(i?l:d),o.style.colorScheme=r,o.dataset.theme=r,r},n=a,m="dark",e="chakra-ui-color-mode",t=localStorage.getItem(e);t?a(t):localStorage.setItem(e,a(m))}catch(a){}})();</script><div><div id="captcha-9b7583ea-6c84-4af2-80a0-3b77307a6b4c" class="h-0" style="width: 0px; height: 0px; overflow: hidden;"><div><template shadowrootmode="closed"><iframe src="https://challenges.cloudflare.com/cdn-cgi/challenge-platform/h/g/turnstile/f/ov2/av0/rch/1lbct/0x4AAAAAAAa7ZSD7onoZcTuC/auto/fbE/new/normal?lang=auto" allow="cross-origin-isolated; fullscreen; autoplay" sandbox="allow-same-origin allow-scripts allow-popups" id="cf-chl-widget-1lbct" tabindex="-1" title="Widget containing a Cloudflare security challenge" style="border: none; overflow: hidden; width: 0px; height: 0px; position: absolute; visibility: hidden;" aria-hidden="true"></iframe></template><input type="hidden" name="cf-turnstile-response" id="cf-chl-widget-1lbct_response" value="0.Kqo_iJy9R52q3doDleekr3vniuxXTYnNNT9KQbJXvbmRF__432I84OzU5WI458w6HpDGQ-5eg0ZdjLqICVyEcrM7Tk70lyKlxZPybsWLMY2nocKSDpNOo0qnRg0ZJBp9ZVWnP8RnOR2NdEAwhwFTCYjF-z5DkElm0TS3eITtE3xd22jbENjooVvWD6PuPR4AJektCXyOORga1XmNEVfFihjqzVxmxKJr22NQgZ11-JO9FIzhEeREKYaJjrvIe_eZf6mjS5Gg464HRLk7_aypWZIekgYg1872CYSbrPTnU58cVppjYj6Jp7TWavxeEkkKrD_8ti2RmoBhq3XEb6dVXL-9aVlf82a83hb1fzsxU9ai9DtXkxd6EJUZv8Z6rdGmyDTSTi-7lRVJiVoiIkv9HM0Ld_l9Cy6wjfImifeUkY47lFRfgpWQWqW5kVZdw1XW0nmjFavqy0_I0YHq4oAVui_RjpGAZHWRNPNpQ-nRoqdiIOQmHje3Jf3329xLrscM4I7cwORe4bxU9H8WRhhZvEIe09BMjuxwyBM6AMUAxPmssffYmIe7XQrWLePGgWp_-YvSs63BmaZX6AbgMLKcTfLP1Me8hZYcdv8PgwfAFfA5ZgensK51qi6Sqh6AxHj00WQC1mnede2-CXXl-uVaX35MmuplgHz_RJ5QVN8aZ8R_GyvTPEzopFL3EydUBh1BhSWEOn0TQOayyhS313GxzyVuGEuTMGtZWg-udcOhfD_EIERiL9l3APStcGvWjx77WbmHXFrwXSYsw5aNQpi48hF_h-jG6C3NZFmuKXMkSEYedh0CPJWnq1mZBO2nvUz0fm5SxDuQi4pmKLFVLDCusuZeoaTrh7VmTgtQ-Vx-ENNi3PpiwZF0783pGd60eWtajy6339OxTHr4bQdFgQ2qdz1_xOQxh9LpLjY41tHIVUy2ArzLy0-V8b2rBvnUPdM-.pXSlkwQahqNfCY-Rz8rRCQ.cc69c3ad4cc80ef337c6172a0625b00d94fb33c9fdb37a24645b6a9738c7b7b8"></div></div></div><div class="position-relative flex h-full flex-1 flex-col bg-background lg:min-w-[900px]"><div class="flex items-center justify-between border-b border-border bg-background px-4 py-3 sm:hidden"><img src="./Vapi - Dashboard_files/logo-vapi.svg" alt="Logo" class="h-8 cursor-pointer transition-all duration-150 ease-in-out hover:opacity-90"><button class="inline-flex select-none items-center justify-center whitespace-nowrap ring-1 ring-transparent text-sm font-medium disabled:pointer-events-none disabled:opacity-50 transition-all duration-150 ease-in-out group hover:bg-accent hover:text-accent-foreground active:scale-[1] rounded-md h-10 w-10"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-5 w-5 fill-text"><path d="M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128ZM40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16ZM216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></button></div><div class="flex flex-1 overflow-hidden"><div class="sidebar-container relative hidden border-r border-border bg-white dark:border-border dark:bg-background sm:flex"><div class="relative flex h-full flex-col overflow-hidden p-2 pt-1" data-collapsed="true" data-testid="sidebar" role="navigation" aria-label="Main navigation" id="sidebar-navigation" tabindex="-1" style="width: 46px;"><div class="flex flex-1 flex-col overflow-hidden" style="opacity: 1; will-change: opacity;"><div style="opacity: 1; will-change: opacity, transform; transform: none;"><div class="sidebar-header-container my-2 flex items-center justify-between"><img src="./Vapi - Dashboard_files/logo-vapi.svg" alt="Vapi Logo" class="sidebar-logo h-6 w-auto [filter:brightness(0.08)_saturate(0.8)] dark:filter-none"></div></div><div class="w-full" style="opacity: 1; will-change: opacity, transform; transform: none;"><button class="inline-flex select-none items-center whitespace-nowrap ring-1 ring-transparent text-sm font-medium disabled:pointer-events-none disabled:opacity-50 transition-all duration-150 ease-in-out active:scale-[0.98] group hover:shadow-sm hover:shadow-black/10 text-text/50 hover:text-text relative my-2 h-8 min-h-8 w-full justify-between overflow-hidden border-none px-1 pr-3.5 rounded-md border-2 border-border/70 hover:border-primary/30 hover:bg-primary/10 focus:border-primary/30 focus:bg-primary/10 focus:outline-none focus-visible:outline-none" data-testid="account-menu-trigger" name="account-menu-trigger" aria-label="Organization: ashubhamyadav61@gmail.com&#39;s Org" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:r1o:" data-state="closed" style="outline: none; box-shadow: none;"><div class="flex items-center gap-2 px-[1px]"><div class="flex h-5 w-5 shrink-0 items-center justify-center rounded bg-primary/10"><span class="text-xs font-bold text-primary">A</span></div><div class="sidebar-org-name overflow-hidden text-ellipsis font-medium text-text/80 dark:text-text/80">ashubhamyadav61@gmail.com's Org</div></div><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="sidebar-caret h-3 w-3 shrink-0 fill-current text-text/70 dark:!text-white"><path d="M181.66,170.34a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-48-48a8,8,0,0,1,11.32-11.32L128,212.69l42.34-42.35A8,8,0,0,1,181.66,170.34Zm-96-84.68L128,43.31l42.34,42.35a8,8,0,0,0,11.32-11.32l-48-48a8,8,0,0,0-11.32,0l-48,48A8,8,0,0,0,85.66,85.66Z"></path></svg></button></div><div style="opacity: 1; will-change: opacity, transform; transform: none;"><button class="group mb-2 flex h-8 w-full items-center gap-2 rounded-md border px-1.5 border-border/50 bg-background/50 hover:border-border hover:bg-hover/50 transition-all duration-200 cursor-pointer select-none text-left focus:border-primary/10 focus:bg-primary/10 focus:outline-none focus-visible:border-primary/10 focus-visible:bg-primary/10 focus-visible:outline-none focus:ring-0 focus-visible:ring-0 focus:shadow-none focus-visible:shadow-none" aria-label="Search pages (âŒ˜K)" data-state="closed" style="outline: none; box-shadow: none;"><div class="sidebar-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="text-text/50 group-hover:text-text/70"><path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"></path></svg></div><span class="sidebar-search-text flex-1 text-sm text-text/50 group-hover:text-text/70">Search</span><kbd class="sidebar-search-text hidden items-center gap-1 rounded bg-white/5 px-1.5 py-0.5 text-xs text-text/50 group-hover:text-text/70 sm:flex"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 256 256"><path d="M180,144H160V112h20a36,36,0,1,0-36-36V96H112V76a36,36,0,1,0-36,36H96v32H76a36,36,0,1,0,36,36V160h32v20a36,36,0,1,0,36-36ZM160,76a20,20,0,1,1,20,20H160ZM56,76a20,20,0,0,1,40,0V96H76A20,20,0,0,1,56,76ZM96,180a20,20,0,1,1-20-20H96Zm16-68h32v32H112Zm68,88a20,20,0,0,1-20-20V160h20a20,20,0,0,1,0,40Z"></path></svg>K</kbd></button></div><div class="hide-scrollbar mt-2 flex-1 overflow-auto" style="opacity: 1; will-change: opacity, transform; transform: none;"><div class="relative flex flex-col"><a tabindex="-1" class="hover:!no-underline" href="https://dashboard.vapi.ai/overview"><div class="sidebar-item group my-[1px] w-full cursor-pointer select-none rounded-md border border-transparent px-1 py-0.5 outline-none focus:outline-none focus-visible:outline-none hover:border-primary/10 hover:bg-primary/10 focus:border-primary/10 focus:bg-primary/10" tabindex="0" role="button" aria-label="Overview" aria-pressed="false" data-state="closed" style="outline: none; box-shadow: none;"><div class="relative flex items-center rounded-md p-0.5"><div class="flex flex-1 items-center gap-2 overflow-hidden"><div class="sidebar-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="text-text/70 group-hover:fill-primary group-hover:!text-text group-focus:fill-primary group-focus:!text-text"><path d="M222.14,105.85l-80-80a20,20,0,0,0-28.28,0l-80,80A19.86,19.86,0,0,0,28,120v96a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V120A19.86,19.86,0,0,0,222.14,105.85ZM204,204H52V121.65l76-76,76,76Z"></path></svg></div><span class="sidebar-text line-clamp-1 text-sm font-normal text-text">Overview</span></div></div></div></a></div><div class="relative flex flex-col"><div class="sidebar-section-header mt-4 inline-flex w-full items-center justify-between pl-1.5"><span class="text-[12px] text-text/40" style="font-family: Menlo;">BUILD</span></div><a tabindex="-1" class="hover:!no-underline" href="https://dashboard.vapi.ai/assistants"><div class="sidebar-item group my-[1px] w-full cursor-pointer select-none rounded-md border border-transparent px-1 py-0.5 outline-none focus:outline-none focus-visible:outline-none hover:border-primary/10 hover:bg-primary/10 focus:border-primary/10 focus:bg-primary/10" tabindex="0" role="button" aria-label="Assistants" aria-pressed="false" data-state="closed" style="outline: none; box-shadow: none;"><div class="relative flex items-center rounded-md p-0.5"><div class="flex flex-1 items-center gap-2 overflow-hidden"><div class="sidebar-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="text-text/70 group-hover:fill-primary group-hover:!text-text group-focus:fill-primary group-focus:!text-text"><path d="M234.38,210a123.36,123.36,0,0,0-60.78-53.23,76,76,0,1,0-91.2,0A123.36,123.36,0,0,0,21.62,210a12,12,0,1,0,20.77,12c18.12-31.32,50.12-50,85.61-50s67.49,18.69,85.61,50a12,12,0,0,0,20.77-12ZM76,96a52,52,0,1,1,52,52A52.06,52.06,0,0,1,76,96Z"></path></svg></div><span class="sidebar-text line-clamp-1 text-sm font-normal text-text">Assistants</span></div></div></div></a><a tabindex="-1" class="hover:!no-underline" href="https://dashboard.vapi.ai/squads"><div class="sidebar-item group my-[1px] w-full cursor-pointer select-none rounded-md border border-transparent px-1 py-0.5 outline-none focus:outline-none focus-visible:outline-none hover:border-primary/10 hover:bg-primary/10 focus:border-primary/10 focus:bg-primary/10" tabindex="0" role="button" aria-label="Squads" aria-pressed="false" data-state="closed" style="outline: none; box-shadow: none;"><div class="relative flex items-center rounded-md p-0.5"><div class="flex flex-1 items-center gap-2 overflow-hidden"><div class="sidebar-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="text-text/70 group-hover:fill-primary group-hover:!text-text group-focus:fill-primary group-focus:!text-text"><path d="M164.38,181.1a52,52,0,1,0-72.76,0,75.89,75.89,0,0,0-30,28.89,12,12,0,0,0,20.78,12,53,53,0,0,1,91.22,0,12,12,0,1,0,20.78-12A75.89,75.89,0,0,0,164.38,181.1ZM100,144a28,28,0,1,1,28,28A28,28,0,0,1,100,144Zm147.21,9.59a12,12,0,0,1-16.81-2.39c-8.33-11.09-19.85-19.59-29.33-21.64a12,12,0,0,1-1.82-22.91,20,20,0,1,0-24.78-28.3,12,12,0,1,1-21-11.6,44,44,0,1,1,73.28,48.35,92.18,92.18,0,0,1,22.85,21.69A12,12,0,0,1,247.21,153.59Zm-192.28-24c-9.48,2.05-21,10.55-29.33,21.65A12,12,0,0,1,6.41,136.79,92.37,92.37,0,0,1,29.26,115.1a44,44,0,1,1,73.28-48.35,12,12,0,1,1-21,11.6,20,20,0,1,0-24.78,28.3,12,12,0,0,1-1.82,22.91Z"></path></svg></div><span class="sidebar-text line-clamp-1 text-sm font-normal text-text">Squads</span></div></div></div></a><a tabindex="-1" class="hover:!no-underline" href="https://dashboard.vapi.ai/tools"><div class="sidebar-item group my-[1px] w-full cursor-pointer select-none rounded-md border border-transparent px-1 py-0.5 outline-none focus:outline-none focus-visible:outline-none hover:border-primary/10 hover:bg-primary/10 focus:border-primary/10 focus:bg-primary/10" tabindex="0" role="button" aria-label="Tools" aria-pressed="false" data-state="closed" style="outline: none; box-shadow: none;"><div class="relative flex items-center rounded-md p-0.5"><div class="flex flex-1 items-center gap-2 overflow-hidden"><div class="sidebar-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="text-text/70 group-hover:fill-primary group-hover:!text-text group-focus:fill-primary group-focus:!text-text"><path d="M230.47,67.5a12,12,0,0,0-19.26-4.32L172.43,99l-12.68-2.72L157,83.57l35.79-38.78a12,12,0,0,0-4.32-19.26A76.07,76.07,0,0,0,88.41,121.64L30.92,174.18a4.68,4.68,0,0,0-.39.38,36,36,0,0,0,50.91,50.91l.38-.39,52.54-57.49A76.05,76.05,0,0,0,230.47,67.5ZM160,148a51.5,51.5,0,0,1-23.35-5.52,12,12,0,0,0-14.26,2.62L64.31,208.66a12,12,0,0,1-17-17l63.55-58.07a12,12,0,0,0,2.62-14.26A51.5,51.5,0,0,1,108,96a52.06,52.06,0,0,1,52-52h.89L135.17,71.87a12,12,0,0,0-2.91,10.65l5.66,26.35a12,12,0,0,0,9.21,9.21l26.35,5.66a12,12,0,0,0,10.65-2.91L212,95.12c0,.3,0,.59,0,.89A52.06,52.06,0,0,1,160,148Z"></path></svg></div><span class="sidebar-text line-clamp-1 text-sm font-normal text-text">Tools</span></div></div></div></a><a tabindex="-1" class="hover:!no-underline" href="https://dashboard.vapi.ai/phone-numbers"><div class="sidebar-item group my-[1px] w-full cursor-pointer select-none rounded-md border border-transparent px-1 py-0.5 outline-none focus:outline-none focus-visible:outline-none hover:border-primary/10 hover:bg-primary/10 focus:border-primary/10 focus:bg-primary/10" tabindex="0" role="button" aria-label="Phone Numbers" aria-pressed="false" data-state="closed" style="outline: none; box-shadow: none;"><div class="relative flex items-center rounded-md p-0.5"><div class="flex flex-1 items-center gap-2 overflow-hidden"><div class="sidebar-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="text-text/70 group-hover:fill-primary group-hover:!text-text group-focus:fill-primary group-focus:!text-text"><path d="M224,154.8l-47.09-21.11-.18-.08a19.94,19.94,0,0,0-19,1.75,13.08,13.08,0,0,0-1.12.84l-22.31,19c-13-7.05-26.43-20.37-33.49-33.21l19.06-22.66a11.76,11.76,0,0,0,.85-1.15,20,20,0,0,0,1.66-18.83,1.42,1.42,0,0,1-.08-.18L101.2,32A20.06,20.06,0,0,0,80.42,20.15,60.27,60.27,0,0,0,28,80c0,81.61,66.39,148,148,148a60.27,60.27,0,0,0,59.85-52.42A20.06,20.06,0,0,0,224,154.8ZM176,204A124.15,124.15,0,0,1,52,80,36.29,36.29,0,0,1,80.48,44.46l18.82,42L80.14,109.28a12,12,0,0,0-.86,1.16A20,20,0,0,0,78,130.08c9.42,19.28,28.83,38.56,48.31,48A20,20,0,0,0,146,176.63a11.63,11.63,0,0,0,1.11-.85l22.43-19.07,42,18.81A36.29,36.29,0,0,1,176,204Z"></path></svg></div><span class="sidebar-text line-clamp-1 text-sm font-normal text-text">Phone Numbers</span></div></div></div></a><a tabindex="-1" class="hover:!no-underline" href="https://dashboard.vapi.ai/library/voice"><div class="sidebar-item group my-[1px] w-full cursor-pointer select-none rounded-md border border-transparent px-1 py-0.5 outline-none focus:outline-none focus-visible:outline-none hover:border-primary/10 hover:bg-primary/10 focus:border-primary/10 focus:bg-primary/10" tabindex="0" role="button" aria-label="Voice Library" aria-pressed="false" data-state="closed" style="outline: none; box-shadow: none;"><div class="relative flex items-center rounded-md p-0.5"><div class="flex flex-1 items-center gap-2 overflow-hidden"><div class="sidebar-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="text-text/70 group-hover:fill-primary group-hover:!text-text group-focus:fill-primary group-focus:!text-text"><path d="M60,96v64a12,12,0,0,1-24,0V96a12,12,0,0,1,24,0ZM88,20A12,12,0,0,0,76,32V224a12,12,0,0,0,24,0V32A12,12,0,0,0,88,20Zm40,32a12,12,0,0,0-12,12V192a12,12,0,0,0,24,0V64A12,12,0,0,0,128,52Zm40,32a12,12,0,0,0-12,12v64a12,12,0,0,0,24,0V96A12,12,0,0,0,168,84Zm40-16a12,12,0,0,0-12,12v96a12,12,0,0,0,24,0V80A12,12,0,0,0,208,68Z"></path></svg></div><span class="sidebar-text line-clamp-1 text-sm font-normal text-text">Voice Library</span></div></div></div></a><a tabindex="-1" class="hover:!no-underline" href="https://dashboard.vapi.ai/org/api-keys"><div class="sidebar-item group my-[1px] w-full cursor-pointer select-none rounded-md border border-transparent px-1 py-0.5 outline-none focus:outline-none focus-visible:outline-none hover:border-primary/10 hover:bg-primary/10 focus:border-primary/10 focus:bg-primary/10" tabindex="0" role="button" aria-label="API Keys" aria-pressed="false" data-state="closed" style="outline: none; box-shadow: none;"><div class="relative flex items-center rounded-md p-0.5"><div class="flex flex-1 items-center gap-2 overflow-hidden"><div class="sidebar-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="text-text/70 group-hover:fill-primary group-hover:!text-text group-focus:fill-primary group-focus:!text-text"><path d="M208,76H180V56A52,52,0,0,0,76,56V76H48A20,20,0,0,0,28,96V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V96A20,20,0,0,0,208,76ZM100,56a28,28,0,0,1,56,0V76H100ZM204,204H52V100H204Zm-60-52a16,16,0,1,1-16-16A16,16,0,0,1,144,152Z"></path></svg></div><span class="sidebar-text line-clamp-1 text-sm font-normal text-text">API Keys</span></div></div></div></a><div class="relative" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:r24:" data-state="closed"><div class="sidebar-item group my-[1px] w-full cursor-pointer select-none rounded-md border border-transparent px-1 py-0.5 outline-none focus:outline-none focus-visible:outline-none hover:border-primary/10 hover:bg-primary/10 focus:border-primary/10 focus:bg-primary/10" tabindex="0" role="button" aria-label="More" aria-pressed="false" data-state="closed" style="outline: none; box-shadow: none;"><div class="relative flex items-center rounded-md p-0.5"><div class="flex flex-1 items-center gap-2 overflow-hidden"><div class="sidebar-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="text-text/70 group-hover:fill-primary group-hover:!text-text group-focus:fill-primary group-focus:!text-text"><path d="M144,128a16,16,0,1,1-16-16A16,16,0,0,1,144,128ZM60,112a16,16,0,1,0,16,16A16,16,0,0,0,60,112Zm136,0a16,16,0,1,0,16,16A16,16,0,0,0,196,112Z"></path></svg></div><span class="sidebar-text line-clamp-1 text-sm font-normal text-text">More</span></div></div></div></div></div><div class="relative flex flex-col"><div class="sidebar-section-header mt-4 inline-flex w-full items-center justify-between pl-1.5"><span class="text-[12px] text-text/40" style="font-family: Menlo;">TEST</span></div><a tabindex="-1" class="hover:!no-underline" href="https://dashboard.vapi.ai/test-suites"><div class="sidebar-item group my-[1px] w-full cursor-pointer select-none rounded-md border border-transparent px-1 py-0.5 outline-none focus:outline-none focus-visible:outline-none hover:border-primary/10 hover:bg-primary/10 focus:border-primary/10 focus:bg-primary/10" tabindex="0" role="button" aria-label="Test Suites" aria-pressed="false" data-state="closed" style="outline: none; box-shadow: none;"><div class="relative flex items-center rounded-md p-0.5"><div class="flex flex-1 items-center gap-2 overflow-hidden"><div class="sidebar-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="text-text/70 group-hover:fill-primary group-hover:!text-text group-focus:fill-primary group-focus:!text-text"><path d="M234.49,111.07,90.41,22.94A20,20,0,0,0,60,39.87V216.13a20,20,0,0,0,30.41,16.93l144.08-88.13a19.82,19.82,0,0,0,0-33.86ZM84,208.85V47.15L216.16,128Z"></path></svg></div><span class="sidebar-text line-clamp-1 text-sm font-normal text-text">Test Suites</span></div></div></div></a><a tabindex="-1" class="hover:!no-underline" href="https://dashboard.vapi.ai/evals"><div class="sidebar-item group my-[1px] w-full cursor-pointer select-none rounded-md border border-transparent px-1 py-0.5 outline-none focus:outline-none focus-visible:outline-none hover:border-primary/10 hover:bg-primary/10 focus:border-primary/10 focus:bg-primary/10" tabindex="0" role="button" aria-label="Evals" aria-pressed="false" data-state="closed" style="outline: none; box-shadow: none;"><div class="relative flex items-center rounded-md p-0.5"><div class="flex flex-1 items-center gap-2 overflow-hidden"><div class="sidebar-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="text-text/70 group-hover:fill-primary group-hover:!text-text group-focus:fill-primary group-focus:!text-text"><path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212ZM163.27,77l-56,24a12,12,0,0,0-6.3,6.3l-24,56A12,12,0,0,0,92.73,179l56-24a12,12,0,0,0,6.3-6.3l24-56A12,12,0,0,0,163.27,77Zm-28.41,57.89-24,10.29,10.29-24,24-10.29Z"></path></svg></div><span class="sidebar-text line-clamp-1 text-sm font-normal text-text">Evals</span><div class="absolute -right-1 -top-0.5"><div class="h-1.5 w-1.5 rounded-full bg-orange-400 sidebar-badge" aria-label="beta feature"></div></div></div></div></div></a></div><div class="relative flex flex-col"><div class="sidebar-section-header mt-4 inline-flex w-full items-center justify-between pl-1.5"><span class="text-[12px] text-text/40" style="font-family: Menlo;">OBSERVE</span></div><a tabindex="-1" class="hover:!no-underline" href="https://dashboard.vapi.ai/reporting/boards"><div class="sidebar-item group my-[1px] w-full cursor-pointer select-none rounded-md border border-transparent px-1 py-0.5 outline-none focus:outline-none focus-visible:outline-none hover:border-primary/10 hover:bg-primary/10 focus:border-primary/10 focus:bg-primary/10" tabindex="0" role="button" aria-label="Boards" aria-pressed="false" data-state="closed" style="outline: none; box-shadow: none;"><div class="relative flex items-center rounded-md p-0.5"><div class="flex flex-1 items-center gap-2 overflow-hidden"><div class="sidebar-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="text-text/70 group-hover:fill-primary group-hover:!text-text group-focus:fill-primary group-focus:!text-text"><path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm12,24.87A84,84,0,0,1,194,76.07L140,107.22ZM50,159.17a83.94,83.94,0,0,1,66-114.3v76.2ZM128,212a83.88,83.88,0,0,1-65.95-32.07L206,96.83A84,84,0,0,1,128,212Z"></path></svg></div><span class="sidebar-text line-clamp-1 text-sm font-normal text-text">Boards</span></div></div></div></a><a tabindex="-1" class="hover:!no-underline" href="https://dashboard.vapi.ai/calls"><div class="sidebar-item group my-[1px] w-full cursor-pointer select-none rounded-md border border-transparent px-1 py-0.5 outline-none focus:outline-none focus-visible:outline-none hover:border-primary/10 hover:bg-primary/10 focus:border-primary/10 focus:bg-primary/10" tabindex="0" role="button" aria-label="Call Logs" aria-pressed="false" data-state="closed" style="outline: none; box-shadow: none;"><div class="relative flex items-center rounded-md p-0.5"><div class="flex flex-1 items-center gap-2 overflow-hidden"><div class="sidebar-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="text-text/70 group-hover:fill-primary group-hover:!text-text group-focus:fill-primary group-focus:!text-text"><path d="M208,28H48A20,20,0,0,0,28,48V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V48A20,20,0,0,0,208,28Zm-4,24v92H179.31a19.86,19.86,0,0,0-14.14,5.86L147,168H109L90.83,149.86A19.86,19.86,0,0,0,76.69,144H52V52ZM52,204V168H75l18.14,18.14A19.86,19.86,0,0,0,107.31,192h41.38a19.86,19.86,0,0,0,14.14-5.86L181,168h23v36Z"></path></svg></div><span class="sidebar-text line-clamp-1 text-sm font-normal text-text">Call Logs</span></div></div></div></a><a tabindex="-1" class="hover:!no-underline" href="https://dashboard.vapi.ai/logs/chat"><div class="sidebar-item group my-[1px] w-full cursor-pointer select-none rounded-md border border-transparent px-1 py-0.5 outline-none focus:outline-none focus-visible:outline-none hover:border-primary/10 hover:bg-primary/10 focus:border-primary/10 focus:bg-primary/10" tabindex="0" role="button" aria-label="Chat Logs" aria-pressed="false" data-state="closed" style="outline: none; box-shadow: none;"><div class="relative flex items-center rounded-md p-0.5"><div class="flex flex-1 items-center gap-2 overflow-hidden"><div class="sidebar-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="text-text/70 group-hover:fill-primary group-hover:!text-text group-focus:fill-primary group-focus:!text-text"><path d="M216,44H40A20,20,0,0,0,20,64V224A19.82,19.82,0,0,0,31.56,242.1a20.14,20.14,0,0,0,8.49,1.9,19.91,19.91,0,0,0,12.82-4.72l.12-.11L84.47,212H216a20,20,0,0,0,20-20V64A20,20,0,0,0,216,44Zm-4,144H80a11.93,11.93,0,0,0-7.84,2.92L44,215.23V68H212ZM84,108A12,12,0,0,1,96,96h64a12,12,0,1,1,0,24H96A12,12,0,0,1,84,108Zm0,40a12,12,0,0,1,12-12h64a12,12,0,0,1,0,24H96A12,12,0,0,1,84,148Z"></path></svg></div><span class="sidebar-text line-clamp-1 text-sm font-normal text-text">Chat Logs</span></div></div></div></a><a tabindex="-1" class="hover:!no-underline" href="https://dashboard.vapi.ai/logs/session"><div class="sidebar-item group my-[1px] w-full cursor-pointer select-none rounded-md border border-transparent px-1 py-0.5 outline-none focus:outline-none focus-visible:outline-none hover:border-primary/10 hover:bg-primary/10 focus:border-primary/10 focus:bg-primary/10" tabindex="0" role="button" aria-label="Session Logs" aria-pressed="false" data-state="closed" style="outline: none; box-shadow: none;"><div class="relative flex items-center rounded-md p-0.5"><div class="flex flex-1 items-center gap-2 overflow-hidden"><div class="sidebar-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="text-text/70 group-hover:fill-primary group-hover:!text-text group-focus:fill-primary group-focus:!text-text"><path d="M181.36,114.73l-48,24A12,12,0,0,1,116,128V72a12,12,0,0,1,24,0v36.58l30.63-15.31a12,12,0,1,1,10.73,21.46Zm45.72,120.86a12,12,0,0,1-14.68-8.51C210,218.2,201.65,212,192,212s-18,6.2-20.4,15.08A12,12,0,0,1,160,236a11.77,11.77,0,0,1-3.09-.41,12,12,0,0,1-8.52-14.68,43.76,43.76,0,0,1,15.08-23,36,36,0,1,1,57,0,43.7,43.7,0,0,1,15.08,23A12,12,0,0,1,227.08,235.59ZM180,176a12,12,0,1,0,12-12A12,12,0,0,0,180,176Zm-62.52,35.35a84,84,0,1,1,93.87-93.87,12,12,0,1,0,23.81-3A108,108,0,1,0,114.51,235.16a11,11,0,0,0,1.5.1,12,12,0,0,0,1.47-23.91Z"></path></svg></div><span class="sidebar-text line-clamp-1 text-sm font-normal text-text">Session Logs</span></div></div></div></a><div class="relative" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:r2d:" data-state="closed"><div class="sidebar-item group my-[1px] w-full cursor-pointer select-none rounded-md border border-transparent px-1 py-0.5 outline-none focus:outline-none focus-visible:outline-none hover:border-primary/10 hover:bg-primary/10 focus:border-primary/10 focus:bg-primary/10" tabindex="0" role="button" aria-label="More" aria-pressed="false" data-state="closed" style="outline: none; box-shadow: none;"><div class="relative flex items-center rounded-md p-0.5"><div class="flex flex-1 items-center gap-2 overflow-hidden"><div class="sidebar-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="text-text/70 group-hover:fill-primary group-hover:!text-text group-focus:fill-primary group-focus:!text-text"><path d="M144,128a16,16,0,1,1-16-16A16,16,0,0,1,144,128ZM60,112a16,16,0,1,0,16,16A16,16,0,0,0,60,112Zm136,0a16,16,0,1,0,16,16A16,16,0,0,0,196,112Z"></path></svg></div><span class="sidebar-text line-clamp-1 text-sm font-normal text-text">More</span></div></div></div></div></div></div></div><div style="opacity: 1; will-change: opacity, transform; transform: none;"><div class="relative flex flex-col items-center gap-y-3"><button class="inline-flex select-none items-center justify-center whitespace-nowrap ring-1 ring-transparent text-sm font-medium disabled:pointer-events-none disabled:opacity-50 transition-all duration-150 ease-in-out group hover:text-accent-foreground active:scale-[1] my-1 h-8 w-8 rounded-md border border-transparent p-0 text-text/70 hover:border-border/50 hover:bg-hover/50 focus:border-primary/10 focus:bg-primary/10 focus-visible:outline-none" aria-label="Billing information" aria-haspopup="menu" data-state="closed" type="button" aria-expanded="false" aria-controls="radix-:r2j:" style="outline: none; box-shadow: none;"><span class="text-sm font-bold">$</span></button></div></div></div></div><div class="grid flex-1 overflow-hidden bg-white dark:bg-background sm:flex"><div class="relative flex h-full w-full flex-col"><nav class="flex border-b border-border"><div class="w-full px-6"><div class="flex h-16 items-center justify-between"><div class="flex items-center gap-4"><button class="flex items-center justify-center rounded-md border border-border p-1.5 text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 256 256"><path d="M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L97,128Z"></path></svg></button><div class="flex flex-col gap-1"><div class="flex items-center gap-2"><div class="w-[300px]"><h3 class="text-md font-semibold text-gray-900 dark:text-white truncate px-0 cursor-pointer" title="drona.ai">drona.ai</h3></div></div><div class="flex items-center gap-1.5"><span class="text-xs text-gray-500 dark:text-gray-400">7dded450-e0c3-48d7-9557-ae5e54126f4f</span><button class="flex h-4 w-4 items-center justify-center rounded-sm text-gray-400 hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-300" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256"><path d="M216,28H88A12,12,0,0,0,76,40V76H40A12,12,0,0,0,28,88V216a12,12,0,0,0,12,12H168a12,12,0,0,0,12-12V180h36a12,12,0,0,0,12-12V40A12,12,0,0,0,216,28ZM156,204H52V100H156Zm48-48H180V88a12,12,0,0,0-12-12H100V52H204Z"></path></svg></button><button class="flex h-4 w-4 items-center justify-center rounded-sm text-gray-400 hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-300" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></div></div></div><div class="flex items-center gap-2"><div class="flex items-center gap-1.5 rounded-md border border-amber-200 bg-amber-50 px-2 py-1 dark:border-amber-700 dark:bg-amber-900/30"><div class="h-1.5 w-1.5 animate-pulse rounded-full bg-amber-500"></div><span class="text-sm font-medium text-amber-700 dark:text-amber-400">Unsaved changes</span></div><button class="flex items-center gap-2 px-3 py-2 text-sm font-medium text-text rounded-md border border-gray-500 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256"><path d="M71.68,97.22,34.74,128l36.94,30.78a12,12,0,1,1-15.36,18.44l-48-40a12,12,0,0,1,0-18.44l48-40A12,12,0,0,1,71.68,97.22Zm176,21.56-48-40a12,12,0,1,0-15.36,18.44L221.26,128l-36.94,30.78a12,12,0,1,0,15.36,18.44l48-40a12,12,0,0,0,0-18.44ZM164.1,28.72a12,12,0,0,0-15.38,7.18l-64,176a12,12,0,0,0,7.18,15.37A11.79,11.79,0,0,0,96,228a12,12,0,0,0,11.28-7.9l64-176A12,12,0,0,0,164.1,28.72Z"></path></svg></button><div class="flex items-center gap-x-0 rounded-md border border-primary" data-state="delayed-open" aria-describedby="radix-:r2o:"><button class="flex items-center justify-center gap-2 h-9 w-28 px-3 text-sm font-medium rounded-md transition-colors disabled:cursor-not-allowed disabled:opacity-50 !rounded-bl-md !rounded-br-none !rounded-tl-md !rounded-tr-none text-primary hover:bg-primary/10 dark:text-primary dark:hover:bg-primary/10">Call<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="text-primary"><path d="M224,154.8l-47.09-21.11-.18-.08a19.94,19.94,0,0,0-19,1.75,13.08,13.08,0,0,0-1.12.84l-22.31,19c-13-7.05-26.43-20.37-33.49-33.21l19.06-22.66a11.76,11.76,0,0,0,.85-1.15,20,20,0,0,0,1.66-18.83,1.42,1.42,0,0,1-.08-.18L101.2,32A20.06,20.06,0,0,0,80.42,20.15,60.27,60.27,0,0,0,28,80c0,81.61,66.39,148,148,148a60.27,60.27,0,0,0,59.85-52.42A20.06,20.06,0,0,0,224,154.8ZM176,204A124.15,124.15,0,0,1,52,80,36.29,36.29,0,0,1,80.48,44.46l18.82,42L80.14,109.28a12,12,0,0,0-.86,1.16A20,20,0,0,0,78,130.08c9.42,19.28,28.83,38.56,48.31,48A20,20,0,0,0,146,176.63a11.63,11.63,0,0,0,1.11-.85l22.43-19.07,42,18.81A36.29,36.29,0,0,1,176,204Z"></path></svg></button><button class="flex items-center justify-center h-9 px-3 text-sm font-medium rounded-md transition-colors disabled:cursor-not-allowed disabled:opacity-50 text-primary hover:bg-primary/10 dark:text-primary dark:hover:bg-primary/10 !rounded-none border-l border-primary border-b-0 border-r-0 border-t-0" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:r2p:" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256"><path d="M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"></path></svg></button></div><button class="flex items-center justify-center gap-2 h-9 w-20 text-sm font-medium text-white bg-[#53B9AB] hover:bg-[#4AA69A] rounded-md transition-colors disabled:cursor-not-allowed disabled:opacity-50">Save<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256"><path d="M222.14,69.17,186.83,33.86A19.86,19.86,0,0,0,172.69,28H48A20,20,0,0,0,28,48V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V83.31A19.86,19.86,0,0,0,222.14,69.17ZM164,204H92V160h72Zm40,0H188V156a20,20,0,0,0-20-20H88a20,20,0,0,0-20,20v48H52V52H171l33,33ZM164,84a12,12,0,0,1-12,12H96a12,12,0,0,1,0-24h56A12,12,0,0,1,164,84Z"></path></svg></button><button class="mr-2 flex items-center justify-center h-9 w-9 text-gray-600 dark:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" type="button" id="radix-:r2q:" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M112,60a16,16,0,1,1,16,16A16,16,0,0,1,112,60Zm16,52a16,16,0,1,0,16,16A16,16,0,0,0,128,112Zm0,68a16,16,0,1,0,16,16A16,16,0,0,0,128,180Z"></path></svg></button></div></div></div></nav><div class="flex flex-1 overflow-hidden"><div class="relative flex-1"><div class="h-full w-full transition-opacity duration-300 opacity-100"><div class="react-flow dark" data-testid="rf__wrapper" style="width: 100%; height: 100%; overflow: hidden; position: relative; z-index: 0;"><div class="react-flow__renderer" style="position: absolute; width: 100%; height: 100%; top: 0px; left: 0px;"><div class="react-flow__pane draggable" style="position: absolute; width: 100%; height: 100%; top: 0px; left: 0px;"><div class="react-flow__viewport xyflow__viewport react-flow__container" style="transform: translate(862.389px, 537.836px) scale(1.33236);"><div class="react-flow__edges"></div><div class="react-flow__edgelabel-renderer"></div><div class="react-flow__nodes" style="position: absolute; width: 100%; height: 100%; top: 0px; left: 0px;"><div class="react-flow__node react-flow__node-conversation nopan selectable draggable" data-id="introduction" data-testid="rf__node-introduction" tabindex="0" role="button" aria-describedby="react-flow__node-desc-1" style="z-index: 0; transform: translate(-400px, -100px); pointer-events: all; visibility: visible;"><div class="group/node relative"><div class="w-[320px] rounded-xl p-3 transition-all duration-200 border-2 bg-blue-50 outline outline-1 outline-blue-500 dark:bg-blue-950 border-transparent shadow-[inset_0_0_0_1px_hsl(var(--border))] hover:shadow-[inset_0_0_0_1px_hsl(var(--primary)),0_1px_3px_0_rgb(0_0_0/0.1)]"><div class="-mx-3 mb-2 flex items-center gap-2 border-b border-border px-3 pb-2"><div class="flex-shrink-0 p-1 shadow-sm bg-primary rounded-md text-white"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M198.13,202.85A8,8,0,0,1,192,216H24a8,8,0,0,1-6.12-13.15c14.94-17.78,33.52-30.41,54.17-37.17a68,68,0,1,1,71.9,0C164.6,172.44,183.18,185.07,198.13,202.85ZM196.86,61.39a8,8,0,0,0-4.22,10.5,92.26,92.26,0,0,1,0,72.22,8,8,0,1,0,14.72,6.29,108.36,108.36,0,0,0,0-84.8A8,8,0,0,0,196.86,61.39Zm39.85-8.54a8,8,0,1,0-14.7,6.3,124.43,124.43,0,0,1,0,97.7,8,8,0,1,0,14.7,6.3,140.34,140.34,0,0,0,0-110.3Z"></path></svg></div><h3 class="min-w-0 flex-1 truncate text-sm font-medium">introduction</h3><div class="ml-2 flex flex-shrink-0 items-center gap-1.5"><div class="cursor-default" data-state="closed"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-muted-foreground"><path d="M0 3C0 1.34315 1.34315 0 3 0H13C14.6569 0 16 1.34315 16 3V13C16 14.6569 14.6569 16 13 16H3C1.34315 16 0 14.6569 0 13V3Z" fill="black"></path><path d="M13.9993 8.09402C14.0235 6.47601 13.4067 4.948 12.2599 3.792C11.1129 2.636 9.58308 2 7.95243 2H3.06047C3.0262 2 3 2.026 3 2.06V8.39399C3 8.42803 3.0262 8.45399 3.06047 8.45399H5.46916C5.50342 8.45399 5.52963 8.42803 5.52963 8.39399V4.51H7.95243C8.90985 4.51 9.80679 4.88601 10.476 5.57001C11.1452 6.25401 11.4979 7.15403 11.4697 8.106C11.4133 9.972 9.80885 11.492 7.89397 11.492H5.5135C5.45908 11.492 5.40869 11.514 5.37039 11.552L3.08667 13.83C3.02419 13.894 3.06853 14 3.15722 14H7.84963C11.1896 14 13.949 11.35 13.9993 8.09203V8.09402Z" fill="white"></path></svg></div><div class="cursor-default" data-state="closed"><svg viewBox="0 0 28 28" role="img" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-muted-foreground"><rect width="28" height="28" rx="4" ry="4" fill="#FFFFFF"></rect><g transform="translate(2,2)"><path d="M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.872zm16.5963 3.8558L13.1038 8.364 15.1192 7.2a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.407-.667zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.4997-2.6067-1.4997Z" fill="#000000"></path></g></svg></div><div class="cursor-default" data-state="closed"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-muted-foreground"><g id="Provider"><path d="M0 3C0 1.34315 1.34315 0 3 0H13C14.6569 0 16 1.34315 16 3V13C16 14.6569 14.6569 16 13 16H3C1.34315 16 0 14.6569 0 13V3Z" fill="#1C2024"></path><g id="Vector"><path d="M4.21298 5.64005C3.93208 5.07578 3.23521 4.84037 2.65647 5.11424C2.07773 5.38811 1.83628 6.06754 2.11717 6.6318L3.9732 10.3602C4.16754 10.7506 4.57308 10.9989 5.01814 11C5.46323 11.0011 5.87003 10.7548 6.06642 10.3654L7.94656 6.637C8.23038 6.07413 7.99248 5.39351 7.41519 5.11678C6.83786 4.84004 6.13978 5.07199 5.85595 5.63486L5.02785 7.27699L4.21298 5.64005Z" fill="white"></path><path d="M12.0271 5.64005C11.8327 5.24966 11.4272 5.00137 10.9821 5.00026C10.5371 4.99916 10.1302 5.24544 9.93386 5.63486L8.05372 9.36327C7.8762 9.71527 7.89756 10.1316 8.11023 10.4646C8.32287 10.7976 8.6967 11 9.09902 11H12.8352C13.2364 11 13.6094 10.7986 13.8224 10.4671C14.0354 10.1355 14.0583 9.72039 13.8831 9.36845L12.0271 5.64005Z" fill="white"></path></g></g></svg></div></div></div><div class="mb-2 p-1"><p class="mb-1 text-xs font-medium text-text/60">First Message:</p><div class="text-sm"><span>Hey there!</span></div></div><div class="mb-2 p-1"><p class="mb-1 text-xs font-medium text-muted-foreground">Prompt:</p><div class="text-sm"><span>You are a helpful assistant</span></div></div><div class="-mx-3 -mb-3 mt-2"><div class="flex items-center justify-between border-t border-border bg-muted/30 px-4 py-2 text-xs"><div class="nopan nodrag flex items-center gap-1 cursor-pointer"><span class="font-medium text-muted-foreground">Cost:</span><span class="text-text">$0.09/min</span><span class="ml-1 text-muted-foreground">â–¶</span></div><div class="nopan nodrag flex items-center gap-1 cursor-pointer"><span class="font-medium text-muted-foreground">Latency:</span><span class="text-text">1.1s</span><span class="ml-1 text-muted-foreground">â–¶</span></div></div><div class="overflow-hidden transition-all duration-300 ease-in-out max-h-0"><div class="rounded-b-xl border-t border-border bg-background/50 px-4 py-3"><div class="mb-3 flex h-1.5 w-full overflow-hidden rounded-md bg-muted"><div class="flex items-center justify-center bg-blue-500" title="STT: $0.01 (11%)" style="width: 11.1111%;"></div><div class="flex items-center justify-center bg-orange-500" title="LLM: $0.02 (22%)" style="width: 22.2222%;"></div><div class="flex items-center justify-center bg-yellow-500" title="TTS: $0.01 (11%)" style="width: 11.1111%;"></div><div class="flex items-center justify-center bg-primary" title="Hosting: $0.05 (56%)" style="width: 55.5556%;"></div></div><div class="flex flex-wrap items-center gap-2 text-[10px]"><div class="flex items-center gap-0.5 whitespace-nowrap"><div class="h-1.5 w-1.5 flex-shrink-0 rounded-sm bg-blue-500"></div><span class="text-muted-foreground">STT: $0.01</span></div><div class="flex items-center gap-0.5 whitespace-nowrap"><div class="h-1.5 w-1.5 flex-shrink-0 rounded-sm bg-orange-500"></div><span class="text-muted-foreground">LLM: $0.02</span></div><div class="flex items-center gap-0.5 whitespace-nowrap"><div class="h-1.5 w-1.5 flex-shrink-0 rounded-sm bg-yellow-500"></div><span class="text-muted-foreground">TTS: $0.01</span></div><div class="flex items-center gap-0.5 whitespace-nowrap"><div class="h-1.5 w-1.5 flex-shrink-0 rounded-sm bg-primary"></div><span class="text-muted-foreground">Hosting: $0.05</span></div></div></div></div><div class="overflow-hidden transition-all duration-300 ease-in-out max-h-0"><div class="rounded-b-xl border-t border-border bg-background/50 px-4 py-3"><div class="mb-3 flex h-1.5 w-full overflow-hidden rounded-md bg-muted"><div class="flex items-center justify-center bg-blue-500" title="STT: 100ms (10%)" style="width: 9.52381%;"></div><div class="flex items-center justify-center bg-orange-500" title="LLM: 700ms (67%)" style="width: 66.6667%;"></div><div class="flex items-center justify-center bg-yellow-500" title="TTS: 250ms (24%)" style="width: 23.8095%;"></div></div><div class="flex flex-wrap items-center gap-2 text-[10px]"><div class="flex items-center gap-0.5 whitespace-nowrap"><div class="h-1.5 w-1.5 flex-shrink-0 rounded-sm bg-blue-500"></div><span class="text-muted-foreground">STT: 100ms</span></div><div class="flex items-center gap-0.5 whitespace-nowrap"><div class="h-1.5 w-1.5 flex-shrink-0 rounded-sm bg-orange-500"></div><span class="text-muted-foreground">LLM: 700ms</span></div><div class="flex items-center gap-0.5 whitespace-nowrap"><div class="h-1.5 w-1.5 flex-shrink-0 rounded-sm bg-yellow-500"></div><span class="text-muted-foreground">TTS: 250ms</span></div></div></div></div></div></div><div><div data-nodeid="introduction" data-handlepos="top" data-id="1-introduction-null-target" class="react-flow__handle react-flow__handle-top nodrag nopan target connectable connectablestart connectableend connectionindicator" style="height: 0.625rem; width: 0.625rem; border-width: 2px; border-color: var(--primary); background-color: var(--primary);"></div></div><div class="z-999 absolute transition-opacity duration-200 opacity-0 group-hover/node:opacity-100 -bottom-3 left-1/2 -translate-x-1/2 translate-y-10"><div class="group/toolbar relative"><div class="absolute left-1/2 -translate-x-1/2 h-4 w-[2px] bg-muted-foreground/30 -top-4"></div><button class="px-2 py-2 flex items-center justify-center gap-4 rounded-full h-8 w-8 text-left bg-primary transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256"><path d="M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"></path></svg></button></div></div><div class="z-999 absolute transition-opacity duration-200 opacity-0 group-hover/node:opacity-100 right-0 top-1/2 -translate-y-1/2 translate-x-12"><div class="group/toolbar relative flex flex-col gap-2"><button class="flex items-center justify-center rounded-md h-8 w-8 transition-colors border border-border bg-background hover:border-primary hover:text-primary group relative"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256"><path d="M216,28H88A12,12,0,0,0,76,40V76H40A12,12,0,0,0,28,88V216a12,12,0,0,0,12,12H168a12,12,0,0,0,12-12V180h36a12,12,0,0,0,12-12V40A12,12,0,0,0,216,28ZM156,204H52V100H156Zm48-48H180V88a12,12,0,0,0-12-12H100V52H204Z"></path></svg><span class="absolute left-full ml-2 hidden whitespace-nowrap text-sm text-muted-foreground group-hover:inline-block">Duplicate</span></button></div></div><div class="absolute -top-7 flex h-5 items-center justify-center gap-1 rounded-[3px] bg-blue-500 px-2 text-xs font-medium leading-none text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M240,128a15.74,15.74,0,0,1-7.6,13.51L88.32,229.65a16,16,0,0,1-16.2.3A15.86,15.86,0,0,1,64,216.13V39.87a15.86,15.86,0,0,1,8.12-13.82,16,16,0,0,1,16.2.3L232.4,114.49A15.74,15.74,0,0,1,240,128Z"></path></svg>Start Node</div><div><div data-nodeid="introduction" data-handlepos="bottom" data-id="1-introduction-null-source" class="react-flow__handle react-flow__handle-bottom nodrag nopan source connectable connectablestart connectableend connectionindicator" style="height: 0.625rem; width: 0.625rem; border-width: 2px; border-color: rgb(59, 130, 246); background-color: rgb(59, 130, 246); box-shadow: rgba(59, 130, 246, 0.2) 0px 0px 0px 4px;"></div></div></div></div></div><div class="react-flow__viewport-portal"></div></div></div></div><svg class="react-flow__background" data-testid="rf__background" style="position: absolute; width: 100%; height: 100%; top: 0px; left: 0px;"><pattern id="pattern-1" x="15.005249006294731" y="10.220233476682798" width="15.9883687684791" height="15.9883687684791" patternUnits="userSpaceOnUse" patternTransform="translate(-8.99418438423955,-8.99418438423955)"><circle cx="0.6661820320199625" cy="0.6661820320199625" r="0.6661820320199625" class="react-flow__background-pattern dots"></circle></pattern><rect x="0" y="0" width="100%" height="100%" fill="url(#pattern-1)"></rect></svg><div class="react-flow__panel flex flex-col gap-2 top left" style="pointer-events: all;"><button class="rounded-lg px-3 py-1 text-sm text-white" title="Add Node"><div class="flex items-center gap-2 rounded-md border border-gray-300 bg-primary p-2 dark:border-gray-600"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 256 256"><path d="M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"></path></svg><span>Add a Node</span></div></button><button class="rounded-lg px-3 py-1 text-sm text-text" title="Model"><div class="flex items-center gap-2 rounded-md border border-gray-300 bg-white p-2 text-text dark:border-gray-600 dark:bg-neutral-900"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 256 256" class="text-teal-500"><path d="M230.15,70.54,185.46,25.86a20,20,0,0,0-28.28,0L33.86,149.17A19.86,19.86,0,0,0,28,163.31V208a20,20,0,0,0,20,20H216a12,12,0,0,0,0-24H125L230.15,98.83A20,20,0,0,0,230.15,70.54ZM91,204H52V165l84-84,39,39ZM192,103,153,64l18.34-18.34,39,39Z"></path></svg><span>Global Prompt</span></div></button><button class="rounded-lg px-3 py-1 text-sm text-text" title="Voice"><div class="flex items-center gap-2 rounded-md border border-gray-300 bg-white p-2 text-text dark:border-gray-600 dark:bg-neutral-900"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 256 256" class="text-teal-500"><path d="M128,180a52.06,52.06,0,0,0,52-52V64A52,52,0,0,0,76,64v64A52.06,52.06,0,0,0,128,180ZM100,64a28,28,0,0,1,56,0v64a28,28,0,0,1-56,0Zm40,155.22V240a12,12,0,0,1-24,0V219.22A92.14,92.14,0,0,1,36,128a12,12,0,0,1,24,0,68,68,0,0,0,136,0,12,12,0,0,1,24,0A92.14,92.14,0,0,1,140,219.22Z"></path></svg><span>Global Voice</span></div></button><button class="rounded-lg px-3 py-1 text-sm text-text" title="Variables"><div class="flex items-center gap-2 rounded-md border border-gray-300 bg-white p-2 text-text dark:border-gray-600 dark:bg-neutral-900"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 256 256" class="text-teal-500"><path d="M54.8,119.49A35.06,35.06,0,0,1,49.05,128a35.06,35.06,0,0,1,5.75,8.51C60,147.24,60,159.83,60,172c0,25.94,1.84,32,20,32a12,12,0,0,1,0,24c-19.14,0-32.2-6.9-38.8-20.51C36,196.76,36,184.17,36,172c0-25.94-1.84-32-20-32a12,12,0,0,1,0-24c18.16,0,20-6.06,20-32,0-12.17,0-24.76,5.2-35.49C47.8,34.9,60.86,28,80,28a12,12,0,0,1,0,24c-18.16,0-20,6.06-20,32C60,96.17,60,108.76,54.8,119.49ZM240,116c-18.16,0-20-6.06-20-32,0-12.17,0-24.76-5.2-35.49C208.2,34.9,195.14,28,176,28a12,12,0,0,0,0,24c18.16,0,20,6.06,20,32,0,12.17,0,24.76,5.2,35.49A35.06,35.06,0,0,0,207,128a35.06,35.06,0,0,0-5.75,8.51C196,147.24,196,159.83,196,172c0,25.94-1.84,32-20,32a12,12,0,0,0,0,24c19.14,0,32.2-6.9,38.8-20.51C220,196.76,220,184.17,220,172c0-25.94,1.84-32,20-32a12,12,0,0,0,0-24Z"></path></svg><span>Variables</span></div></button></div><div class="react-flow__panel react-flow__minimap rounded-md shadow bottom right" data-testid="rf__minimap" style="pointer-events: all;"><svg width="200" height="150" viewBox="-768.3251307692218 -430.29010236497976 1118.0127415650288 851.8192316685933" class="react-flow__minimap-svg" role="img" aria-labelledby="react-flow__minimap-desc-1"><title id="react-flow__minimap-desc-1">React Flow mini map</title><rect class="react-flow__minimap-node" x="-400" y="-100" rx="5" ry="5" width="320" height="205" shape-rendering="crispEdges" style="fill: rgb(59, 130, 246); stroke: rgb(132, 177, 249); stroke-width: 1;"></rect><path class="react-flow__minimap-mask" d="M-794.9444817588653,-456.9094533546233h1171.2514435443159v905.0579336478803h-1171.2514435443159z
        M-647.2621237777884,-403.67075137533624h875.8867275821619v798.5805296893062h-875.8867275821619z" fill-rule="evenodd" pointer-events="none"></path></svg></div><div class="react-flow__panel mb-4 ml-4 bottom left" style="pointer-events: all;"><div class="group relative"><div class="flex h-12 w-16 cursor-help items-center justify-center gap-1 rounded-md border border-border shadow-lg backdrop-blur-sm transition-all duration-300 hover:shadow-xl group-hover:opacity-0 dark:bg-background/95"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256" class="text-text/80"><path d="M180,140H164V116h16a40,40,0,1,0-40-40V92H116V76a40,40,0,1,0-40,40H92v24H76a40,40,0,1,0,40,40V164h24v16a40,40,0,1,0,40-40ZM164,76a16,16,0,1,1,16,16H164ZM60,76a16,16,0,0,1,32,0V92H76A16,16,0,0,1,60,76ZM92,180a16,16,0,1,1-16-16H92Zm24-64h24v24H116Zm64,80a16,16,0,0,1-16-16V164h16a16,16,0,0,1,0,32Z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256" class="text-text/80"><path d="M224,44H32A20,20,0,0,0,12,64V192a20,20,0,0,0,20,20H224a20,20,0,0,0,20-20V64A20,20,0,0,0,224,44Zm-4,144H36V68H220ZM52,128a12,12,0,0,1,12-12H192a12,12,0,0,1,0,24H64A12,12,0,0,1,52,128Zm0-36A12,12,0,0,1,64,80H192a12,12,0,0,1,0,24H64A12,12,0,0,1,52,92Zm0,72a12,12,0,0,1,12-12h8a12,12,0,0,1,0,24H64A12,12,0,0,1,52,164Zm108,0a12,12,0,0,1-12,12H108a12,12,0,0,1,0-24h40A12,12,0,0,1,160,164Zm44,0a12,12,0,0,1-12,12h-8a12,12,0,0,1,0-24h8A12,12,0,0,1,204,164Z"></path></svg></div><div class="absolute bottom-0 left-0 w-80 origin-bottom-left scale-0 rounded-md border border-border p-4 shadow-xl backdrop-blur-sm transition-all duration-300 group-hover:scale-100 dark:bg-background/95"><div class="mb-3 flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 256 256" class="text-text/80"><path d="M224,44H32A20,20,0,0,0,12,64V192a20,20,0,0,0,20,20H224a20,20,0,0,0,20-20V64A20,20,0,0,0,224,44Zm-4,144H36V68H220ZM52,128a12,12,0,0,1,12-12H192a12,12,0,0,1,0,24H64A12,12,0,0,1,52,128Zm0-36A12,12,0,0,1,64,80H192a12,12,0,0,1,0,24H64A12,12,0,0,1,52,92Zm0,72a12,12,0,0,1,12-12h8a12,12,0,0,1,0,24H64A12,12,0,0,1,52,164Zm108,0a12,12,0,0,1-12,12H108a12,12,0,0,1,0-24h40A12,12,0,0,1,160,164Zm44,0a12,12,0,0,1-12,12h-8a12,12,0,0,1,0-24h8A12,12,0,0,1,204,164Z"></path></svg><h3 class="text-sm font-semibold text-text/90">Keyboard Shortcuts</h3></div><div class="space-y-4"><div class="space-y-2"><h4 class="text-xs font-medium uppercase tracking-wide text-text/60">Navigation</h4><div class="space-y-1.5"><div class="flex items-center justify-between gap-3"><div class="flex items-center gap-1 rounded-md border border-border bg-gray-50 px-1 dark:bg-white/10"><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">Esc</span></div><span class="text-xs text-text/70">Close panels</span></div></div><div class="h-px bg-border/50"></div></div><div class="space-y-2"><h4 class="text-xs font-medium uppercase tracking-wide text-text/60">History</h4><div class="space-y-1.5"><div class="flex items-center justify-between gap-3"><div class="flex items-center gap-1 rounded-md border border-border bg-gray-50 px-1 dark:bg-white/10"><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">âŒ˜</span><span class="text-text/40">+</span><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">Z</span></div><span class="text-xs text-text/70">Undo</span></div><div class="flex items-center justify-between gap-3"><div class="flex items-center gap-1 rounded-md border border-border bg-gray-50 px-1 dark:bg-white/10"><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">âŒ˜</span><span class="text-text/40">+</span><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">â‡§</span><span class="text-text/40">+</span><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">Z</span></div><span class="text-xs text-text/70">Redo</span></div></div><div class="h-px bg-border/50"></div></div><div class="space-y-2"><h4 class="text-xs font-medium uppercase tracking-wide text-text/60">Add Nodes</h4><div class="space-y-1.5"><div class="flex items-center justify-between gap-3"><div class="flex items-center gap-1 rounded-md border border-border bg-gray-50 px-1 dark:bg-white/10"><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">âŒ˜</span><span class="text-text/40">+</span><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">â‡§</span><span class="text-text/40">+</span><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">C</span></div><span class="text-xs text-text/70">Conversation</span></div><div class="flex items-center justify-between gap-3"><div class="flex items-center gap-1 rounded-md border border-border bg-gray-50 px-1 dark:bg-white/10"><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">âŒ˜</span><span class="text-text/40">+</span><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">â‡§</span><span class="text-text/40">+</span><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">A</span></div><span class="text-xs text-text/70">API Request</span></div><div class="flex items-center justify-between gap-3"><div class="flex items-center gap-1 rounded-md border border-border bg-gray-50 px-1 dark:bg-white/10"><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">âŒ˜</span><span class="text-text/40">+</span><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">â‡§</span><span class="text-text/40">+</span><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">F</span></div><span class="text-xs text-text/70">Transfer</span></div><div class="flex items-center justify-between gap-3"><div class="flex items-center gap-1 rounded-md border border-border bg-gray-50 px-1 dark:bg-white/10"><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">âŒ˜</span><span class="text-text/40">+</span><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">â‡§</span><span class="text-text/40">+</span><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">E</span></div><span class="text-xs text-text/70">Hangup</span></div><div class="flex items-center justify-between gap-3"><div class="flex items-center gap-1 rounded-md border border-border bg-gray-50 px-1 dark:bg-white/10"><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">âŒ˜</span><span class="text-text/40">+</span><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">â‡§</span><span class="text-text/40">+</span><span class="inline-block rounded px-1.5 py-0.5 text-xs font-medium text-text/80 shadow-sm dark:bg-background/80">O</span></div><span class="text-xs text-text/70">Tool</span></div></div></div></div><div class="mt-3 border-t border-border/50 pt-3"><p class="text-xs text-text/50">Hover to view â€¢ Works when not in input fields</p></div></div></div></div><div class="react-flow__panel mb-4 flex items-center bottom center" style="pointer-events: all;"><div class="flex items-center gap-1 rounded-2xl border border-gray-300 bg-white p-1 shadow-xl backdrop-blur-sm transition-all hover:shadow-2xl dark:border-gray-700 dark:bg-neutral-900/95"><button class="group relative flex h-10 w-10 items-center justify-center rounded-xl text-gray-700 transition-all hover:bg-gray-200 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-white/10 dark:hover:text-gray-100" title="Fit to View"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 256 256"><path d="M232,116h-4.72A100.21,100.21,0,0,0,140,28.72V24a12,12,0,0,0-24,0v4.72A100.21,100.21,0,0,0,28.72,116H24a12,12,0,0,0,0,24h4.72A100.21,100.21,0,0,0,116,227.28V232a12,12,0,0,0,24,0v-4.72A100.21,100.21,0,0,0,227.28,140H232a12,12,0,0,0,0-24Zm-92,87v-3a12,12,0,0,0-24,0v3a76.15,76.15,0,0,1-63-63h3a12,12,0,0,0,0-24H53a76.15,76.15,0,0,1,63-63v3a12,12,0,0,0,24,0V53a76.15,76.15,0,0,1,63,63h-3a12,12,0,0,0,0,24h3A76.15,76.15,0,0,1,140,203ZM128,84a44,44,0,1,0,44,44A44.05,44.05,0,0,0,128,84Zm0,64a20,20,0,1,1,20-20A20,20,0,0,1,128,148Z"></path></svg><span class="pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-gray-900 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 dark:bg-gray-100 dark:text-gray-900">Fit to View</span></button><button class="group relative flex h-10 w-10 items-center justify-center rounded-xl transition-all text-gray-700 hover:bg-gray-200 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-white/10 dark:hover:text-gray-100" title="Lock"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 256 256"><path d="M208,76H100V56a28,28,0,0,1,28-28c13.51,0,25.65,9.62,28.24,22.39a12,12,0,1,0,23.52-4.78C174.87,21.5,153.1,4,128,4A52.06,52.06,0,0,0,76,56V76H48A20,20,0,0,0,28,96V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V96A20,20,0,0,0,208,76Zm-4,128H52V100H204Zm-92-52a16,16,0,1,1,16,16A16,16,0,0,1,112,152Z"></path></svg><span class="pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-gray-900 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 dark:bg-gray-100 dark:text-gray-900">Lock</span></button><div class="mx-1 h-8 w-px bg-gray-300 dark:bg-white/5"></div><button class="group relative flex h-10 w-10 items-center justify-center rounded-xl transition-all text-gray-700 hover:bg-gray-200 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-white/10 dark:hover:text-gray-100" title="Undo (Cmd+Z)"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 256 256"><path d="M228,128a100,100,0,0,1-98.66,100H128a99.39,99.39,0,0,1-68.62-27.29,12,12,0,0,1,16.48-17.45,76,76,0,1,0-1.57-109c-.13.13-.25.25-.39.37L54.89,92H72a12,12,0,0,1,0,24H24a12,12,0,0,1-12-12V56a12,12,0,0,1,24,0V76.72L57.48,57.06A100,100,0,0,1,228,128Z"></path></svg><span class="pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-gray-900 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 dark:bg-gray-100 dark:text-gray-900">Undo (Cmd+Z)</span></button><button disabled="" class="group relative flex h-10 w-10 items-center justify-center rounded-xl transition-all cursor-not-allowed text-gray-400" title="Redo (Cmd+Shift+Z)"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 256 256"><path d="M244,56v48a12,12,0,0,1-12,12H184a12,12,0,1,1,0-24H201.1l-19-17.38c-.13-.12-.26-.24-.38-.37A76,76,0,1,0,127,204h1a75.53,75.53,0,0,0,52.15-20.72,12,12,0,0,1,16.49,17.45A99.45,99.45,0,0,1,128,228h-1.37A100,100,0,1,1,198.51,57.06L220,76.72V56a12,12,0,0,1,24,0Z"></path></svg><span class="pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-gray-900 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 dark:bg-gray-100 dark:text-gray-900">Redo (Cmd+Shift+Z)</span></button><div class="mx-1 h-8 w-px bg-gray-300 dark:bg-white/5"></div><button class="group relative flex h-10 w-10 items-center justify-center rounded-xl text-gray-700 transition-all hover:bg-gray-200 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-white/10 dark:hover:text-gray-100" title="Vertical Layout"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 256 256"><path d="M168.49,191.51a12,12,0,0,1,0,17l-32,32a12,12,0,0,1-17,0l-32-32a12,12,0,0,1,17-17L116,203V53L104.49,64.49a12,12,0,1,1-17-17l32-32a12,12,0,0,1,17,0l32,32a12,12,0,0,1-17,17L140,53V203l11.51-11.52A12,12,0,0,1,168.49,191.51Z"></path></svg><span class="pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-gray-900 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 dark:bg-gray-100 dark:text-gray-900">Vertical Layout</span></button><button class="group relative flex h-10 w-10 items-center justify-center rounded-xl text-gray-700 transition-all hover:bg-gray-200 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-white/10 dark:hover:text-gray-100" title="Horizontal Layout"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 256 256"><path d="M240.49,136.49l-32,32a12,12,0,0,1-17-17L203,140H53l11.52,11.51a12,12,0,0,1-17,17l-32-32a12,12,0,0,1,0-17l32-32a12,12,0,1,1,17,17L53,116H203l-11.52-11.51a12,12,0,0,1,17-17l32,32A12,12,0,0,1,240.49,136.49Z"></path></svg><span class="pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-gray-900 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 dark:bg-gray-100 dark:text-gray-900">Horizontal Layout</span></button><div class="mx-1 h-8 w-px bg-gray-300 dark:bg-white/5"></div><button class="group relative flex h-10 w-10 items-center justify-center rounded-xl text-gray-700 transition-all hover:bg-gray-200 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-white/10 dark:hover:text-gray-100" title="Zoom Out"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 256 256"><path d="M156,112a12,12,0,0,1-12,12H80a12,12,0,0,1,0-24h64A12,12,0,0,1,156,112Zm76.49,120.49a12,12,0,0,1-17,0L168,185a92.12,92.12,0,1,1,17-17l47.54,47.53A12,12,0,0,1,232.49,232.49ZM112,180a68,68,0,1,0-68-68A68.08,68.08,0,0,0,112,180Z"></path></svg><span class="pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-gray-900 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 dark:bg-gray-100 dark:text-gray-900">Zoom Out</span></button><button class="group relative flex h-10 w-10 items-center justify-center rounded-xl text-gray-700 transition-all hover:bg-gray-200 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-white/10 dark:hover:text-gray-100" title="Zoom In"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 256 256"><path d="M156,112a12,12,0,0,1-12,12H124v20a12,12,0,0,1-24,0V124H80a12,12,0,0,1,0-24h20V80a12,12,0,0,1,24,0v20h20A12,12,0,0,1,156,112Zm76.49,120.49a12,12,0,0,1-17,0L168,185a92.12,92.12,0,1,1,17-17l47.54,47.53A12,12,0,0,1,232.49,232.49ZM112,180a68,68,0,1,0-68-68A68.08,68.08,0,0,0,112,180Z"></path></svg><span class="pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-gray-900 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 dark:bg-gray-100 dark:text-gray-900">Zoom In</span></button><div class="mx-1 h-8 w-px bg-gray-300 dark:bg-white/5"></div><div class="relative inline-flex items-center rounded-xl bg-gray-200 dark:bg-white/5 p-0"><div class="absolute rounded-xl bg-gray-400/50 shadow-sm transition-all duration-200 ease-out dark:bg-white/10 dark:shadow-none h-9" style="width: 50%; left: 0px; transform: translateX(100%);"></div><button class="group relative z-10 flex items-center justify-center rounded-lg text-xs font-medium transition-colors h-9 w-14 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-100" title="Selection Mode"><span class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 256 256"><path d="M224.15,179.17l-46.83-46.82,37.93-13.51.76-.3a20,20,0,0,0-1.76-37.27L54.16,29A20,20,0,0,0,29,54.16L81.27,214.24A20,20,0,0,0,118.54,216c.11-.25.21-.5.3-.76l13.51-37.92,46.83,46.82a20,20,0,0,0,28.28,0l16.69-16.68A20,20,0,0,0,224.15,179.17Zm-30.83,25.17-48.48-48.48A20,20,0,0,0,130.7,150a20.66,20.66,0,0,0-3.74.35A20,20,0,0,0,112.35,162c-.11.25-.21.5-.3.76L100.4,195.5,54.29,54.29l141.21,46.1-32.71,11.66c-.26.09-.51.19-.76.3a20,20,0,0,0-6.17,32.48h0l48.49,48.48Z"></path></svg></span><span></span><span class="pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-gray-900 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 dark:bg-gray-100 dark:text-gray-900">Selection Mode</span></button><button class="group relative z-10 flex items-center justify-center rounded-lg text-xs font-medium transition-colors h-9 w-14 text-gray-900 dark:text-gray-100" title="Drag Mode"><span class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 256 256"><path d="M188,44a32,32,0,0,0-8,1V44a32,32,0,0,0-60.79-14A32,32,0,0,0,76,60v50.83a32,32,0,0,0-52,36.7C55.82,214.6,75.35,244,128,244a92.1,92.1,0,0,0,92-92V76A32,32,0,0,0,188,44Zm8,108a68.08,68.08,0,0,1-68,68c-35.83,0-49.71-14-82.48-83.14-.14-.29-.29-.58-.45-.86a8,8,0,0,1,13.85-8l.21.35,18.68,30A12,12,0,0,0,100,152V60a8,8,0,0,1,16,0v60a12,12,0,0,0,24,0V44a8,8,0,0,1,16,0v76a12,12,0,0,0,24,0V76a8,8,0,0,1,16,0Z"></path></svg></span><span></span><span class="pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-gray-900 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 dark:bg-gray-100 dark:text-gray-900">Drag Mode</span></button></div></div></div><div id="react-flow__node-desc-1" style="display: none;">Press enter or space to select a node.You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel. </div><div id="react-flow__edge-desc-1" style="display: none;">Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.</div><div id="react-flow__aria-live-1" aria-live="assertive" aria-atomic="true" style="position: absolute; width: 1px; height: 1px; margin: -1px; border: 0px; padding: 0px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); clip-path: inset(100%);"></div></div></div></div><div class="flex h-full flex-col overflow-hidden border-border bg-white shadow-lg transition-all duration-300 ease-in-out dark:bg-background w-0 border-0"><div class="flex h-full w-[30rem] flex-col invisible"><div class="flex items-center justify-between border-b border-gray-200 bg-gray-50 px-4 py-3 dark:border-border dark:bg-background"><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Call Transcript</h3><button class="rounded-md p-1.5 text-gray-500 transition-colors hover:text-text dark:text-gray-400 dark:hover:text-text" aria-label="Close transcript"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"></path></svg></button></div><div class="flex-1 overflow-y-auto bg-gray-50 p-4 [-ms-overflow-style:none] [scrollbar-width:none] dark:bg-background [&amp;::-webkit-scrollbar]:hidden"><div class="flex h-full items-center justify-center"><p class="text-sm text-gray-500 dark:text-gray-400">Waiting for conversation...</p></div></div></div></div></div></div></div></div></div><span id="__chakra_env" hidden=""></span></div>

  <!-- LinkedIn Tracking -->
  <script type="text/javascript" crossorigin="anonymous" src="./Vapi - Dashboard_files/config.js.download"></script><script type="text/javascript">
    _linkedin_partner_id = "6951196";
    window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];
    window._linkedin_data_partner_ids.push(_linkedin_partner_id);
  </script>
  <script type="text/javascript">
    (function (l) {
      if (!l) {
        window.lintrk = function (a, b) { window.lintrk.q.push([a, b]) };
        window.lintrk.q = []
      }
      var s = document.getElementsByTagName("script")[0];
      var b = document.createElement("script");
      b.type = "text/javascript"; b.async = true;
      b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";
      s.parentNode.insertBefore(b, s);
    })(window.lintrk);
  </script>
  <noscript>
    <img height="1" width="1" style="display: none" alt=""
      src="https://px.ads.linkedin.com/collect/?pid=6951196&fmt=gif" />
  </noscript>
<!-- Cloudflare Pages Analytics --><script defer="" src="./Vapi - Dashboard_files/beacon.min.js.download" data-cf-beacon="{&quot;token&quot;: &quot;ccd88786cc7747f69a2f65906700bd8e&quot;}"></script><!-- Cloudflare Pages Analytics --><script defer="" src="./Vapi - Dashboard_files/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon="{&quot;version&quot;:&quot;2024.11.0&quot;,&quot;token&quot;:&quot;a50dac10243542a4bf7c37c54b309a20&quot;,&quot;server_timing&quot;:{&quot;name&quot;:{&quot;cfCacheStatus&quot;:true,&quot;cfEdge&quot;:true,&quot;cfExtPri&quot;:true,&quot;cfL4&quot;:true,&quot;cfOrigin&quot;:true,&quot;cfSpeedBrain&quot;:true},&quot;location_startswith&quot;:null}}" crossorigin="anonymous"></script>


<div class="chakra-portal"><div role="region" aria-live="polite" aria-label="Notifications-top" id="chakra-toast-manager-top" style="position: fixed; z-index: var(--toast-z-index, 5500); pointer-events: none; display: flex; flex-direction: column; margin: 0px auto; top: env(safe-area-inset-top, 0px); right: env(safe-area-inset-right, 0px); left: env(safe-area-inset-left, 0px);"></div><div role="region" aria-live="polite" aria-label="Notifications-top-left" id="chakra-toast-manager-top-left" style="position: fixed; z-index: var(--toast-z-index, 5500); pointer-events: none; display: flex; flex-direction: column; top: env(safe-area-inset-top, 0px); left: env(safe-area-inset-left, 0px);"></div><div role="region" aria-live="polite" aria-label="Notifications-top-right" id="chakra-toast-manager-top-right" style="position: fixed; z-index: var(--toast-z-index, 5500); pointer-events: none; display: flex; flex-direction: column; top: env(safe-area-inset-top, 0px); right: env(safe-area-inset-right, 0px);"></div><div role="region" aria-live="polite" aria-label="Notifications-bottom-left" id="chakra-toast-manager-bottom-left" style="position: fixed; z-index: var(--toast-z-index, 5500); pointer-events: none; display: flex; flex-direction: column; bottom: env(safe-area-inset-bottom, 0px); left: env(safe-area-inset-left, 0px);"></div><div role="region" aria-live="polite" aria-label="Notifications-bottom" id="chakra-toast-manager-bottom" style="position: fixed; z-index: var(--toast-z-index, 5500); pointer-events: none; display: flex; flex-direction: column; margin: 0px auto; bottom: env(safe-area-inset-bottom, 0px); right: env(safe-area-inset-right, 0px); left: env(safe-area-inset-left, 0px);"></div><div role="region" aria-live="polite" aria-label="Notifications-bottom-right" id="chakra-toast-manager-bottom-right" style="position: fixed; z-index: var(--toast-z-index, 5500); pointer-events: none; display: flex; flex-direction: column; bottom: env(safe-area-inset-bottom, 0px); right: env(safe-area-inset-right, 0px);"></div></div><iframe name="__privateStripeController7961" frameborder="0" allowtransparency="true" scrolling="no" role="presentation" allow="payment *" src="./Vapi - Dashboard_files/controller-with-preconnect-25c8fc699c34836f22f6dd25704c6d48.html" aria-hidden="true" tabindex="-1" style="border: none !important; margin: 0px !important; padding: 0px !important; width: 1px !important; min-width: 100% !important; overflow: hidden !important; display: block !important; visibility: hidden !important; position: fixed !important; height: 1px !important; pointer-events: none !important; user-select: none !important;"></iframe><div id="F826B9E2_3A6F_033A_577A_216B028F5838"></div><iframe name="__privateStripeMetricsController7960" frameborder="0" allowtransparency="true" scrolling="no" role="presentation" allow="payment *" src="./Vapi - Dashboard_files/m-outer-3437aaddcdf6922d623e172c2d6f9278.html" aria-hidden="true" tabindex="-1" style="border: none !important; margin: 0px !important; padding: 0px !important; width: 1px !important; min-width: 100% !important; overflow: hidden !important; display: block !important; visibility: hidden !important; position: fixed !important; height: 1px !important; pointer-events: none !important; user-select: none !important;"></iframe><script>
        var dodgeballRequire = (function () {
          var require = {};
          /** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 */
var requirejs,require,define;!function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){var i;if(e)for(i=0;i<e.length&&(!e[i]||!t(e[i],i,e));i+=1);}function eachReverse(e,t){var i;if(e)for(i=e.length-1;-1<i&&(!e[i]||!t(e[i],i,e));i-=1);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var i;for(i in e)if(hasProp(e,i)&&t(e[i],i))break}function mixin(i,e,r,n){return e&&eachProp(e,function(e,t){!r&&hasProp(i,t)||(!n||"object"!=typeof e||!e||isArray(e)||isFunction(e)||e instanceof RegExp?i[t]=e:(i[t]||(i[t]={}),mixin(i[t],e,r,n)))}),i}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,i,r){var n=new Error(t+"\nhttps://requirejs.org/docs/errors.html#"+e);return n.requireType=e,n.requireModules=r,i&&(n.originalError=i),n}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,i,r){var n,o,a=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=i,i=r):e=[]),o&&o.context&&(a=o.context),(n=getOwn(contexts,a))||(n=contexts[a]=req.s.newContext(a)),o&&n.configure(o),n.require(e,t,i)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,i){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(t,i,r){var e,n=t&&t.config||{};if(isBrowser)return(e=req.createNode(n,i,r)).setAttribute("data-requirecontext",t.contextName),e.setAttribute("data-requiremodule",i),!e.attachEvent||e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0||isOpera?(e.addEventListener("load",t.onScriptLoad,!1),e.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,e.attachEvent("onreadystatechange",t.onScriptLoad)),e.src=r,n.onNodeCreated&&n.onNodeCreated(e,n,i,r),currentlyAddingScript=e,baseElement?head.insertBefore(e,baseElement):head.appendChild(e),currentlyAddingScript=null,e;if(isWebWorker)try{setTimeout(function(){},0),importScripts(r),t.completeLoad(i)}catch(e){t.onError(makeError("importscripts","importScripts failed for "+i+" at "+r,e,[i]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(mainScript=(src=mainScript.split("/")).pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,i,t){var r,n;"string"!=typeof e&&(t=i,i=e,e=null),isArray(i)||(t=i,i=null),!i&&isFunction(t)&&(i=[],t.length&&(t.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,t){i.push(t)}),i=(1===t.length?["require"]:["require","exports","module"]).concat(i))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript())&&(e||(e=r.getAttribute("data-requiremodule")),n=contexts[r.getAttribute("data-requirecontext")]),n?(n.defQueue.push([e,i,t]),n.defQueueMap[e]=!0):globalDefQueue.push([e,i,t])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(u){var i,e,l,c,d,g={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},p={},f={},r={},h=[],m={},n={},v={},x=1,b=1;function q(e,t,i){var r,n,o,a,s,u,c,d,p,f,l=t&&t.split("/"),h=g.map,m=h&&h["*"];if(e&&(u=(e=e.split("/")).length-1,g.nodeIdCompat&&jsSuffixRegExp.test(e[u])&&(e[u]=e[u].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&l&&(e=l.slice(0,l.length-1).concat(e)),function(e){var t,i;for(t=0;t<e.length;t++)if("."===(i=e[t]))e.splice(t,1),t-=1;else if(".."===i){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;0<t&&(e.splice(t-1,2),t-=2)}}(e),e=e.join("/")),i&&h&&(l||m)){e:for(o=(n=e.split("/")).length;0<o;o-=1){if(s=n.slice(0,o).join("/"),l)for(a=l.length;0<a;a-=1)if((r=getOwn(h,l.slice(0,a).join("/")))&&(r=getOwn(r,s))){c=r,d=o;break e}!p&&m&&getOwn(m,s)&&(p=getOwn(m,s),f=o)}!c&&p&&(c=p,d=f),c&&(n.splice(0,d,c),e=n.join("/"))}return getOwn(g.pkgs,e)||e}function E(t){isBrowser&&each(scripts(),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===l.contextName)return e.parentNode.removeChild(e),!0})}function w(e){var t=getOwn(g.paths,e);if(t&&isArray(t)&&1<t.length)return t.shift(),l.require.undef(e),l.makeRequire(null,{skipMap:!0})([e]),!0}function y(e){var t,i=e?e.indexOf("!"):-1;return-1<i&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function S(e,t,i,r){var n,o,a,s,u=null,c=t?t.name:null,d=e,p=!0,f="";return e||(p=!1,e="_@r"+(x+=1)),u=(s=y(e))[0],e=s[1],u&&(u=q(u,c,r),o=getOwn(m,u)),e&&(u?f=i?e:o&&o.normalize?o.normalize(e,function(e){return q(e,c,r)}):-1===e.indexOf("!")?q(e,c,r):e:(u=(s=y(f=q(e,c,r)))[0],f=s[1],i=!0,n=l.nameToUrl(f))),{prefix:u,name:f,parentMap:t,unnormalized:!!(a=!u||o||i?"":"_unnormalized"+(b+=1)),url:n,originalName:d,isDefine:p,id:(u?u+"!"+f:f)+a}}function k(e){var t=e.id,i=getOwn(p,t);return i||(i=p[t]=new l.Module(e)),i}function M(e,t,i){var r=e.id,n=getOwn(p,r);!hasProp(m,r)||n&&!n.defineEmitComplete?(n=k(e)).error&&"error"===t?i(n.error):n.on(t,i):"defined"===t&&i(m[r])}function O(i,e){var t=i.requireModules,r=!1;e?e(i):(each(t,function(e){var t=getOwn(p,e);t&&(t.error=i,t.events.error&&(r=!0,t.emit("error",i)))}),r||req.onError(i))}function j(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(l.defQueueMap[t]=!0),h.push(e)}),globalDefQueue=[])}function P(e){delete p[e],delete f[e]}function R(){var e,r,t=1e3*g.waitSeconds,n=t&&l.startTime+t<(new Date).getTime(),o=[],a=[],s=!1,u=!0;if(!i){if(i=!0,eachProp(f,function(e){var t=e.map,i=t.id;if(e.enabled&&(t.isDefine||a.push(e),!e.error))if(!e.inited&&n)w(i)?s=r=!0:(o.push(i),E(i));else if(!e.inited&&e.fetched&&t.isDefine&&(s=!0,!t.prefix))return u=!1}),n&&o.length)return(e=makeError("timeout","Load timeout for modules: "+o,null,o)).contextName=l.contextName,O(e);u&&each(a,function(e){!function n(o,a,s){var e=o.map.id;o.error?o.emit("error",o.error):(a[e]=!0,each(o.depMaps,function(e,t){var i=e.id,r=getOwn(p,i);!r||o.depMatched[t]||s[i]||(getOwn(a,i)?(o.defineDep(t,m[i]),o.check()):n(r,a,s))}),s[e]=!0)}(e,{},{})}),n&&!r||!s||!isBrowser&&!isWebWorker||d||(d=setTimeout(function(){d=0,R()},50)),i=!1}}function a(e){hasProp(m,e[0])||k(S(e[0],null,!0)).init(e[1],e[2])}function o(e,t,i,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(i,t,!1)}function s(e){var t=e.currentTarget||e.srcElement;return o(t,l.onScriptLoad,"load","onreadystatechange"),o(t,l.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function T(){var e;for(j();h.length;){if(null===(e=h.shift())[0])return O(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));a(e)}l.defQueueMap={}}return c={require:function(e){return e.require?e.require:e.require=l.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?m[e.map.id]=e.exports:e.exports=m[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(g.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},(e=function(e){this.events=getOwn(r,e.id)||{},this.map=e,this.shim=getOwn(g.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,t,i,r){r=r||{},this.inited||(this.factory=t,i?this.on("error",i):this.events.error&&(i=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=i,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,l.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();l.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;n[e]||(n[e]=!0,l.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var t,e,i=this.map.id,r=this.depExports,n=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{n=l.execCb(i,o,r,n)}catch(e){t=e}else n=l.execCb(i,o,r,n);if(this.map.isDefine&&void 0===n&&((e=this.module)?n=e.exports:this.usingExports&&(n=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",O(this.error=t)}else n=o;if(this.exports=n,this.map.isDefine&&!this.ignore&&(m[i]=n,req.onResourceLoad)){var a=[];each(this.depMaps,function(e){a.push(e.normalizedMap||e)}),req.onResourceLoad(l,this.map,a)}P(i),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(l.defQueueMap,i)||this.fetch()}},callPlugin:function(){var u=this.map,c=u.id,e=S(u.prefix);this.depMaps.push(e),M(e,"defined",bind(this,function(e){var o,t,i,r=getOwn(v,this.map.id),n=this.map.name,a=this.map.parentMap?this.map.parentMap.name:null,s=l.makeRequire(u.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(e.normalize&&(n=e.normalize(n,function(e){return q(e,a,!0)})||""),M(t=S(u.prefix+"!"+n,this.map.parentMap,!0),"defined",bind(this,function(e){this.map.normalizedMap=t,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((i=getOwn(p,t.id))&&(this.depMaps.push(t),this.events.error&&i.on("error",bind(this,function(e){this.emit("error",e)})),i.enable()))):r?(this.map.url=l.nameToUrl(r),void this.load()):((o=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=bind(this,function(e){this.inited=!0,(this.error=e).requireModules=[c],eachProp(p,function(e){0===e.map.id.indexOf(c+"_unnormalized")&&P(e.map.id)}),O(e)}),o.fromText=bind(this,function(e,t){var i=u.name,r=S(i),n=useInteractive;t&&(e=t),n&&(useInteractive=!1),k(r),hasProp(g.config,c)&&(g.config[i]=g.config[c]);try{req.exec(e)}catch(e){return O(makeError("fromtexteval","fromText eval for "+c+" failed: "+e,e,[c]))}n&&(useInteractive=!0),this.depMaps.push(r),l.completeLoad(i),s([i],o)}),void e.load(u.name,s,o,g))})),l.enable(e,this),this.pluginMaps[e.id]=e},enable:function(){(f[this.map.id]=this).enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var i,r,n;if("string"==typeof e){if(e=S(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,n=getOwn(c,e.id))return void(this.depExports[t]=n(this));this.depCount+=1,M(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?M(e,"error",bind(this,this.errback)):this.events.error&&M(e,"error",bind(this,function(e){this.emit("error",e)}))}i=e.id,r=p[i],hasProp(c,i)||!r||r.enabled||l.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(p,e.id);t&&!t.enabled&&l.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var i=this.events[e];i||(i=this.events[e]=[]),i.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},(l={config:g,contextName:u,registry:p,defined:m,urlFetched:n,defQueue:h,defQueueMap:{},Module:e,makeModuleMap:S,nextTick:req.nextTick,onError:O,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var i=e.urlArgs;e.urlArgs=function(e,t){return(-1===t.indexOf("?")?"?":"&")+i}}var r=g.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(g[t]||(g[t]={}),mixin(g[t],e,!0,!0)):g[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(v[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=l.makeShimExports(e)),r[t]=e}),g.shim=r),e.packages&&each(e.packages,function(e){var t;t=(e="string"==typeof e?{name:e}:e).name,e.location&&(g.paths[t]=e.location),g.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(p,function(e,t){e.inited||e.map.unnormalized||(e.map=S(t,null,!0))}),(e.deps||e.callback)&&l.require(e.deps||[],e.callback)},makeShimExports:function(t){return function(){var e;return t.init&&(e=t.init.apply(global,arguments)),e||t.exports&&getGlobal(t.exports)}},makeRequire:function(o,a){function s(e,t,i){var r,n;return a.enableBuildCallback&&t&&isFunction(t)&&(t.__requireJsBuild=!0),"string"==typeof e?isFunction(t)?O(makeError("requireargs","Invalid require call"),i):o&&hasProp(c,e)?c[e](p[o.id]):req.get?req.get(l,e,o,s):(r=S(e,o,!1,!0).id,hasProp(m,r)?m[r]:O(makeError("notloaded",'Module name "'+r+'" has not been loaded yet for context: '+u+(o?"":". Use require([])")))):(T(),l.nextTick(function(){T(),(n=k(S(null,o))).skipMap=a.skipMap,n.init(e,t,i,{enabled:!0}),R()}),s)}return a=a||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var t,i=e.lastIndexOf("."),r=e.split("/")[0];return-1!==i&&(!("."===r||".."===r)||1<i)&&(t=e.substring(i,e.length),e=e.substring(0,i)),l.nameToUrl(q(e,o&&o.id,!0),t,!0)},defined:function(e){return hasProp(m,S(e,o,!1,!0).id)},specified:function(e){return e=S(e,o,!1,!0).id,hasProp(m,e)||hasProp(p,e)}}),o||(s.undef=function(i){j();var e=S(i,o,!0),t=getOwn(p,i);t.undefed=!0,E(i),delete m[i],delete n[e.url],delete r[i],eachReverse(h,function(e,t){e[0]===i&&h.splice(t,1)}),delete l.defQueueMap[i],t&&(t.events.defined&&(r[i]=t.events),P(i))}),s},enable:function(e){getOwn(p,e.id)&&k(e).enable()},completeLoad:function(e){var t,i,r,n=getOwn(g.shim,e)||{},o=n.exports;for(j();h.length;){if(null===(i=h.shift())[0]){if(i[0]=e,t)break;t=!0}else i[0]===e&&(t=!0);a(i)}if(l.defQueueMap={},r=getOwn(p,e),!t&&!hasProp(m,e)&&r&&!r.inited){if(!(!g.enforceDefine||o&&getGlobal(o)))return w(e)?void 0:O(makeError("nodefine","No define call for "+e,null,[e]));a([e,n.deps||[],n.exportsFn])}R()},nameToUrl:function(e,t,i){var r,n,o,a,s,u,c=getOwn(g.pkgs,e);if(c&&(e=c),u=getOwn(v,e))return l.nameToUrl(u,t,i);if(req.jsExtRegExp.test(e))a=e+(t||"");else{for(r=g.paths,o=(n=e.split("/")).length;0<o;o-=1)if(s=getOwn(r,n.slice(0,o).join("/"))){isArray(s)&&(s=s[0]),n.splice(0,o,s);break}a=n.join("/"),a=("/"===(a+=t||(/^data\:|^blob\:|\?/.test(a)||i?"":".js")).charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":g.baseUrl)+a}return g.urlArgs&&!/^blob\:/.test(a)?a+g.urlArgs(e,a):a},load:function(e,t){req.load(l,e,t)},execCb:function(e,t,i,r){return t.apply(r,i)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=s(e);l.completeLoad(t.id)}},onScriptError:function(e){var i=s(e);if(!w(i.id)){var r=[];return eachProp(p,function(e,t){0!==t.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===i.id)return r.push(t),!0})}),O(makeError("scripterror",'Script error for "'+i.id+(r.length?'", needed by: '+r.join(", "):'"'),e,[i.id]))}}}).require=l.makeRequire(),l}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState||eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript}}(this,"undefined"==typeof setTimeout?void 0:setTimeout);
          return {require, define, requirejs};
        }());
      </script><script>(function ({require, define, requirejs}) {var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
define("common/logger", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Logger = exports.LogEntry = exports.Severity = exports.LogLevel = void 0;
    var LogLevel;
    (function (LogLevel) {
        LogLevel["TRACE"] = "TRACE";
        LogLevel["INFO"] = "INFO";
        LogLevel["ERROR"] = "ERROR";
        LogLevel["NONE"] = "NONE";
    })(LogLevel = exports.LogLevel || (exports.LogLevel = {}));
    var Severity;
    (function (Severity) {
        Severity[Severity["TRACE"] = 0] = "TRACE";
        Severity[Severity["INFO"] = 1] = "INFO";
        Severity[Severity["ERROR"] = 2] = "ERROR";
        Severity[Severity["NONE"] = 3] = "NONE";
    })(Severity = exports.Severity || (exports.Severity = {}));
    var LogEntry = (function () {
        function LogEntry(message, severity, error) {
            if (severity === void 0) { severity = Severity.INFO; }
            if (error === void 0) { error = null; }
            this.severity = Severity.INFO;
            this.message = "";
            this.date = new Date();
            this.message = message;
            this.severity = severity;
            this.error = error;
        }
        LogEntry.prototype.setParameters = function (parameters) {
            this.parameters = parameters;
            return this;
        };
        LogEntry.prototype.setParameter = function (key, value) {
            var _a;
            this.parameters = (_a = this.parameters) !== null && _a !== void 0 ? _a : {};
            this.parameters[key] = value;
            return this;
        };
        LogEntry.prototype.setSeverity = function (severity) {
            this.severity = severity;
            return this;
        };
        LogEntry.prototype.setError = function (error) {
            this.error = error;
            return this;
        };
        LogEntry.prototype.log = function () {
            return Logger.log(this);
        };
        return LogEntry;
    }());
    exports.LogEntry = LogEntry;
    var Logger = (function () {
        function Logger() {
        }
        Logger.info = function (message, parameters) {
            return new LogEntry(message, Severity.INFO).setParameters(parameters);
        };
        Logger.trace = function (message, parameters) {
            return new LogEntry(message, Severity.TRACE).setParameters(parameters);
        };
        Logger.error = function (message, error) {
            return new LogEntry(message, Severity.ERROR).setError(error);
        };
        Logger.formatError = function (error) {
            if (!error) {
                return "";
            }
            if (error instanceof Error) {
                var transformed = error;
                return "\n            message: ".concat(transformed.message, "\n            stack: ").concat(transformed.stack, "\n            name: ").concat(transformed.name);
            }
            try {
                return JSON.stringify(error.toString(), null, 2);
            }
            catch (e) {
                return error.toString();
            }
        };
        Logger.log = function (logEvent) {
            if (logEvent.severity.valueOf() >= Logger.filterLevel.valueOf()) {
                var logResults = "Dodgeball SDK:\n        Severity: ".concat(Severity[logEvent.severity], "\n        Date: ").concat(logEvent.date, "\n        Message: ").concat(logEvent.message);
                if (logEvent.parameters) {
                    var parametersString_1 = "\n        Parameters:\n\r";
                    Object.keys(logEvent.parameters).forEach(function (key) {
                        if (typeof logEvent.parameters[key] === "object" ||
                            Array.isArray(logEvent.parameters[key])) {
                            parametersString_1 += "".concat(key, ": ").concat(JSON.stringify(logEvent.parameters[key], null, 2), "\n            ");
                        }
                        else {
                            parametersString_1 = "".concat(parametersString_1, "\n                      ").concat(key, ": ").concat(logEvent.parameters[key]);
                        }
                    });
                    logResults = "".concat(logResults, " ").concat(parametersString_1);
                }
                if (logEvent.severity === Severity.ERROR) {
                    console.log(logResults, logEvent.error);
                }
                else {
                    console.log(logResults);
                }
            }
        };
        Logger.filterLevel = Severity.INFO;
        return Logger;
    }());
    exports.Logger = Logger;
});
define("common/types", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.DodgeballApiVersion = exports.ConfigurableFontWeight = exports.IntegrationPurpose = exports.systemError = exports.VerificationErrorType = exports.VerificationOutcome = exports.VerificationStatus = void 0;
    var VerificationStatus;
    (function (VerificationStatus) {
        VerificationStatus["PENDING"] = "PENDING";
        VerificationStatus["BLOCKED"] = "BLOCKED";
        VerificationStatus["COMPLETE"] = "COMPLETE";
        VerificationStatus["FAILED"] = "FAILED";
    })(VerificationStatus = exports.VerificationStatus || (exports.VerificationStatus = {}));
    var VerificationOutcome;
    (function (VerificationOutcome) {
        VerificationOutcome["APPROVED"] = "APPROVED";
        VerificationOutcome["DENIED"] = "DENIED";
        VerificationOutcome["PENDING"] = "PENDING";
        VerificationOutcome["ERROR"] = "ERROR";
    })(VerificationOutcome = exports.VerificationOutcome || (exports.VerificationOutcome = {}));
    var VerificationErrorType;
    (function (VerificationErrorType) {
        VerificationErrorType["SYSTEM"] = "SYSTEM";
        VerificationErrorType["TIMEOUT"] = "TIMEOUT";
        VerificationErrorType["CANCELLED"] = "CANCELLED";
    })(VerificationErrorType = exports.VerificationErrorType || (exports.VerificationErrorType = {}));
    var systemError = function (errorText) { return ({
        errorType: VerificationErrorType.SYSTEM,
        details: errorText,
    }); };
    exports.systemError = systemError;
    var IntegrationPurpose;
    (function (IntegrationPurpose) {
        IntegrationPurpose["IDENTIFY"] = "IDENTIFY";
        IntegrationPurpose["OBSERVE"] = "OBSERVE";
        IntegrationPurpose["QUALIFY"] = "QUALIFY";
        IntegrationPurpose["EXECUTE"] = "EXECUTE";
    })(IntegrationPurpose = exports.IntegrationPurpose || (exports.IntegrationPurpose = {}));
    var ConfigurableFontWeight;
    (function (ConfigurableFontWeight) {
        ConfigurableFontWeight["LIGHT"] = "300";
        ConfigurableFontWeight["REGULAR"] = "400";
        ConfigurableFontWeight["MEDIUM"] = "500";
        ConfigurableFontWeight["SEMI_BOLD"] = "600";
        ConfigurableFontWeight["BOLD"] = "700";
    })(ConfigurableFontWeight = exports.ConfigurableFontWeight || (exports.ConfigurableFontWeight = {}));
    var DodgeballApiVersion;
    (function (DodgeballApiVersion) {
        DodgeballApiVersion["v1"] = "v1";
    })(DodgeballApiVersion = exports.DodgeballApiVersion || (exports.DodgeballApiVersion = {}));
});
define("common/Integration", ["require", "exports", "common/logger"], function (require, exports, logger_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var loadScript = function (url) { return __awaiter(void 0, void 0, void 0, function () {
        return __generator(this, function (_a) {
            return [2, new Promise(function (resolve, reject) {
                    try {
                        if (!url) {
                            throw new Error("No URL provided for integration script");
                        }
                        if (typeof document !== "undefined") {
                            var script = document.createElement("script");
                            script.src = url;
                            script.async = true;
                            script.onload = function () {
                                resolve();
                            };
                            script.onerror = function (error) {
                                logger_1.Logger.error("Could not load integration script", error).log();
                                resolve();
                            };
                            document.body.appendChild(script);
                        }
                    }
                    catch (error) {
                        logger_1.Logger.error("Could not load integration script", error).log();
                        resolve();
                    }
                })];
        });
    }); };
    var Integration = (function () {
        function Integration(_a) {
            var config = _a.config, url = _a.url, name = _a.name, purposes = _a.purposes, requestId = _a.requestId, parentContext = _a.parentContext;
            this.config = {};
            this.url = "";
            this.purposes = [];
            this.dodgeballRequestId = "";
            this.config = config;
            this.url = url;
            this.name = name;
            this.purposes = purposes;
            this.dodgeballRequestId = requestId;
            this.parentContext = parentContext;
        }
        Integration.prototype.load = function () {
            return __awaiter(this, void 0, void 0, function () {
                var error_1;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            _a.trys.push([0, 4, , 5]);
                            logger_1.Logger.info("Loading Integration: ".concat(this.name)).log();
                            if (!!this.url) return [3, 2];
                            logger_1.Logger.info("No URL provided for integration: ".concat(this.name)).log();
                            return [4, Promise.resolve()];
                        case 1: return [2, _a.sent()];
                        case 2: return [4, loadScript(this.url)];
                        case 3: return [2, _a.sent()];
                        case 4:
                            error_1 = _a.sent();
                            logger_1.Logger.error("Could not load Javascript for integration: ".concat(this.name), error_1).log();
                            return [2, Promise.reject(error_1)];
                        case 5: return [2];
                    }
                });
            });
        };
        Integration.prototype._resetConfig = function (_a) {
            var url = _a.url, config = _a.config, requestId = _a.requestId, _b = _a.purposes, purposes = _b === void 0 ? [] : _b;
            this.url = url;
            this.config = config;
            this.dodgeballRequestId = requestId;
            if (purposes.length > 0) {
                this.purposes = purposes;
            }
        };
        return Integration;
    }());
    exports.default = Integration;
});
define("common/utilities", ["require", "exports", "common/logger"], function (require, exports, logger_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.constructBaseApiHeaders = exports.constructApiUrl = exports.makeRequest = exports.getUUID = exports.popupModal = exports.getStylesBasedOnWidth = exports.createEl = exports.setStyles = exports.formatStyles = exports.cleanupNodes = void 0;
    var cleanupNodes = function (parentNode, childNode) { return __awaiter(void 0, void 0, void 0, function () {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4, parentNode.removeChild(childNode)];
                case 1:
                    _a.sent();
                    return [2];
            }
        });
    }); };
    exports.cleanupNodes = cleanupNodes;
    var formatStyles = function (styleObj) {
        var styles = "";
        Object.keys(styleObj).forEach(function (styleName) {
            styles += "".concat(styleName, ":").concat(styleObj[styleName], ";");
        });
        return styles;
    };
    exports.formatStyles = formatStyles;
    var setStyles = function (el, styleObj) {
        el.style.cssText = (0, exports.formatStyles)(styleObj);
        return el;
    };
    exports.setStyles = setStyles;
    var createEl = function (elType, styleObj) {
        var el = document.createElement(elType);
        (0, exports.setStyles)(el, styleObj);
        return el;
    };
    exports.createEl = createEl;
    var getStylesBasedOnWidth = function (styleGroups) {
        var width = window.innerWidth;
        var styles = {};
        Object.keys(styleGroups).forEach(function (maxWidth) {
            var parsedWidth = Number(maxWidth.replace("px", ""));
            if (width <= parsedWidth) {
                styles = styleGroups[maxWidth];
            }
        });
        return styles;
    };
    exports.getStylesBasedOnWidth = getStylesBasedOnWidth;
    var popupModal = function (modalAccessor, formatter, config) { return __awaiter(void 0, void 0, void 0, function () {
        var modal, innerModal, error_2;
        var _a, _b, _c;
        return __generator(this, function (_d) {
            switch (_d.label) {
                case 0:
                    _d.trys.push([0, 3, , 4]);
                    return [4, modalAccessor()];
                case 1:
                    modal = _d.sent();
                    modal = (0, exports.setStyles)(modal, {
                        display: "flex",
                        "justify-content": "center",
                        "align-items": "center",
                        position: "fixed",
                        top: "0px",
                        left: "0px",
                        right: "0px",
                        bottom: "0px",
                        "z-index": (_a = config === null || config === void 0 ? void 0 : config.modalZIndex) !== null && _a !== void 0 ? _a : "2147483000",
                        "background-color": "rgba(0, 0, 0, 0.3)",
                        overflow: "scroll",
                    });
                    return [4, document.createElement("div")];
                case 2:
                    innerModal = _d.sent();
                    (0, exports.setStyles)(innerModal, __assign({ "justify-self": "center", padding: "0px", "background-color": config.modalBackgroundColor, "border-radius": config.modalBorderRadius, "max-width": (_b = config.maxWidth) !== null && _b !== void 0 ? _b : "600px", "min-width": (_c = config.minWidth) !== null && _c !== void 0 ? _c : "600px", "margin-left": "10px", "margin-right": "10px" }, (0, exports.getStylesBasedOnWidth)({
                        "620px": {
                            "min-width": "inherit",
                        },
                    })));
                    if (formatter) {
                        formatter(innerModal, modal);
                    }
                    modal.appendChild(innerModal);
                    document.body.appendChild(modal);
                    return [3, 4];
                case 3:
                    error_2 = _d.sent();
                    logger_2.Logger.error("MFA - popupModal(): error", error_2).log();
                    return [3, 4];
                case 4: return [2];
            }
        });
    }); };
    exports.popupModal = popupModal;
    var getUUID = function () {
        return (String(1e7) + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {
            return (Number(c) ^ (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (Number(c) / 4)))).toString(16);
        });
    };
    exports.getUUID = getUUID;
    var makeRequest = function (_a) {
        var url = _a.url, method = _a.method, headers = _a.headers, data = _a.data;
        return __awaiter(void 0, void 0, void 0, function () {
            var response, error_3;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _b.trys.push([0, 3, , 4]);
                        return [4, fetch(url, {
                                method: method,
                                headers: __assign(__assign({}, headers), { Accept: "application/json", "Content-Type": "application/json" }),
                                body: JSON.stringify(data),
                            })];
                    case 1:
                        response = _b.sent();
                        return [4, response.json()];
                    case 2: return [2, _b.sent()];
                    case 3:
                        error_3 = _b.sent();
                        logger_2.Logger.error("Request error: ", error_3).log();
                        return [2, error_3];
                    case 4: return [2];
                }
            });
        });
    };
    exports.makeRequest = makeRequest;
    var constructApiUrl = function (url, version) {
        if (url.charAt(url.length - 1) !== "/") {
            url += "/";
        }
        return "".concat(url).concat(version, "/");
    };
    exports.constructApiUrl = constructApiUrl;
    var constructBaseApiHeaders = function (_a) {
        var token = _a.token, sourceToken = _a.sourceToken, sessionId = _a.sessionId, userId = _a.userId;
        var headers = {
            "Dodgeball-Public-Key": "".concat(token),
        };
        if (sourceToken) {
            headers["Dodgeball-Source-Token"] = sourceToken;
        }
        if (sessionId) {
            headers["Dodgeball-Session-Id"] = sessionId;
        }
        if (userId) {
            headers["Dodgeball-Customer-Id"] = userId;
        }
        return headers;
    };
    exports.constructBaseApiHeaders = constructBaseApiHeaders;
});
define("integrations/VERIFF_VERIFY_DOCUMENT", ["require", "exports", "common/types", "common/Integration", "common/logger", "common/utilities"], function (require, exports, types_1, Integration_1, logger_3, utilities_1) {
    "use strict";
    var _a;
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.IdvOperation = void 0;
    Integration_1 = __importDefault(Integration_1);
    var INTEGRATION_NAME = "VERIFF_VERIFY_DOCUMENT";
    var PLUGIN_NAME = "VERIFF_VERIFY_DOCUMENT";
    var PLUGIN_DESCRIPTION = "Veriff: Verify Document";
    var WINDOW_SDK_PROPERTY_KEY = "veriffSDK";
    var VeriffMessageTypes;
    (function (VeriffMessageTypes) {
        VeriffMessageTypes["STARTED"] = "STARTED";
        VeriffMessageTypes["CANCELED"] = "CANCELED";
        VeriffMessageTypes["FINISHED"] = "FINISHED";
    })(VeriffMessageTypes || (VeriffMessageTypes = {}));
    var IdvGatherUserInputEventType;
    (function (IdvGatherUserInputEventType) {
        IdvGatherUserInputEventType["START"] = "START";
        IdvGatherUserInputEventType["FINISH"] = "FINISH";
        IdvGatherUserInputEventType["CANCEL"] = "CANCEL";
    })(IdvGatherUserInputEventType || (IdvGatherUserInputEventType = {}));
    var veriffMessageToGatherUserInputEventMap = (_a = {},
        _a[VeriffMessageTypes.STARTED] = IdvGatherUserInputEventType.START,
        _a[VeriffMessageTypes.CANCELED] = IdvGatherUserInputEventType.CANCEL,
        _a[VeriffMessageTypes.FINISHED] = IdvGatherUserInputEventType.FINISH,
        _a);
    var IdvOperation;
    (function (IdvOperation) {
        IdvOperation["CANCELED"] = "CANCELED";
        IdvOperation["TIMEOUT"] = "TIMEOUT";
        IdvOperation["INITIALIZE"] = "INITIALIZE";
        IdvOperation["GATHER_USER_INPUT"] = "GATHER_USER_INPUT";
        IdvOperation["RETRY_GATHER_USER_INPUT"] = "RETRY_GATHER_USER_INPUT";
        IdvOperation["SHOW_WAITING_FOR_VERIFICATION_RESULT"] = "SHOW_WAITING_FOR_VERIFICATION_RESULT";
        IdvOperation["PROCESS_VERIFICATION_RESULT"] = "PROCESS_VERIFICATION_RESULT";
        IdvOperation["SHOW_VERIFICATION_SUCCESS"] = "SHOW_VERIFICATION_SUCCESS";
        IdvOperation["SHOW_VERIFICATION_ERROR"] = "SHOW_VERIFICATION_ERROR";
        IdvOperation["SHOW_VERIFICATION_TIMEOUT"] = "SHOW_VERIFICATION_TIMEOUT";
        IdvOperation["COMPLETE"] = "COMPLETE";
    })(IdvOperation = exports.IdvOperation || (exports.IdvOperation = {}));
    var IntegrationConfigKeys;
    (function (IntegrationConfigKeys) {
        IntegrationConfigKeys["HOST"] = "global.baseUrl";
        IntegrationConfigKeys["PUBLIC_KEY"] = "global.key.public";
    })(IntegrationConfigKeys || (IntegrationConfigKeys = {}));
    var IVeriffConfigurableStyle;
    (function (IVeriffConfigurableStyle) {
        IVeriffConfigurableStyle["MODAL_BORDER_RADIUS"] = "MODAL_BORDER_RADIUS";
        IVeriffConfigurableStyle["MODAL_BACKGROUND_COLOR"] = "MODAL_BACKGROUND_COLOR";
        IVeriffConfigurableStyle["MODAL_WIDTH"] = "MODAL_WIDTH";
        IVeriffConfigurableStyle["HEADER_BACKGROUND_COLOR"] = "HEADER_BACKGROUND_COLOR";
        IVeriffConfigurableStyle["HEADER_TITLE_TEXT"] = "HEADER_TITLE_TEXT";
        IVeriffConfigurableStyle["HEADER_LOGO"] = "HEADER_LOGO";
        IVeriffConfigurableStyle["HEADER_TEXT_COLOR"] = "HEADER_TEXT_COLOR";
        IVeriffConfigurableStyle["HEADER_TEXT_SIZE"] = "HEADER_TEXT_SIZE";
        IVeriffConfigurableStyle["HEADER_TEXT_WEIGHT"] = "HEADER_TEXT_WEIGHT";
        IVeriffConfigurableStyle["HEADER_UNDERLINE_COLOR"] = "HEADER_UNDERLINE_COLOR";
        IVeriffConfigurableStyle["HEADER_UNDERLINE_THICKNESS"] = "HEADER_UNDERLINE_THICKNESS";
        IVeriffConfigurableStyle["CONTENT_TITLE_TEXT"] = "CONTENT_TITLE_TEXT";
        IVeriffConfigurableStyle["CONTENT_TITLE_COLOR"] = "CONTENT_TITLE_COLOR";
        IVeriffConfigurableStyle["CONTENT_TITLE_SIZE"] = "CONTENT_TITLE_SIZE";
        IVeriffConfigurableStyle["CONTENT_TITLE_WEIGHT"] = "CONTENT_TITLE_WEIGHT";
        IVeriffConfigurableStyle["CONTENT_SUBTITLE_COLOR"] = "CONTENT_SUBTITLE_COLOR";
        IVeriffConfigurableStyle["CONTENT_SUBTITLE_SIZE"] = "CONTENT_SUBTITLE_SIZE";
        IVeriffConfigurableStyle["CONTENT_SUBTITLE_WEIGHT"] = "CONTENT_SUBTITLE_WEIGHT";
        IVeriffConfigurableStyle["CONTENT_VERIFIED_TITLE_TEXT"] = "CONTENT_VERIFIED_TITLE_TEXT";
        IVeriffConfigurableStyle["CONTENT_VERIFIED_SUBTITLE_TEXT"] = "CONTENT_VERIFIED_SUBTITLE_TEXT";
        IVeriffConfigurableStyle["CONTENT_DESCRIPTION_COLOR"] = "CONTENT_DESCRIPTION_COLOR";
        IVeriffConfigurableStyle["CONTENT_DESCRIPTION_SIZE"] = "CONTENT_DESCRIPTION_SIZE";
        IVeriffConfigurableStyle["CONTENT_DESCRIPTION_WEIGHT"] = "CONTENT_DESCRIPTION_WEIGHT";
        IVeriffConfigurableStyle["CONTENT_EXPLANATION_TEXT"] = "CONTENT_EXPLANATION_TEXT";
        IVeriffConfigurableStyle["CONTENT_VERIFYING_ICON_START_COLOR"] = "CONTENT_VERIFYING_ICON_START_COLOR";
        IVeriffConfigurableStyle["CONTENT_VERIFYING_ICON_END_COLOR"] = "CONTENT_VERIFYING_ICON_END_COLOR";
        IVeriffConfigurableStyle["CONTENT_VERIFYING_ICON_HEIGHT"] = "CONTENT_VERIFYING_ICON_HEIGHT";
        IVeriffConfigurableStyle["CONTENT_VERIFYING_ICON_WIDTH"] = "CONTENT_VERIFYING_ICON_WIDTH";
        IVeriffConfigurableStyle["CONTENT_VERIFYING_ANIMATION_DURATION"] = "CONTENT_VERIFYING_ANIMATION_DURATION";
        IVeriffConfigurableStyle["CONTENT_VERIFYING_BAR_HEIGHT"] = "CONTENT_VERIFYING_BAR_HEIGHT";
        IVeriffConfigurableStyle["CONTENT_VERIFYING_BAR_WIDTH"] = "CONTENT_VERIFYING_BAR_WIDTH";
        IVeriffConfigurableStyle["CONTENT_VERIFYING_BAR_BORDER_RADIUS"] = "CONTENT_VERIFYING_BAR_BORDER_RADIUS";
        IVeriffConfigurableStyle["CONTENT_VERIFYING_BAR_START_COLOR"] = "CONTENT_VERIFYING_BAR_START_COLOR";
        IVeriffConfigurableStyle["CONTENT_VERIFYING_BAR_END_COLOR"] = "CONTENT_VERIFYING_BAR_END_COLOR";
        IVeriffConfigurableStyle["CONTENT_VERIFYING_BAR_START_TOP"] = "CONTENT_VERIFYING_BAR_START_TOP";
        IVeriffConfigurableStyle["CONTENT_VERIFYING_BAR_END_TOP"] = "CONTENT_VERIFYING_BAR_END_TOP";
        IVeriffConfigurableStyle["CONTENT_VERIFYING_BAR_START_LEFT"] = "CONTENT_VERIFYING_BAR_START_LEFT";
        IVeriffConfigurableStyle["CONTENT_VERIFYING_BAR_END_LEFT"] = "CONTENT_VERIFYING_BAR_END_LEFT";
        IVeriffConfigurableStyle["CONTENT_VERIFYING_BAR_START_OPACITY"] = "CONTENT_VERIFYING_BAR_START_OPACITY";
        IVeriffConfigurableStyle["CONTENT_VERIFYING_BAR_END_OPACITY"] = "CONTENT_VERIFYING_BAR_END_OPACITY";
        IVeriffConfigurableStyle["CONTENT_FAILURE_TITLE_TEXT"] = "CONTENT_FAILURE_TITLE_TEXT";
        IVeriffConfigurableStyle["CONTENT_TIMEOUT_TITLE_TEXT"] = "CONTENT_TIMEOUT_TITLE_TEXT";
        IVeriffConfigurableStyle["CONTENT_BORDER_THICKNESS"] = "CONTENT_BORDER_THICKNESS";
        IVeriffConfigurableStyle["CONTENT_BORDER_COLOR"] = "CONTENT_BORDER_COLOR";
        IVeriffConfigurableStyle["BUTTON_TEXT_SIZE"] = "BUTTON_TEXT_SIZE";
        IVeriffConfigurableStyle["BUTTON_TEXT_WEIGHT"] = "BUTTON_TEXT_WEIGHT";
        IVeriffConfigurableStyle["BUTTON_GAP"] = "BUTTON_GAP";
        IVeriffConfigurableStyle["BUTTON_BORDER_RADIUS"] = "BUTTON_BORDER_RADIUS";
        IVeriffConfigurableStyle["BUTTON_BORDER_THICKNESS"] = "BUTTON_BORDER_THICKNESS";
        IVeriffConfigurableStyle["BUTTON_HORIZONTAL_PADDING"] = "BUTTON_HORIZONTAL_PADDING";
        IVeriffConfigurableStyle["BUTTON_VERTICAL_PADDING"] = "BUTTON_VERTICAL_PADDING";
        IVeriffConfigurableStyle["CANCEL_BUTTON_COLOR"] = "CANCEL_BUTTON_COLOR";
        IVeriffConfigurableStyle["CANCEL_BUTTON_TEXT_COLOR"] = "CANCEL_BUTTON_TEXT_COLOR";
        IVeriffConfigurableStyle["CANCEL_BUTTON_BORDER_COLOR"] = "CANCEL_BUTTON_BORDER_COLOR";
        IVeriffConfigurableStyle["CANCEL_BUTTON_HOVER_COLOR"] = "CANCEL_BUTTON_HOVER_COLOR";
        IVeriffConfigurableStyle["CANCEL_BUTTON_HOVER_TEXT_COLOR"] = "CANCEL_BUTTON_HOVER_TEXT_COLOR";
        IVeriffConfigurableStyle["CANCEL_BUTTON_HOVER_BORDER_COLOR"] = "CANCEL_BUTTON_HOVER_BORDER_COLOR";
        IVeriffConfigurableStyle["SUBMIT_BUTTON_COLOR"] = "SUBMIT_BUTTON_COLOR";
        IVeriffConfigurableStyle["SUBMIT_BUTTON_TEXT_COLOR"] = "SUBMIT_BUTTON_TEXT_COLOR";
        IVeriffConfigurableStyle["SUBMIT_BUTTON_BORDER_COLOR"] = "SUBMIT_BUTTON_BORDER_COLOR";
        IVeriffConfigurableStyle["SUBMIT_BUTTON_HOVER_COLOR"] = "SUBMIT_BUTTON_HOVER_COLOR";
        IVeriffConfigurableStyle["SUBMIT_BUTTON_HOVER_TEXT_COLOR"] = "SUBMIT_BUTTON_HOVER_TEXT_COLOR";
        IVeriffConfigurableStyle["SUBMIT_BUTTON_HOVER_BORDER_COLOR"] = "SUBMIT_BUTTON_HOVER_BORDER_COLOR";
        IVeriffConfigurableStyle["DISABLED_BUTTON_COLOR"] = "DISABLED_BUTTON_COLOR";
        IVeriffConfigurableStyle["DISABLED_BUTTON_TEXT_COLOR"] = "DISABLED_BUTTON_TEXT_COLOR";
        IVeriffConfigurableStyle["DISABLED_BUTTON_BORDER_COLOR"] = "DISABLED_BUTTON_BORDER_COLOR";
    })(IVeriffConfigurableStyle || (IVeriffConfigurableStyle = {}));
    var DEFAULT_STYLES = {
        MODAL_BORDER_RADIUS: "6px",
        MODAL_BACKGROUND_COLOR: "#FFFFFF",
        MODAL_WIDTH: "600px",
        HEADER_BACKGROUND_COLOR: "#112233",
        HEADER_TITLE_TEXT: "Extra Security for Your Protection",
        HEADER_LOGO: "",
        HEADER_TEXT_COLOR: "#FFFFFF",
        HEADER_TEXT_SIZE: "24px",
        HEADER_TEXT_WEIGHT: types_1.ConfigurableFontWeight.LIGHT,
        HEADER_UNDERLINE_COLOR: "#EEAA00",
        HEADER_UNDERLINE_THICKNESS: "0px",
        CONTENT_TITLE_TEXT: "Verifying Your Identity",
        CONTENT_TITLE_COLOR: "#555555",
        CONTENT_TITLE_SIZE: "24px",
        CONTENT_TITLE_WEIGHT: types_1.ConfigurableFontWeight.LIGHT,
        CONTENT_SUBTITLE_COLOR: "#555555",
        CONTENT_SUBTITLE_SIZE: "16px",
        CONTENT_SUBTITLE_WEIGHT: types_1.ConfigurableFontWeight.SEMI_BOLD,
        CONTENT_VERIFIED_TITLE_TEXT: "Identity Verification Complete",
        CONTENT_VERIFIED_SUBTITLE_TEXT: "Identity Verified",
        CONTENT_DESCRIPTION_COLOR: "#555555",
        CONTENT_DESCRIPTION_SIZE: "14px",
        CONTENT_DESCRIPTION_WEIGHT: types_1.ConfigurableFontWeight.LIGHT,
        CONTENT_EXPLANATION_TEXT: "We are processing your uploaded documents to verify your identity. This can take 1 to 3 minutes. If there is a problem processing your documents, you may be asked to try again. This screen will close automatically once your identity is verified.",
        CONTENT_VERIFYING_ICON_START_COLOR: "#DDDDDD",
        CONTENT_VERIFYING_ICON_END_COLOR: "#005599",
        CONTENT_VERIFYING_ICON_HEIGHT: "100px",
        CONTENT_VERIFYING_ICON_WIDTH: "100px",
        CONTENT_VERIFYING_ANIMATION_DURATION: "4000",
        CONTENT_VERIFYING_BAR_HEIGHT: "80px",
        CONTENT_VERIFYING_BAR_WIDTH: "4px",
        CONTENT_VERIFYING_BAR_BORDER_RADIUS: "2px",
        CONTENT_VERIFYING_BAR_START_COLOR: "#005599",
        CONTENT_VERIFYING_BAR_END_COLOR: "#005599",
        CONTENT_VERIFYING_BAR_START_TOP: "10px",
        CONTENT_VERIFYING_BAR_END_TOP: "10px",
        CONTENT_VERIFYING_BAR_START_LEFT: "0px",
        CONTENT_VERIFYING_BAR_END_LEFT: "100px",
        CONTENT_VERIFYING_BAR_START_OPACITY: "1",
        CONTENT_VERIFYING_BAR_END_OPACITY: "0",
        CONTENT_FAILURE_TITLE_TEXT: "Identity Verification Failed",
        CONTENT_TIMEOUT_TITLE_TEXT: "Identity Verification Timed Out",
        CONTENT_BORDER_THICKNESS: "2px",
        CONTENT_BORDER_COLOR: "#DDDDDD",
        BUTTON_TEXT_SIZE: "14px",
        BUTTON_TEXT_WEIGHT: types_1.ConfigurableFontWeight.MEDIUM,
        BUTTON_GAP: "15px",
        BUTTON_BORDER_RADIUS: "6px",
        BUTTON_BORDER_THICKNESS: "2px",
        BUTTON_HORIZONTAL_PADDING: "30px",
        BUTTON_VERTICAL_PADDING: "8px",
        CANCEL_BUTTON_COLOR: "#FFFFFF",
        CANCEL_BUTTON_TEXT_COLOR: "#333333",
        CANCEL_BUTTON_BORDER_COLOR: "#DDDDDD",
        CANCEL_BUTTON_HOVER_COLOR: "#FFFFFF",
        CANCEL_BUTTON_HOVER_TEXT_COLOR: "#000000",
        CANCEL_BUTTON_HOVER_BORDER_COLOR: "#333333",
        SUBMIT_BUTTON_COLOR: "#2277CC",
        SUBMIT_BUTTON_TEXT_COLOR: "#FFFFFF",
        SUBMIT_BUTTON_BORDER_COLOR: "#2277CC",
        SUBMIT_BUTTON_HOVER_COLOR: "#005599",
        SUBMIT_BUTTON_HOVER_TEXT_COLOR: "#FFFFFF",
        SUBMIT_BUTTON_HOVER_BORDER_COLOR: "#005599",
        DISABLED_BUTTON_COLOR: "#FFFFFF",
        DISABLED_BUTTON_TEXT_COLOR: "#999999",
        DISABLED_BUTTON_BORDER_COLOR: "#DDDDDD",
    };
    var getIVeriffConfigurableStyle = function (configurableStyle, config) {
        var _a;
        var style = DEFAULT_STYLES[configurableStyle];
        if (config && config.hasOwnProperty("customStyles") && ((_a = config.customStyles) === null || _a === void 0 ? void 0 : _a.hasOwnProperty(configurableStyle))) {
            style = config.customStyles[configurableStyle];
        }
        return style;
    };
    var VeriffVerifyDocumentIntegration = (function (_super) {
        __extends(VeriffVerifyDocumentIntegration, _super);
        function VeriffVerifyDocumentIntegration(_a) {
            var config = _a.config, requestId = _a.requestId, parentContext = _a.parentContext;
            var _this = _super.call(this, {
                url: "https://cdn.veriff.me/incontext/js/v1/veriff.js",
                config: config,
                name: INTEGRATION_NAME,
                purposes: [types_1.IntegrationPurpose.EXECUTE],
                requestId: requestId,
                parentContext: parentContext,
            }) || this;
            _this.sdkClient = null;
            _this.isVeriffFrameCreated = false;
            _this.veriffFrame = null;
            logger_3.Logger.trace("".concat(PLUGIN_NAME, " constructor()"), { config: config, requestId: requestId }).log();
            return _this;
        }
        VeriffVerifyDocumentIntegration.prototype.hasLoaded = function () {
            var hasSdkClient = Object.prototype.hasOwnProperty.call(window, WINDOW_SDK_PROPERTY_KEY);
            var isLoaded = hasSdkClient;
            return isLoaded;
        };
        VeriffVerifyDocumentIntegration.prototype.configure = function () {
            return __awaiter(this, void 0, void 0, function () {
                var sdkClient;
                return __generator(this, function (_a) {
                    sdkClient = window[WINDOW_SDK_PROPERTY_KEY];
                    this.sdkClient = sdkClient || [];
                    return [2];
                });
            });
        };
        VeriffVerifyDocumentIntegration.prototype.reconfigure = function (props) {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            this._resetConfig(props);
                            return [4, this.configure()];
                        case 1:
                            _a.sent();
                            return [2];
                    }
                });
            });
        };
        VeriffVerifyDocumentIntegration.prototype.getStyle = function (configurableStyle) {
            return getIVeriffConfigurableStyle(configurableStyle, this.config);
        };
        VeriffVerifyDocumentIntegration.prototype.getHeader = function () {
            var headerContainer = (0, utilities_1.createEl)("div", {
                "background-color": this.getStyle(IVeriffConfigurableStyle.HEADER_BACKGROUND_COLOR),
                "border-top-left-radius": this.getStyle(IVeriffConfigurableStyle.MODAL_BORDER_RADIUS),
                "border-top-right-radius": this.getStyle(IVeriffConfigurableStyle.MODAL_BORDER_RADIUS),
                padding: "20px 30px",
                position: "relative",
                display: "flex",
                "justify-content": "start",
                gap: "10px",
                "border-bottom-width": this.getStyle(IVeriffConfigurableStyle.HEADER_UNDERLINE_THICKNESS),
                "border-bottom-color": this.getStyle(IVeriffConfigurableStyle.HEADER_UNDERLINE_COLOR),
            });
            var logoUrl = this.getStyle(IVeriffConfigurableStyle.HEADER_LOGO);
            if (logoUrl) {
                var headerLogo = (0, utilities_1.createEl)("img", {
                    "justify-self": "center",
                });
                headerLogo.setAttribute("src", logoUrl);
                headerContainer.appendChild(headerLogo);
            }
            var headerText = (0, utilities_1.createEl)("div", {
                color: this.getStyle(IVeriffConfigurableStyle.HEADER_TEXT_COLOR),
                "font-size": this.getStyle(IVeriffConfigurableStyle.HEADER_TEXT_SIZE),
                "font-weight": this.getStyle(IVeriffConfigurableStyle.HEADER_TEXT_WEIGHT),
                "justify-self": "center",
            });
            headerText.innerText = this.getStyle(IVeriffConfigurableStyle.HEADER_TITLE_TEXT);
            headerContainer.appendChild(headerText);
            return headerContainer;
        };
        VeriffVerifyDocumentIntegration.prototype.getContentContainer = function (_a) {
            var titleText = _a.titleText, subtitleText = _a.subtitleText;
            var contentContainer = (0, utilities_1.createEl)("div", {
                "background-color": this.getStyle(IVeriffConfigurableStyle.MODAL_BACKGROUND_COLOR),
                padding: "30px 60px",
                "border-color": this.getStyle(IVeriffConfigurableStyle.CONTENT_BORDER_COLOR),
                "border-left": this.getStyle(IVeriffConfigurableStyle.CONTENT_BORDER_THICKNESS),
                "border-right": this.getStyle(IVeriffConfigurableStyle.CONTENT_BORDER_THICKNESS),
                "border-bottom": this.getStyle(IVeriffConfigurableStyle.CONTENT_BORDER_THICKNESS),
                "border-bottom-left-radius": this.getStyle(IVeriffConfigurableStyle.MODAL_BORDER_RADIUS),
                "border-bottom-right-radius": this.getStyle(IVeriffConfigurableStyle.MODAL_BORDER_RADIUS),
            });
            var contentTitle = (0, utilities_1.createEl)("div", {
                "font-size": this.getStyle(IVeriffConfigurableStyle.CONTENT_TITLE_SIZE),
                color: this.getStyle(IVeriffConfigurableStyle.CONTENT_TITLE_COLOR),
                "font-weight": this.getStyle(IVeriffConfigurableStyle.CONTENT_TITLE_WEIGHT),
                "padding-bottom": "18px",
            });
            contentTitle.innerText = titleText;
            contentContainer.appendChild(contentTitle);
            var results = {
                contentContainer: contentContainer,
                contentTitle: contentTitle,
            };
            if (subtitleText) {
                var contentSubtitle = (0, utilities_1.createEl)("div", {
                    "font-size": this.getStyle(IVeriffConfigurableStyle.CONTENT_SUBTITLE_SIZE),
                    color: this.getStyle(IVeriffConfigurableStyle.CONTENT_SUBTITLE_COLOR),
                    "font-weight": this.getStyle(IVeriffConfigurableStyle.CONTENT_SUBTITLE_WEIGHT),
                    "padding-bottom": "18px",
                });
                contentSubtitle.innerText = subtitleText;
                contentContainer.appendChild(contentSubtitle);
                results.contentSubtitle = contentSubtitle;
            }
            return results;
        };
        VeriffVerifyDocumentIntegration.prototype.getControls = function (_a) {
            var _this = this;
            var cancelText = _a.cancelText, onCancel = _a.onCancel, submitText = _a.submitText, onSubmit = _a.onSubmit, processingText = _a.processingText;
            processingText = processingText !== null && processingText !== void 0 ? processingText : "Processing";
            var controlsContainer = (0, utilities_1.createEl)("div", {
                display: "flex",
                gap: this.getStyle(IVeriffConfigurableStyle.BUTTON_GAP),
                "justify-content": "center",
                "padding-top": "30px",
            });
            var cancelButton = (0, utilities_1.createEl)("button", {
                color: this.getStyle(IVeriffConfigurableStyle.CANCEL_BUTTON_TEXT_COLOR),
                "font-size": this.getStyle(IVeriffConfigurableStyle.BUTTON_TEXT_SIZE),
                "font-weight": this.getStyle(IVeriffConfigurableStyle.BUTTON_TEXT_WEIGHT),
                "background-color": this.getStyle(IVeriffConfigurableStyle.CANCEL_BUTTON_COLOR),
                "border-color": this.getStyle(IVeriffConfigurableStyle.CANCEL_BUTTON_BORDER_COLOR),
                "border-radius": this.getStyle(IVeriffConfigurableStyle.BUTTON_BORDER_RADIUS),
                "border-width": this.getStyle(IVeriffConfigurableStyle.BUTTON_BORDER_THICKNESS),
                "padding-left": this.getStyle(IVeriffConfigurableStyle.BUTTON_HORIZONTAL_PADDING),
                "padding-right": this.getStyle(IVeriffConfigurableStyle.BUTTON_HORIZONTAL_PADDING),
                "padding-top": this.getStyle(IVeriffConfigurableStyle.BUTTON_VERTICAL_PADDING),
                "padding-bottom": this.getStyle(IVeriffConfigurableStyle.BUTTON_VERTICAL_PADDING),
            });
            cancelButton.innerText = cancelText;
            cancelButton.addEventListener("mouseover", function () {
                cancelButton.style.color = _this.getStyle(IVeriffConfigurableStyle.CANCEL_BUTTON_HOVER_TEXT_COLOR);
                cancelButton.style.backgroundColor = _this.getStyle(IVeriffConfigurableStyle.CANCEL_BUTTON_HOVER_COLOR);
                cancelButton.style.borderColor = _this.getStyle(IVeriffConfigurableStyle.CANCEL_BUTTON_HOVER_BORDER_COLOR);
            });
            cancelButton.addEventListener("mouseleave", function () {
                cancelButton.style.color = _this.getStyle(IVeriffConfigurableStyle.CANCEL_BUTTON_TEXT_COLOR);
                cancelButton.style.backgroundColor = _this.getStyle(IVeriffConfigurableStyle.CANCEL_BUTTON_COLOR);
                cancelButton.style.borderColor = _this.getStyle(IVeriffConfigurableStyle.CANCEL_BUTTON_BORDER_COLOR);
            });
            cancelButton.addEventListener("click", function () { return onCancel(); });
            controlsContainer.appendChild(cancelButton);
            var result = {
                controls: controlsContainer,
                cancelRef: cancelButton,
            };
            if (submitText && onSubmit) {
                var submitButton_1 = (0, utilities_1.createEl)("button", {
                    color: this.getStyle(IVeriffConfigurableStyle.SUBMIT_BUTTON_TEXT_COLOR),
                    "font-size": this.getStyle(IVeriffConfigurableStyle.BUTTON_TEXT_SIZE),
                    "font-weight": this.getStyle(IVeriffConfigurableStyle.BUTTON_TEXT_WEIGHT),
                    "background-color": this.getStyle(IVeriffConfigurableStyle.SUBMIT_BUTTON_COLOR),
                    "border-color": this.getStyle(IVeriffConfigurableStyle.SUBMIT_BUTTON_BORDER_COLOR),
                    "border-radius": this.getStyle(IVeriffConfigurableStyle.BUTTON_BORDER_RADIUS),
                    "border-width": this.getStyle(IVeriffConfigurableStyle.BUTTON_BORDER_THICKNESS),
                    "padding-left": this.getStyle(IVeriffConfigurableStyle.BUTTON_HORIZONTAL_PADDING),
                    "padding-right": this.getStyle(IVeriffConfigurableStyle.BUTTON_HORIZONTAL_PADDING),
                    "padding-top": this.getStyle(IVeriffConfigurableStyle.BUTTON_VERTICAL_PADDING),
                    "padding-bottom": this.getStyle(IVeriffConfigurableStyle.BUTTON_VERTICAL_PADDING),
                });
                submitButton_1.innerText = submitText;
                submitButton_1.addEventListener("mouseover", function () {
                    if (!submitButton_1.disabled) {
                        submitButton_1.style.color = _this.getStyle(IVeriffConfigurableStyle.SUBMIT_BUTTON_HOVER_TEXT_COLOR);
                        submitButton_1.style.backgroundColor = _this.getStyle(IVeriffConfigurableStyle.SUBMIT_BUTTON_HOVER_COLOR);
                        submitButton_1.style.borderColor = _this.getStyle(IVeriffConfigurableStyle.SUBMIT_BUTTON_HOVER_BORDER_COLOR);
                    }
                });
                submitButton_1.addEventListener("mouseleave", function () {
                    if (!submitButton_1.disabled) {
                        submitButton_1.style.color = _this.getStyle(IVeriffConfigurableStyle.SUBMIT_BUTTON_TEXT_COLOR);
                        submitButton_1.style.backgroundColor = _this.getStyle(IVeriffConfigurableStyle.SUBMIT_BUTTON_COLOR);
                        submitButton_1.style.borderColor = _this.getStyle(IVeriffConfigurableStyle.SUBMIT_BUTTON_BORDER_COLOR);
                    }
                });
                submitButton_1.addEventListener("click", function () {
                    if (!submitButton_1.disabled) {
                        submitButton_1.innerText = processingText;
                        submitButton_1.disabled = true;
                        submitButton_1.style.color = _this.getStyle(IVeriffConfigurableStyle.DISABLED_BUTTON_TEXT_COLOR);
                        submitButton_1.style.borderColor = _this.getStyle(IVeriffConfigurableStyle.DISABLED_BUTTON_BORDER_COLOR);
                        submitButton_1.style.backgroundColor = _this.getStyle(IVeriffConfigurableStyle.DISABLED_BUTTON_COLOR);
                        return onSubmit();
                    }
                });
                controlsContainer.appendChild(submitButton_1);
                result.submitRef = submitButton_1;
            }
            return result;
        };
        VeriffVerifyDocumentIntegration.prototype.getContentContainerWithAnimatedTitle = function () {
            var _a = this.getContentContainer({
                titleText: this.getStyle(IVeriffConfigurableStyle.CONTENT_TITLE_TEXT),
                subtitleText: "",
            }), contentContainer = _a.contentContainer, contentTitle = _a.contentTitle;
            var baseTitleText = this.getStyle(IVeriffConfigurableStyle.CONTENT_TITLE_TEXT);
            contentTitle.innerText = baseTitleText;
            var count = 1;
            VeriffVerifyDocumentIntegration.loadingIntervalHandle = setInterval(function () {
                var dots = "";
                for (var i = 0; i < count; i += 1) {
                    dots += ".";
                }
                contentTitle.innerText = baseTitleText + dots;
                count += 1;
                if (count === 4) {
                    count = 0;
                }
            }, 1000);
            contentContainer.appendChild(contentTitle);
            return contentContainer;
        };
        VeriffVerifyDocumentIntegration.prototype.getAnimatedIconContainer = function () {
            var iconContainer = (0, utilities_1.createEl)("div", {
                color: this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_ICON_START_COLOR),
                "margin-left": "auto",
                "margin-right": "auto",
                position: "relative",
                width: this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_ICON_WIDTH),
                height: this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_ICON_HEIGHT),
            });
            iconContainer.animate([
                {
                    color: this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_ICON_START_COLOR),
                },
                {
                    color: this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_ICON_END_COLOR),
                },
                {
                    color: this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_ICON_START_COLOR),
                },
            ], {
                duration: parseInt(this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_ANIMATION_DURATION), 10),
                iterations: Infinity,
            });
            iconContainer.innerHTML =
                '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5zm6-10.125a1.875 1.875 0 11-3.75 0 1.875 1.875 0 013.75 0zm1.294 6.336a6.721 6.721 0 01-3.17.789 6.721 6.721 0 01-3.168-.789 3.376 3.376 0 016.338 0z" /></svg>';
            var iconScanBar = (0, utilities_1.createEl)("div", {
                width: this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_BAR_WIDTH),
                height: this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_BAR_HEIGHT),
                "border-radius": this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_BAR_BORDER_RADIUS),
                "background-color": this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_BAR_START_COLOR),
                position: "absolute",
                top: "0px",
                left: "0px",
            });
            iconScanBar.animate([
                {
                    transform: "translate(".concat(this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_BAR_START_LEFT), ", ").concat(this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_BAR_START_TOP), ")"),
                    opacity: parseFloat(this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_BAR_START_OPACITY)),
                },
                {
                    transform: "translate(".concat(this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_BAR_END_LEFT), ", ").concat(this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_BAR_END_TOP), ")"),
                    opacity: parseFloat(this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_BAR_END_OPACITY)),
                },
                {
                    transform: "translate(".concat(this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_BAR_START_LEFT), ", ").concat(this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_BAR_START_TOP), ")"),
                    opacity: parseFloat(this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_BAR_END_OPACITY)),
                },
            ], {
                duration: parseInt(this.getStyle(IVeriffConfigurableStyle.CONTENT_VERIFYING_ANIMATION_DURATION), 10),
                iterations: Infinity,
            });
            iconContainer.appendChild(iconScanBar);
            return iconContainer;
        };
        VeriffVerifyDocumentIntegration.prototype.getContentDescriptionContainer = function (explanationText) {
            var contentDescription = (0, utilities_1.createEl)("div", {
                "font-size": this.getStyle(IVeriffConfigurableStyle.CONTENT_DESCRIPTION_SIZE),
                color: this.getStyle(IVeriffConfigurableStyle.CONTENT_DESCRIPTION_COLOR),
                "font-weight": this.getStyle(IVeriffConfigurableStyle.CONTENT_DESCRIPTION_WEIGHT),
                "padding-bottom": "10px",
            });
            contentDescription.innerText = explanationText !== null && explanationText !== void 0 ? explanationText : "";
            return contentDescription;
        };
        VeriffVerifyDocumentIntegration.prototype.formatDoneGatheringInputsScreen = function (parent, rootElement) {
            var _this = this;
            logger_3.Logger.trace("".concat(PLUGIN_DESCRIPTION, " - formatDoneGatheringInputsScreen"), {
                config: this.config,
            }).log();
            var explanationText = "Starting to process identity verification. You can hide this window, but the verification will continue in the background.";
            var contentContainer = this.getContentContainerWithAnimatedTitle();
            var contentDescription = this.getContentDescriptionContainer(explanationText);
            contentContainer.appendChild(contentDescription);
            var controls = this.getControls({
                cancelText: "Hide",
                onCancel: function () { return __awaiter(_this, void 0, void 0, function () {
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0: return [4, this.onCancel(rootElement, function () { return Promise.resolve(); })];
                            case 1:
                                _a.sent();
                                return [2];
                        }
                    });
                }); },
            }).controls;
            contentContainer.appendChild(controls);
            parent.appendChild(this.getHeader());
            parent.appendChild(contentContainer);
        };
        VeriffVerifyDocumentIntegration.prototype.formatVerifyingScreen = function (parent, rootElement, responseConsumer, onCancel) {
            var _this = this;
            logger_3.Logger.trace("".concat(PLUGIN_DESCRIPTION, " - formatVerifyingScreen"), {
                config: this.config,
            }).log();
            var contentContainer = this.getContentContainerWithAnimatedTitle();
            var iconContainer = this.getAnimatedIconContainer();
            contentContainer.appendChild(iconContainer);
            var explanationText = this.getStyle(IVeriffConfigurableStyle.CONTENT_EXPLANATION_TEXT);
            var contentDescription = this.getContentDescriptionContainer(explanationText);
            contentContainer.appendChild(contentDescription);
            var controls = this.getControls({
                cancelText: "Cancel",
                onCancel: function () { return __awaiter(_this, void 0, void 0, function () {
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0: return [4, this.onCancel(rootElement, responseConsumer)];
                            case 1:
                                _a.sent();
                                return [4, onCancel()];
                            case 2:
                                _a.sent();
                                return [2];
                        }
                    });
                }); },
            }).controls;
            contentContainer.appendChild(controls);
            parent.appendChild(this.getHeader());
            parent.appendChild(contentContainer);
        };
        VeriffVerifyDocumentIntegration.prototype.formatRetryGatherUserInputScreen = function (parent, rootElement, responseConsumer, onCancel) {
            var _this = this;
            var _a;
            logger_3.Logger.trace("".concat(PLUGIN_DESCRIPTION, " - formatRetryGatherUserInputScreen"), {
                config: this.config,
            }).log();
            var configs = this.config;
            parent.appendChild(this.getHeader());
            var contentContainer = this.getContentContainer({
                titleText: this.getStyle(IVeriffConfigurableStyle.CONTENT_FAILURE_TITLE_TEXT),
                subtitleText: "",
            }).contentContainer;
            var errorContainer = (0, utilities_1.createEl)("div", {
                padding: "8px 10px",
                border: "1px solid #CC0000",
                "background-color": "#FFEEEE",
                width: "100%",
                display: "flex",
                "justify-content": "start",
                gap: "10px",
                "align-items": "center",
                "margin-top": "-8px",
                "margin-bottom": "10px",
            });
            var errorIcon = (0, utilities_1.createEl)("div", {
                color: "#CC0000",
                width: "32px",
                height: "32px",
                "justify-self": "center",
            });
            var shieldIcon = "\n      <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" width=\"100%\" height=\"100%\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 9v3.75m0-10.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.249-8.25-3.286zm0 13.036h.008v.008H12v-.008z\" />\n      </svg>";
            errorIcon.innerHTML = shieldIcon;
            errorContainer.appendChild(errorIcon);
            var errorCopyContainer = (0, utilities_1.createEl)("div", {
                "justify-self": "center",
            });
            var errorTitle = (0, utilities_1.createEl)("div", {
                color: "#CC0000",
                "font-size": "16px",
                "font-weight": "600",
            });
            errorTitle.innerText = "There was an issue verifying your identity";
            errorCopyContainer.appendChild(errorTitle);
            var errorSubtitle = (0, utilities_1.createEl)("div", {
                color: "#333333",
                "font-size": "14px",
                "font-weight": "300",
            });
            errorSubtitle.innerText = (_a = configs === null || configs === void 0 ? void 0 : configs.errorMessage) !== null && _a !== void 0 ? _a : "";
            errorCopyContainer.appendChild(errorSubtitle);
            errorContainer.appendChild(errorCopyContainer);
            contentContainer.appendChild(errorContainer);
            var controls = this.getControls({
                cancelText: "Cancel",
                submitText: "Try Again",
                onCancel: function () { return __awaiter(_this, void 0, void 0, function () {
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0: return [4, this.onCancel(rootElement, responseConsumer)];
                            case 1:
                                _a.sent();
                                return [4, onCancel()];
                            case 2:
                                _a.sent();
                                return [2];
                        }
                    });
                }); },
                onSubmit: function () { return _this.onRetry(rootElement, responseConsumer); },
            }).controls;
            contentContainer.appendChild(controls);
            parent.appendChild(contentContainer);
        };
        VeriffVerifyDocumentIntegration.prototype.setIsVeriffFrameCreated = function (isCreated) {
            this.isVeriffFrameCreated = isCreated;
        };
        VeriffVerifyDocumentIntegration.prototype.veriffFrameEventHandler = function (msg, settings) {
            return __awaiter(this, void 0, void 0, function () {
                var setIsVeriffFrameCreated, responseConsumer, stepName, methodName, onCancel, mappedEvent, data, stepResponse;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            logger_3.Logger.info("".concat(PLUGIN_DESCRIPTION, " - veriffFrameEventHandler")).log();
                            setIsVeriffFrameCreated = this.setIsVeriffFrameCreated.bind(this);
                            responseConsumer = settings.responseConsumer, stepName = settings.stepName, methodName = settings.methodName, onCancel = settings.onCancel;
                            if (!(msg === VeriffMessageTypes.FINISHED)) return [3, 2];
                            return [4, this.showDoneGatheringInputs()];
                        case 1:
                            _a.sent();
                            return [3, 3];
                        case 2:
                            if (msg === VeriffMessageTypes.STARTED) {
                            }
                            else if (msg === VeriffMessageTypes.CANCELED) {
                                VeriffVerifyDocumentIntegration.removeModal();
                            }
                            _a.label = 3;
                        case 3:
                            if (msg === VeriffMessageTypes.CANCELED || msg === VeriffMessageTypes.FINISHED) {
                                setIsVeriffFrameCreated(false);
                                mappedEvent = veriffMessageToGatherUserInputEventMap[msg];
                                data = {
                                    event: mappedEvent,
                                };
                                stepResponse = {
                                    pluginName: stepName,
                                    methodName: methodName,
                                    data: data,
                                };
                                responseConsumer(stepResponse, true);
                            }
                            return [2];
                    }
                });
            });
        };
        VeriffVerifyDocumentIntegration.prototype.showDoneGatheringInputs = function () {
            return __awaiter(this, void 0, void 0, function () {
                var _this = this;
                return __generator(this, function (_a) {
                    (0, utilities_1.popupModal)(VeriffVerifyDocumentIntegration.getModal, function (modal, rootElement) {
                        _this.formatDoneGatheringInputsScreen(modal, rootElement);
                    }, {
                        modalBackgroundColor: this.getStyle(IVeriffConfigurableStyle.MODAL_BACKGROUND_COLOR),
                        modalBorderRadius: this.getStyle(IVeriffConfigurableStyle.MODAL_BORDER_RADIUS),
                        maxWidth: this.getStyle(IVeriffConfigurableStyle.MODAL_WIDTH),
                        minWidth: this.getStyle(IVeriffConfigurableStyle.MODAL_WIDTH),
                    });
                    return [2];
                });
            });
        };
        VeriffVerifyDocumentIntegration.prototype.showWaitingForVerificationResult = function (responseConsumer, onCancel) {
            return __awaiter(this, void 0, void 0, function () {
                var _this = this;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            (0, utilities_1.popupModal)(VeriffVerifyDocumentIntegration.getModal, function (modal, rootElement) {
                                _this.formatVerifyingScreen(modal, rootElement, responseConsumer, onCancel);
                            }, {
                                modalBackgroundColor: this.getStyle(IVeriffConfigurableStyle.MODAL_BACKGROUND_COLOR),
                                modalBorderRadius: this.getStyle(IVeriffConfigurableStyle.MODAL_BORDER_RADIUS),
                                maxWidth: this.getStyle(IVeriffConfigurableStyle.MODAL_WIDTH),
                                minWidth: this.getStyle(IVeriffConfigurableStyle.MODAL_WIDTH),
                                modalZIndex: "999999",
                            });
                            return [4, responseConsumer(null, false)];
                        case 1:
                            _a.sent();
                            return [2];
                    }
                });
            });
        };
        VeriffVerifyDocumentIntegration.prototype.executeGatherUserInput = function (step, context, responseConsumer, onCancel) {
            var _a, _b, _c, _d;
            return __awaiter(this, void 0, void 0, function () {
                var veriffFrameEventHandler_1, veriffFrameEventSettings_1;
                return __generator(this, function (_e) {
                    switch (_e.label) {
                        case 0:
                            try {
                                if (this.isVeriffFrameCreated) {
                                    logger_3.Logger.trace("Veriff frame already exists").log();
                                }
                                else {
                                    logger_3.Logger.trace("Veriff frame does not exist. Creating it.").log();
                                    veriffFrameEventHandler_1 = this.veriffFrameEventHandler.bind(this);
                                    veriffFrameEventSettings_1 = {
                                        responseConsumer: responseConsumer,
                                        onCancel: onCancel,
                                        stepName: step.name,
                                        methodName: IdvOperation.GATHER_USER_INPUT,
                                    };
                                    if (!this.sdkClient) {
                                        throw new Error("Veriff sdk client is not defined");
                                    }
                                    if (!((_c = (_b = (_a = step.config) === null || _a === void 0 ? void 0 : _a.verificationSession) === null || _b === void 0 ? void 0 : _b.verification) === null || _c === void 0 ? void 0 : _c.url)) {
                                        throw new Error("Verification url is not defined");
                                    }
                                    this.veriffFrame = this.sdkClient.createVeriffFrame({
                                        url: (_d = step.config.verificationSession.verification) === null || _d === void 0 ? void 0 : _d.url,
                                        onEvent: function (msg) {
                                            veriffFrameEventHandler_1(msg, veriffFrameEventSettings_1);
                                        },
                                    });
                                    this.isVeriffFrameCreated = true;
                                }
                            }
                            catch (error) {
                                logger_3.Logger.error("Error creating veriff frame", error).log();
                                if (context.onError) {
                                    context.onError(error);
                                }
                            }
                            return [4, responseConsumer(null, false)];
                        case 1:
                            _e.sent();
                            return [2];
                    }
                });
            });
        };
        VeriffVerifyDocumentIntegration.prototype.executeRetryGatherUserInput = function (step, context, responseConsumer, onCancel) {
            return __awaiter(this, void 0, void 0, function () {
                var _this = this;
                return __generator(this, function (_a) {
                    (0, utilities_1.popupModal)(VeriffVerifyDocumentIntegration.getModal, function (modal, rootElement) {
                        _this.formatRetryGatherUserInputScreen(modal, rootElement, responseConsumer, onCancel);
                    }, {
                        modalBackgroundColor: this.getStyle(IVeriffConfigurableStyle.MODAL_BACKGROUND_COLOR),
                        modalBorderRadius: this.getStyle(IVeriffConfigurableStyle.MODAL_BORDER_RADIUS),
                        maxWidth: this.getStyle(IVeriffConfigurableStyle.MODAL_WIDTH),
                        minWidth: this.getStyle(IVeriffConfigurableStyle.MODAL_WIDTH),
                    });
                    return [2];
                });
            });
        };
        VeriffVerifyDocumentIntegration.getModal = function () {
            return __awaiter(this, void 0, void 0, function () {
                var newElement;
                return __generator(this, function (_a) {
                    if (!VeriffVerifyDocumentIntegration.modalElement) {
                        newElement = document.createElement("div");
                        if (!VeriffVerifyDocumentIntegration.modalElement) {
                            VeriffVerifyDocumentIntegration.modalElement = newElement;
                        }
                    }
                    return [2, VeriffVerifyDocumentIntegration.modalElement];
                });
            });
        };
        VeriffVerifyDocumentIntegration.removeModal = function () {
            return __awaiter(this, void 0, void 0, function () {
                var modal;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            logger_3.Logger.info("RemoveModal called").log();
                            if (!VeriffVerifyDocumentIntegration.modalElement) return [3, 2];
                            modal = VeriffVerifyDocumentIntegration.modalElement;
                            VeriffVerifyDocumentIntegration.modalElement = null;
                            return [4, document.body.removeChild(modal)];
                        case 1:
                            _a.sent();
                            if (VeriffVerifyDocumentIntegration.loadingIntervalHandle) {
                                clearInterval(VeriffVerifyDocumentIntegration.loadingIntervalHandle);
                                VeriffVerifyDocumentIntegration.loadingIntervalHandle = null;
                            }
                            _a.label = 2;
                        case 2: return [2];
                    }
                });
            });
        };
        VeriffVerifyDocumentIntegration.prototype.autoRespond = function (methodName, responseConsumer) {
            return __awaiter(this, void 0, void 0, function () {
                var response, error_4;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            logger_3.Logger.info("".concat(PLUGIN_DESCRIPTION, ": ").concat(methodName, " - autoRespond")).log();
                            response = {
                                pluginName: PLUGIN_NAME,
                                methodName: methodName,
                                data: {},
                            };
                            _a.label = 1;
                        case 1:
                            _a.trys.push([1, 3, , 4]);
                            return [4, responseConsumer(response, true)];
                        case 2:
                            _a.sent();
                            return [3, 4];
                        case 3:
                            error_4 = _a.sent();
                            logger_3.Logger.error("".concat(PLUGIN_DESCRIPTION, ": ").concat(methodName, " - autoRespond: error"), error_4).log();
                            return [3, 4];
                        case 4: return [2];
                    }
                });
            });
        };
        VeriffVerifyDocumentIntegration.prototype.onRetry = function (modal, responseConsumer) {
            return __awaiter(this, void 0, void 0, function () {
                var response, error_5;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            logger_3.Logger.info("".concat(PLUGIN_DESCRIPTION, " - onRetry")).log();
                            response = {
                                pluginName: PLUGIN_NAME,
                                methodName: IdvOperation.GATHER_USER_INPUT,
                            };
                            _a.label = 1;
                        case 1:
                            _a.trys.push([1, 3, , 4]);
                            return [4, responseConsumer(response, true)];
                        case 2:
                            _a.sent();
                            return [3, 4];
                        case 3:
                            error_5 = _a.sent();
                            logger_3.Logger.error("".concat(PLUGIN_DESCRIPTION, " - onRetry: error"), error_5).log();
                            return [3, 4];
                        case 4: return [2];
                    }
                });
            });
        };
        VeriffVerifyDocumentIntegration.prototype.onCancel = function (modal, responseConsumer) {
            return __awaiter(this, void 0, void 0, function () {
                var wasSuccessful, response, error_6;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            logger_3.Logger.info("".concat(PLUGIN_DESCRIPTION, " - onCancel")).log();
                            wasSuccessful = false;
                            response = {
                                pluginName: PLUGIN_NAME,
                                methodName: IdvOperation.CANCELED,
                            };
                            _a.label = 1;
                        case 1:
                            _a.trys.push([1, 3, , 4]);
                            return [4, responseConsumer(response, true)];
                        case 2:
                            _a.sent();
                            wasSuccessful = true;
                            return [3, 4];
                        case 3:
                            error_6 = _a.sent();
                            logger_3.Logger.error("".concat(PLUGIN_DESCRIPTION, " - onCancel: error"), error_6).log();
                            return [3, 4];
                        case 4:
                            if (wasSuccessful) {
                                VeriffVerifyDocumentIntegration.removeModal();
                            }
                            return [2];
                    }
                });
            });
        };
        VeriffVerifyDocumentIntegration.prototype.execute = function (step, context, responseConsumer, onCancel) {
            return __awaiter(this, void 0, void 0, function () {
                var _a, error_7;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            _b.trys.push([0, 12, , 13]);
                            logger_3.Logger.info("".concat(PLUGIN_DESCRIPTION, " - execute: ").concat(step === null || step === void 0 ? void 0 : step.method)).log();
                            _a = step.method;
                            switch (_a) {
                                case IdvOperation.GATHER_USER_INPUT: return [3, 1];
                                case IdvOperation.RETRY_GATHER_USER_INPUT: return [3, 1];
                                case IdvOperation.SHOW_WAITING_FOR_VERIFICATION_RESULT: return [3, 3];
                                case IdvOperation.PROCESS_VERIFICATION_RESULT: return [3, 5];
                                case IdvOperation.CANCELED: return [3, 7];
                                case IdvOperation.SHOW_VERIFICATION_TIMEOUT: return [3, 8];
                                case IdvOperation.SHOW_VERIFICATION_ERROR: return [3, 8];
                                case IdvOperation.SHOW_VERIFICATION_SUCCESS: return [3, 8];
                                case IdvOperation.COMPLETE: return [3, 8];
                            }
                            return [3, 10];
                        case 1:
                            VeriffVerifyDocumentIntegration.removeModal();
                            return [4, this.executeGatherUserInput(step, context, responseConsumer, onCancel)];
                        case 2:
                            _b.sent();
                            return [2];
                        case 3:
                            VeriffVerifyDocumentIntegration.removeModal();
                            return [4, this.showWaitingForVerificationResult(responseConsumer, onCancel)];
                        case 4:
                            _b.sent();
                            return [2];
                        case 5: return [4, this.autoRespond(step.method, responseConsumer)];
                        case 6:
                            _b.sent();
                            return [2];
                        case 7:
                            this.autoRespond(step.method, responseConsumer);
                            return [2];
                        case 8:
                            this.cleanup();
                            return [4, this.autoRespond(step.method, responseConsumer)];
                        case 9:
                            _b.sent();
                            return [2];
                        case 10: throw new Error("Unknown operation: ".concat(step.method));
                        case 11: return [3, 13];
                        case 12:
                            error_7 = _b.sent();
                            logger_3.Logger.error("".concat(PLUGIN_DESCRIPTION, " - execute: error"), error_7).log();
                            if (context.onError) {
                                context.onError((0, types_1.systemError)(error_7));
                            }
                            return [3, 13];
                        case 13: return [2];
                    }
                });
            });
        };
        VeriffVerifyDocumentIntegration.prototype.cleanup = function () {
            var _a;
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_b) {
                    logger_3.Logger.info("".concat(PLUGIN_DESCRIPTION, " - cleanup() called - removing modals")).log();
                    try {
                        (_a = this.veriffFrame) === null || _a === void 0 ? void 0 : _a.close();
                        this.setIsVeriffFrameCreated(false);
                    }
                    catch (error) {
                        console.log("Unable to close Veriff Modal");
                    }
                    VeriffVerifyDocumentIntegration.removeModal();
                    return [2, Promise.resolve()];
                });
            });
        };
        VeriffVerifyDocumentIntegration.modalElement = null;
        VeriffVerifyDocumentIntegration.loadingIntervalHandle = null;
        return VeriffVerifyDocumentIntegration;
    }(Integration_1.default));
    exports.default = VeriffVerifyDocumentIntegration;
    if (window) {
        if (!window.hasOwnProperty("_dodgeball_integrations")) {
            window._dodgeball_integrations = {};
        }
        if (!window._dodgeball_integrations.hasOwnProperty(INTEGRATION_NAME)) {
            window._dodgeball_integrations[INTEGRATION_NAME] = VeriffVerifyDocumentIntegration;
        }
    }
});
}(dodgeballRequire));</script><script>(function ({require, define, requirejs}) {var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
define("common/logger", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Logger = exports.LogEntry = exports.Severity = exports.LogLevel = void 0;
    var LogLevel;
    (function (LogLevel) {
        LogLevel["TRACE"] = "TRACE";
        LogLevel["INFO"] = "INFO";
        LogLevel["ERROR"] = "ERROR";
        LogLevel["NONE"] = "NONE";
    })(LogLevel = exports.LogLevel || (exports.LogLevel = {}));
    var Severity;
    (function (Severity) {
        Severity[Severity["TRACE"] = 0] = "TRACE";
        Severity[Severity["INFO"] = 1] = "INFO";
        Severity[Severity["ERROR"] = 2] = "ERROR";
        Severity[Severity["NONE"] = 3] = "NONE";
    })(Severity = exports.Severity || (exports.Severity = {}));
    var LogEntry = (function () {
        function LogEntry(message, severity, error) {
            if (severity === void 0) { severity = Severity.INFO; }
            if (error === void 0) { error = null; }
            this.severity = Severity.INFO;
            this.message = "";
            this.date = new Date();
            this.message = message;
            this.severity = severity;
            this.error = error;
        }
        LogEntry.prototype.setParameters = function (parameters) {
            this.parameters = parameters;
            return this;
        };
        LogEntry.prototype.setParameter = function (key, value) {
            var _a;
            this.parameters = (_a = this.parameters) !== null && _a !== void 0 ? _a : {};
            this.parameters[key] = value;
            return this;
        };
        LogEntry.prototype.setSeverity = function (severity) {
            this.severity = severity;
            return this;
        };
        LogEntry.prototype.setError = function (error) {
            this.error = error;
            return this;
        };
        LogEntry.prototype.log = function () {
            return Logger.log(this);
        };
        return LogEntry;
    }());
    exports.LogEntry = LogEntry;
    var Logger = (function () {
        function Logger() {
        }
        Logger.info = function (message, parameters) {
            return new LogEntry(message, Severity.INFO).setParameters(parameters);
        };
        Logger.trace = function (message, parameters) {
            return new LogEntry(message, Severity.TRACE).setParameters(parameters);
        };
        Logger.error = function (message, error) {
            return new LogEntry(message, Severity.ERROR).setError(error);
        };
        Logger.formatError = function (error) {
            if (!error) {
                return "";
            }
            if (error instanceof Error) {
                var transformed = error;
                return "\n            message: ".concat(transformed.message, "\n            stack: ").concat(transformed.stack, "\n            name: ").concat(transformed.name);
            }
            try {
                return JSON.stringify(error.toString(), null, 2);
            }
            catch (e) {
                return error.toString();
            }
        };
        Logger.log = function (logEvent) {
            if (logEvent.severity.valueOf() >= Logger.filterLevel.valueOf()) {
                var logResults = "Dodgeball SDK:\n        Severity: ".concat(Severity[logEvent.severity], "\n        Date: ").concat(logEvent.date, "\n        Message: ").concat(logEvent.message);
                if (logEvent.parameters) {
                    var parametersString_1 = "\n        Parameters:\n\r";
                    Object.keys(logEvent.parameters).forEach(function (key) {
                        if (typeof logEvent.parameters[key] === "object" ||
                            Array.isArray(logEvent.parameters[key])) {
                            parametersString_1 += "".concat(key, ": ").concat(JSON.stringify(logEvent.parameters[key], null, 2), "\n            ");
                        }
                        else {
                            parametersString_1 = "".concat(parametersString_1, "\n                      ").concat(key, ": ").concat(logEvent.parameters[key]);
                        }
                    });
                    logResults = "".concat(logResults, " ").concat(parametersString_1);
                }
                if (logEvent.severity === Severity.ERROR) {
                    console.log(logResults, logEvent.error);
                }
                else {
                    console.log(logResults);
                }
            }
        };
        Logger.filterLevel = Severity.INFO;
        return Logger;
    }());
    exports.Logger = Logger;
});
define("common/utilities", ["require", "exports", "common/logger"], function (require, exports, logger_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.constructBaseApiHeaders = exports.constructApiUrl = exports.makeRequest = exports.getUUID = exports.popupModal = exports.getStylesBasedOnWidth = exports.createEl = exports.setStyles = exports.formatStyles = exports.cleanupNodes = void 0;
    var cleanupNodes = function (parentNode, childNode) { return __awaiter(void 0, void 0, void 0, function () {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4, parentNode.removeChild(childNode)];
                case 1:
                    _a.sent();
                    return [2];
            }
        });
    }); };
    exports.cleanupNodes = cleanupNodes;
    var formatStyles = function (styleObj) {
        var styles = "";
        Object.keys(styleObj).forEach(function (styleName) {
            styles += "".concat(styleName, ":").concat(styleObj[styleName], ";");
        });
        return styles;
    };
    exports.formatStyles = formatStyles;
    var setStyles = function (el, styleObj) {
        el.style.cssText = (0, exports.formatStyles)(styleObj);
        return el;
    };
    exports.setStyles = setStyles;
    var createEl = function (elType, styleObj) {
        var el = document.createElement(elType);
        (0, exports.setStyles)(el, styleObj);
        return el;
    };
    exports.createEl = createEl;
    var getStylesBasedOnWidth = function (styleGroups) {
        var width = window.innerWidth;
        var styles = {};
        Object.keys(styleGroups).forEach(function (maxWidth) {
            var parsedWidth = Number(maxWidth.replace("px", ""));
            if (width <= parsedWidth) {
                styles = styleGroups[maxWidth];
            }
        });
        return styles;
    };
    exports.getStylesBasedOnWidth = getStylesBasedOnWidth;
    var popupModal = function (modalAccessor, formatter, config) { return __awaiter(void 0, void 0, void 0, function () {
        var modal, innerModal, error_1;
        var _a, _b, _c;
        return __generator(this, function (_d) {
            switch (_d.label) {
                case 0:
                    _d.trys.push([0, 3, , 4]);
                    return [4, modalAccessor()];
                case 1:
                    modal = _d.sent();
                    modal = (0, exports.setStyles)(modal, {
                        display: "flex",
                        "justify-content": "center",
                        "align-items": "center",
                        position: "fixed",
                        top: "0px",
                        left: "0px",
                        right: "0px",
                        bottom: "0px",
                        "z-index": (_a = config === null || config === void 0 ? void 0 : config.modalZIndex) !== null && _a !== void 0 ? _a : "2147483000",
                        "background-color": "rgba(0, 0, 0, 0.3)",
                        overflow: "scroll",
                    });
                    return [4, document.createElement("div")];
                case 2:
                    innerModal = _d.sent();
                    (0, exports.setStyles)(innerModal, __assign({ "justify-self": "center", padding: "0px", "background-color": config.modalBackgroundColor, "border-radius": config.modalBorderRadius, "max-width": (_b = config.maxWidth) !== null && _b !== void 0 ? _b : "600px", "min-width": (_c = config.minWidth) !== null && _c !== void 0 ? _c : "600px", "margin-left": "10px", "margin-right": "10px" }, (0, exports.getStylesBasedOnWidth)({
                        "620px": {
                            "min-width": "inherit",
                        },
                    })));
                    if (formatter) {
                        formatter(innerModal, modal);
                    }
                    modal.appendChild(innerModal);
                    document.body.appendChild(modal);
                    return [3, 4];
                case 3:
                    error_1 = _d.sent();
                    logger_1.Logger.error("MFA - popupModal(): error", error_1).log();
                    return [3, 4];
                case 4: return [2];
            }
        });
    }); };
    exports.popupModal = popupModal;
    var getUUID = function () {
        return (String(1e7) + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {
            return (Number(c) ^ (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (Number(c) / 4)))).toString(16);
        });
    };
    exports.getUUID = getUUID;
    var makeRequest = function (_a) {
        var url = _a.url, method = _a.method, headers = _a.headers, data = _a.data;
        return __awaiter(void 0, void 0, void 0, function () {
            var response, error_2;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _b.trys.push([0, 3, , 4]);
                        return [4, fetch(url, {
                                method: method,
                                headers: __assign(__assign({}, headers), { Accept: "application/json", "Content-Type": "application/json" }),
                                body: JSON.stringify(data),
                            })];
                    case 1:
                        response = _b.sent();
                        return [4, response.json()];
                    case 2: return [2, _b.sent()];
                    case 3:
                        error_2 = _b.sent();
                        logger_1.Logger.error("Request error: ", error_2).log();
                        return [2, error_2];
                    case 4: return [2];
                }
            });
        });
    };
    exports.makeRequest = makeRequest;
    var constructApiUrl = function (url, version) {
        if (url.charAt(url.length - 1) !== "/") {
            url += "/";
        }
        return "".concat(url).concat(version, "/");
    };
    exports.constructApiUrl = constructApiUrl;
    var constructBaseApiHeaders = function (_a) {
        var token = _a.token, sourceToken = _a.sourceToken, sessionId = _a.sessionId, userId = _a.userId;
        var headers = {
            "Dodgeball-Public-Key": "".concat(token),
        };
        if (sourceToken) {
            headers["Dodgeball-Source-Token"] = sourceToken;
        }
        if (sessionId) {
            headers["Dodgeball-Session-Id"] = sessionId;
        }
        if (userId) {
            headers["Dodgeball-Customer-Id"] = userId;
        }
        return headers;
    };
    exports.constructBaseApiHeaders = constructBaseApiHeaders;
});
define("common/types", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.DodgeballApiVersion = exports.ConfigurableFontWeight = exports.IntegrationPurpose = exports.systemError = exports.VerificationErrorType = exports.VerificationOutcome = exports.VerificationStatus = void 0;
    var VerificationStatus;
    (function (VerificationStatus) {
        VerificationStatus["PENDING"] = "PENDING";
        VerificationStatus["BLOCKED"] = "BLOCKED";
        VerificationStatus["COMPLETE"] = "COMPLETE";
        VerificationStatus["FAILED"] = "FAILED";
    })(VerificationStatus = exports.VerificationStatus || (exports.VerificationStatus = {}));
    var VerificationOutcome;
    (function (VerificationOutcome) {
        VerificationOutcome["APPROVED"] = "APPROVED";
        VerificationOutcome["DENIED"] = "DENIED";
        VerificationOutcome["PENDING"] = "PENDING";
        VerificationOutcome["ERROR"] = "ERROR";
    })(VerificationOutcome = exports.VerificationOutcome || (exports.VerificationOutcome = {}));
    var VerificationErrorType;
    (function (VerificationErrorType) {
        VerificationErrorType["SYSTEM"] = "SYSTEM";
        VerificationErrorType["TIMEOUT"] = "TIMEOUT";
        VerificationErrorType["CANCELLED"] = "CANCELLED";
    })(VerificationErrorType = exports.VerificationErrorType || (exports.VerificationErrorType = {}));
    var systemError = function (errorText) { return ({
        errorType: VerificationErrorType.SYSTEM,
        details: errorText,
    }); };
    exports.systemError = systemError;
    var IntegrationPurpose;
    (function (IntegrationPurpose) {
        IntegrationPurpose["IDENTIFY"] = "IDENTIFY";
        IntegrationPurpose["OBSERVE"] = "OBSERVE";
        IntegrationPurpose["QUALIFY"] = "QUALIFY";
        IntegrationPurpose["EXECUTE"] = "EXECUTE";
    })(IntegrationPurpose = exports.IntegrationPurpose || (exports.IntegrationPurpose = {}));
    var ConfigurableFontWeight;
    (function (ConfigurableFontWeight) {
        ConfigurableFontWeight["LIGHT"] = "300";
        ConfigurableFontWeight["REGULAR"] = "400";
        ConfigurableFontWeight["MEDIUM"] = "500";
        ConfigurableFontWeight["SEMI_BOLD"] = "600";
        ConfigurableFontWeight["BOLD"] = "700";
    })(ConfigurableFontWeight = exports.ConfigurableFontWeight || (exports.ConfigurableFontWeight = {}));
    var DodgeballApiVersion;
    (function (DodgeballApiVersion) {
        DodgeballApiVersion["v1"] = "v1";
    })(DodgeballApiVersion = exports.DodgeballApiVersion || (exports.DodgeballApiVersion = {}));
});
define("common/Integration", ["require", "exports", "common/logger"], function (require, exports, logger_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var loadScript = function (url) { return __awaiter(void 0, void 0, void 0, function () {
        return __generator(this, function (_a) {
            return [2, new Promise(function (resolve, reject) {
                    try {
                        if (!url) {
                            throw new Error("No URL provided for integration script");
                        }
                        if (typeof document !== "undefined") {
                            var script = document.createElement("script");
                            script.src = url;
                            script.async = true;
                            script.onload = function () {
                                resolve();
                            };
                            script.onerror = function (error) {
                                logger_2.Logger.error("Could not load integration script", error).log();
                                resolve();
                            };
                            document.body.appendChild(script);
                        }
                    }
                    catch (error) {
                        logger_2.Logger.error("Could not load integration script", error).log();
                        resolve();
                    }
                })];
        });
    }); };
    var Integration = (function () {
        function Integration(_a) {
            var config = _a.config, url = _a.url, name = _a.name, purposes = _a.purposes, requestId = _a.requestId, parentContext = _a.parentContext;
            this.config = {};
            this.url = "";
            this.purposes = [];
            this.dodgeballRequestId = "";
            this.config = config;
            this.url = url;
            this.name = name;
            this.purposes = purposes;
            this.dodgeballRequestId = requestId;
            this.parentContext = parentContext;
        }
        Integration.prototype.load = function () {
            return __awaiter(this, void 0, void 0, function () {
                var error_3;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            _a.trys.push([0, 4, , 5]);
                            logger_2.Logger.info("Loading Integration: ".concat(this.name)).log();
                            if (!!this.url) return [3, 2];
                            logger_2.Logger.info("No URL provided for integration: ".concat(this.name)).log();
                            return [4, Promise.resolve()];
                        case 1: return [2, _a.sent()];
                        case 2: return [4, loadScript(this.url)];
                        case 3: return [2, _a.sent()];
                        case 4:
                            error_3 = _a.sent();
                            logger_2.Logger.error("Could not load Javascript for integration: ".concat(this.name), error_3).log();
                            return [2, Promise.reject(error_3)];
                        case 5: return [2];
                    }
                });
            });
        };
        Integration.prototype._resetConfig = function (_a) {
            var url = _a.url, config = _a.config, requestId = _a.requestId, _b = _a.purposes, purposes = _b === void 0 ? [] : _b;
            this.url = url;
            this.config = config;
            this.dodgeballRequestId = requestId;
            if (purposes.length > 0) {
                this.purposes = purposes;
            }
        };
        return Integration;
    }());
    exports.default = Integration;
});
define("integrations/DODGEBALL_TRACK_SERVICE", ["require", "exports", "common/utilities", "common/types", "common/Integration", "common/utilities"], function (require, exports, utilities_1, types_1, Integration_1, utilities_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    Integration_1 = __importDefault(Integration_1);
    var INTEGRATION_NAME = "DODGEBALL_TRACK_SERVICE";
    var HREF_POLL_INTERVAL_MS = 50;
    var TRACKING_INTERVAL_MS = 1000;
    var DodgeballTrackerIntegration = (function (_super) {
        __extends(DodgeballTrackerIntegration, _super);
        function DodgeballTrackerIntegration(_a) {
            var url = _a.url, config = _a.config, requestId = _a.requestId, parentContext = _a.parentContext;
            var _this = _super.call(this, {
                url: "",
                config: config,
                name: INTEGRATION_NAME,
                purposes: [types_1.IntegrationPurpose.OBSERVE],
                requestId: requestId,
                parentContext: parentContext,
            }) || this;
            _this.poller = null;
            _this.tracker = null;
            _this.untrackedPageViews = [];
            _this.getTrackHeaders = function () {
                return {
                    "Dodgeball-Source-Token": "",
                    "Dodgeball-Session-Id": "",
                    "Dodgeball-Public-Key": "",
                };
            };
            return _this;
        }
        DodgeballTrackerIntegration.prototype.hasLoaded = function () {
            return true;
        };
        DodgeballTrackerIntegration.prototype.configure = function () {
            return __awaiter(this, void 0, void 0, function () {
                var lastUrl_1, checkUrl;
                var _this = this;
                return __generator(this, function (_a) {
                    if (!this.poller) {
                        lastUrl_1 = "";
                        checkUrl = function () {
                            var newUrl = window.location.href;
                            if (newUrl !== lastUrl_1) {
                                lastUrl_1 = newUrl;
                                _this.untrackedPageViews.push({
                                    url: newUrl,
                                    viewedAt: Date.now(),
                                });
                            }
                        };
                        checkUrl();
                        this.poller = setInterval(checkUrl, HREF_POLL_INTERVAL_MS);
                    }
                    return [2];
                });
            });
        };
        DodgeballTrackerIntegration.prototype.reconfigure = function (_a) {
            var url = _a.url, config = _a.config, requestId = _a.requestId;
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            this._resetConfig({ url: url, config: config, requestId: requestId });
                            return [4, this.configure()];
                        case 1:
                            _b.sent();
                            return [2];
                    }
                });
            });
        };
        DodgeballTrackerIntegration.prototype.observe = function (_a) {
            var _this = this;
            var sessionId = _a.sessionId, userId = _a.userId, sourceToken = _a.sourceToken;
            this.getTrackHeaders = function () {
                return (0, utilities_2.constructBaseApiHeaders)({
                    token: _this.parentContext.publicKey,
                    sourceToken: sourceToken,
                    sessionId: sessionId,
                    userId: userId,
                });
            };
            if (!this.tracker) {
                var runTrack = function () { return __awaiter(_this, void 0, void 0, function () {
                    var now_1, compressedPageViews_1, trackingHeaders, apiUrl, response;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0:
                                if (!(this.untrackedPageViews.length > 0)) return [3, 2];
                                now_1 = Date.now();
                                compressedPageViews_1 = {};
                                this.untrackedPageViews.forEach(function (pageView) {
                                    compressedPageViews_1[now_1 - pageView.viewedAt] = pageView.url;
                                });
                                this.untrackedPageViews = [];
                                trackingHeaders = this.getTrackHeaders();
                                apiUrl = (0, utilities_1.constructApiUrl)(this.parentContext.config.apiUrl, this.parentContext.config.apiVersion);
                                return [4, (0, utilities_1.makeRequest)({
                                        url: "".concat(apiUrl, "track"),
                                        method: "POST",
                                        headers: trackingHeaders,
                                        data: __assign({}, compressedPageViews_1),
                                    })];
                            case 1:
                                response = _a.sent();
                                _a.label = 2;
                            case 2: return [2];
                        }
                    });
                }); };
                runTrack();
                this.tracker = setInterval(runTrack, TRACKING_INTERVAL_MS);
            }
        };
        return DodgeballTrackerIntegration;
    }(Integration_1.default));
    exports.default = DodgeballTrackerIntegration;
    if (window) {
        if (!window.hasOwnProperty("_dodgeball_integrations")) {
            window._dodgeball_integrations = {};
        }
        if (!window._dodgeball_integrations.hasOwnProperty(INTEGRATION_NAME)) {
            window._dodgeball_integrations[INTEGRATION_NAME] = DodgeballTrackerIntegration;
        }
    }
});
}(dodgeballRequire));</script><script>(function ({require, define, requirejs}) {var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
define("common/logger", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Logger = exports.LogEntry = exports.Severity = exports.LogLevel = void 0;
    var LogLevel;
    (function (LogLevel) {
        LogLevel["TRACE"] = "TRACE";
        LogLevel["INFO"] = "INFO";
        LogLevel["ERROR"] = "ERROR";
        LogLevel["NONE"] = "NONE";
    })(LogLevel = exports.LogLevel || (exports.LogLevel = {}));
    var Severity;
    (function (Severity) {
        Severity[Severity["TRACE"] = 0] = "TRACE";
        Severity[Severity["INFO"] = 1] = "INFO";
        Severity[Severity["ERROR"] = 2] = "ERROR";
        Severity[Severity["NONE"] = 3] = "NONE";
    })(Severity = exports.Severity || (exports.Severity = {}));
    var LogEntry = (function () {
        function LogEntry(message, severity, error) {
            if (severity === void 0) { severity = Severity.INFO; }
            if (error === void 0) { error = null; }
            this.severity = Severity.INFO;
            this.message = "";
            this.date = new Date();
            this.message = message;
            this.severity = severity;
            this.error = error;
        }
        LogEntry.prototype.setParameters = function (parameters) {
            this.parameters = parameters;
            return this;
        };
        LogEntry.prototype.setParameter = function (key, value) {
            var _a;
            this.parameters = (_a = this.parameters) !== null && _a !== void 0 ? _a : {};
            this.parameters[key] = value;
            return this;
        };
        LogEntry.prototype.setSeverity = function (severity) {
            this.severity = severity;
            return this;
        };
        LogEntry.prototype.setError = function (error) {
            this.error = error;
            return this;
        };
        LogEntry.prototype.log = function () {
            return Logger.log(this);
        };
        return LogEntry;
    }());
    exports.LogEntry = LogEntry;
    var Logger = (function () {
        function Logger() {
        }
        Logger.info = function (message, parameters) {
            return new LogEntry(message, Severity.INFO).setParameters(parameters);
        };
        Logger.trace = function (message, parameters) {
            return new LogEntry(message, Severity.TRACE).setParameters(parameters);
        };
        Logger.error = function (message, error) {
            return new LogEntry(message, Severity.ERROR).setError(error);
        };
        Logger.formatError = function (error) {
            if (!error) {
                return "";
            }
            if (error instanceof Error) {
                var transformed = error;
                return "\n            message: ".concat(transformed.message, "\n            stack: ").concat(transformed.stack, "\n            name: ").concat(transformed.name);
            }
            try {
                return JSON.stringify(error.toString(), null, 2);
            }
            catch (e) {
                return error.toString();
            }
        };
        Logger.log = function (logEvent) {
            if (logEvent.severity.valueOf() >= Logger.filterLevel.valueOf()) {
                var logResults = "Dodgeball SDK:\n        Severity: ".concat(Severity[logEvent.severity], "\n        Date: ").concat(logEvent.date, "\n        Message: ").concat(logEvent.message);
                if (logEvent.parameters) {
                    var parametersString_1 = "\n        Parameters:\n\r";
                    Object.keys(logEvent.parameters).forEach(function (key) {
                        if (typeof logEvent.parameters[key] === "object" ||
                            Array.isArray(logEvent.parameters[key])) {
                            parametersString_1 += "".concat(key, ": ").concat(JSON.stringify(logEvent.parameters[key], null, 2), "\n            ");
                        }
                        else {
                            parametersString_1 = "".concat(parametersString_1, "\n                      ").concat(key, ": ").concat(logEvent.parameters[key]);
                        }
                    });
                    logResults = "".concat(logResults, " ").concat(parametersString_1);
                }
                if (logEvent.severity === Severity.ERROR) {
                    console.log(logResults, logEvent.error);
                }
                else {
                    console.log(logResults);
                }
            }
        };
        Logger.filterLevel = Severity.INFO;
        return Logger;
    }());
    exports.Logger = Logger;
});
define("common/types", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.DodgeballApiVersion = exports.ConfigurableFontWeight = exports.IntegrationPurpose = exports.systemError = exports.VerificationErrorType = exports.VerificationOutcome = exports.VerificationStatus = void 0;
    var VerificationStatus;
    (function (VerificationStatus) {
        VerificationStatus["PENDING"] = "PENDING";
        VerificationStatus["BLOCKED"] = "BLOCKED";
        VerificationStatus["COMPLETE"] = "COMPLETE";
        VerificationStatus["FAILED"] = "FAILED";
    })(VerificationStatus = exports.VerificationStatus || (exports.VerificationStatus = {}));
    var VerificationOutcome;
    (function (VerificationOutcome) {
        VerificationOutcome["APPROVED"] = "APPROVED";
        VerificationOutcome["DENIED"] = "DENIED";
        VerificationOutcome["PENDING"] = "PENDING";
        VerificationOutcome["ERROR"] = "ERROR";
    })(VerificationOutcome = exports.VerificationOutcome || (exports.VerificationOutcome = {}));
    var VerificationErrorType;
    (function (VerificationErrorType) {
        VerificationErrorType["SYSTEM"] = "SYSTEM";
        VerificationErrorType["TIMEOUT"] = "TIMEOUT";
        VerificationErrorType["CANCELLED"] = "CANCELLED";
    })(VerificationErrorType = exports.VerificationErrorType || (exports.VerificationErrorType = {}));
    var systemError = function (errorText) { return ({
        errorType: VerificationErrorType.SYSTEM,
        details: errorText,
    }); };
    exports.systemError = systemError;
    var IntegrationPurpose;
    (function (IntegrationPurpose) {
        IntegrationPurpose["IDENTIFY"] = "IDENTIFY";
        IntegrationPurpose["OBSERVE"] = "OBSERVE";
        IntegrationPurpose["QUALIFY"] = "QUALIFY";
        IntegrationPurpose["EXECUTE"] = "EXECUTE";
    })(IntegrationPurpose = exports.IntegrationPurpose || (exports.IntegrationPurpose = {}));
    var ConfigurableFontWeight;
    (function (ConfigurableFontWeight) {
        ConfigurableFontWeight["LIGHT"] = "300";
        ConfigurableFontWeight["REGULAR"] = "400";
        ConfigurableFontWeight["MEDIUM"] = "500";
        ConfigurableFontWeight["SEMI_BOLD"] = "600";
        ConfigurableFontWeight["BOLD"] = "700";
    })(ConfigurableFontWeight = exports.ConfigurableFontWeight || (exports.ConfigurableFontWeight = {}));
    var DodgeballApiVersion;
    (function (DodgeballApiVersion) {
        DodgeballApiVersion["v1"] = "v1";
    })(DodgeballApiVersion = exports.DodgeballApiVersion || (exports.DodgeballApiVersion = {}));
});
define("common/Integration", ["require", "exports", "common/logger"], function (require, exports, logger_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var loadScript = function (url) { return __awaiter(void 0, void 0, void 0, function () {
        return __generator(this, function (_a) {
            return [2, new Promise(function (resolve, reject) {
                    try {
                        if (!url) {
                            throw new Error("No URL provided for integration script");
                        }
                        if (typeof document !== "undefined") {
                            var script = document.createElement("script");
                            script.src = url;
                            script.async = true;
                            script.onload = function () {
                                resolve();
                            };
                            script.onerror = function (error) {
                                logger_1.Logger.error("Could not load integration script", error).log();
                                resolve();
                            };
                            document.body.appendChild(script);
                        }
                    }
                    catch (error) {
                        logger_1.Logger.error("Could not load integration script", error).log();
                        resolve();
                    }
                })];
        });
    }); };
    var Integration = (function () {
        function Integration(_a) {
            var config = _a.config, url = _a.url, name = _a.name, purposes = _a.purposes, requestId = _a.requestId, parentContext = _a.parentContext;
            this.config = {};
            this.url = "";
            this.purposes = [];
            this.dodgeballRequestId = "";
            this.config = config;
            this.url = url;
            this.name = name;
            this.purposes = purposes;
            this.dodgeballRequestId = requestId;
            this.parentContext = parentContext;
        }
        Integration.prototype.load = function () {
            return __awaiter(this, void 0, void 0, function () {
                var error_1;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            _a.trys.push([0, 4, , 5]);
                            logger_1.Logger.info("Loading Integration: ".concat(this.name)).log();
                            if (!!this.url) return [3, 2];
                            logger_1.Logger.info("No URL provided for integration: ".concat(this.name)).log();
                            return [4, Promise.resolve()];
                        case 1: return [2, _a.sent()];
                        case 2: return [4, loadScript(this.url)];
                        case 3: return [2, _a.sent()];
                        case 4:
                            error_1 = _a.sent();
                            logger_1.Logger.error("Could not load Javascript for integration: ".concat(this.name), error_1).log();
                            return [2, Promise.reject(error_1)];
                        case 5: return [2];
                    }
                });
            });
        };
        Integration.prototype._resetConfig = function (_a) {
            var url = _a.url, config = _a.config, requestId = _a.requestId, _b = _a.purposes, purposes = _b === void 0 ? [] : _b;
            this.url = url;
            this.config = config;
            this.dodgeballRequestId = requestId;
            if (purposes.length > 0) {
                this.purposes = purposes;
            }
        };
        return Integration;
    }());
    exports.default = Integration;
});
define("internal/dodgeball-fingerprint-service-v2", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.getFingerprintProps = void 0;
    var Logger = (function () {
        function Logger() {
        }
        Logger.log = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            return;
        };
        Logger.warn = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            return;
        };
        Logger.error = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            return;
        };
        return Logger;
    }());
    var createErrorsCaptured = function () {
        var errors = [];
        return {
            getErrors: function () { return errors; },
            captureError: function (error, customMessage) {
                if (customMessage === void 0) { customMessage = ""; }
                var type = {
                    Error: true,
                    EvalError: true,
                    InternalError: true,
                    RangeError: true,
                    ReferenceError: true,
                    SyntaxError: true,
                    TypeError: true,
                    URIError: true,
                    InvalidStateError: true,
                    SecurityError: true,
                };
                var hasInnerSpace = function (s) { return /.+(\s).+/g.test(s); };
                var name = error.name, message = error.message;
                var trustedMessage = !hasInnerSpace(message)
                    ? undefined
                    : !customMessage
                        ? message
                        : "".concat(message, " [").concat(customMessage, "]");
                var trustedName = type[name] ? name : undefined;
                errors.push({ trustedName: trustedName, trustedMessage: trustedMessage });
                return undefined;
            },
        };
    };
    var errorsCaptured = createErrorsCaptured();
    var captureError = errorsCaptured.captureError;
    var attempt = function (fn, customMessage) {
        if (customMessage === void 0) { customMessage = ""; }
        try {
            return fn();
        }
        catch (error) {
            if (customMessage) {
                return captureError(error, customMessage);
            }
            return captureError(error);
        }
    };
    var caniuse = function (fn, objChainList, args, method) {
        if (objChainList === void 0) { objChainList = []; }
        if (args === void 0) { args = []; }
        if (method === void 0) { method = false; }
        var api;
        try {
            api = fn();
        }
        catch (error) {
            return undefined;
        }
        var i;
        var len = objChainList.length;
        var chain = api;
        try {
            for (i = 0; i < len; i++) {
                var obj = objChainList[i];
                chain = chain[obj];
            }
        }
        catch (error) {
            return undefined;
        }
        return method && args.length ? chain.apply(api, args) : method && !args.length ? chain.apply(api) : chain;
    };
    var timer = function (logStart) {
        var start = 0;
        try {
            start = performance.now();
        }
        catch (error) {
            captureError(error);
        }
        return function (logEnd) {
            var end = 0;
            try {
                end = performance.now() - start;
                logEnd && Logger.log("".concat(logEnd, ": ").concat(end / 1000, " seconds"));
                return end;
            }
            catch (error) {
                captureError(error);
                return 0;
            }
        };
    };
    var getCapturedErrors = function () { return ({ data: errorsCaptured.getErrors() }); };
    var IS_WORKER_SCOPE = !self.document && self.WorkerGlobalScope;
    function getEngine() {
        var x = [].constructor;
        try {
            (-1).toFixed(-1);
        }
        catch (err) {
            return err.message.length + (x + "").split(x.name).join("").length;
        }
    }
    var ENGINE_IDENTIFIER = getEngine();
    var IS_BLINK = ENGINE_IDENTIFIER == 80;
    var IS_GECKO = ENGINE_IDENTIFIER == 58;
    var IS_WEBKIT = ENGINE_IDENTIFIER == 77;
    var LIKE_BRAVE = IS_BLINK && "flat" in Array.prototype && !(("ReportingObserver" in self));
    function braveBrowser() {
        var brave = "brave" in navigator &&
            Object.getPrototypeOf(navigator.brave).constructor.name == "Brave" &&
            navigator.brave.isBrave.toString() == "function isBrave() { [native code] }";
        return brave;
    }
    function getBraveMode() {
        var mode = {
            unknown: false,
            allow: false,
            standard: false,
            strict: false,
        };
        try {
            var strictMode = function () {
                try {
                    window.OfflineAudioContext =
                        OfflineAudioContext || webkitOfflineAudioContext;
                }
                catch (err) { }
                if (!window.OfflineAudioContext) {
                    return false;
                }
                var context = new OfflineAudioContext(1, 1, 44100);
                var analyser = context.createAnalyser();
                var data = new Float32Array(analyser.frequencyBinCount);
                analyser.getFloatFrequencyData(data);
                var strict = new Set(data).size > 1;
                return strict;
            };
            if (strictMode()) {
                mode.strict = true;
                return mode;
            }
            var chromePlugins_1 = /(Chrom(e|ium)|Microsoft Edge) PDF (Plugin|Viewer)/;
            var pluginsList = __spreadArray([], navigator.plugins, true);
            var hasChromePlugins = pluginsList.filter(function (plugin) { return chromePlugins_1.test(plugin.name); }).length == 2;
            if (pluginsList.length && !hasChromePlugins) {
                mode.standard = true;
                return mode;
            }
            mode.allow = true;
            return mode;
        }
        catch (e) {
            mode.unknown = true;
            return mode;
        }
    }
    var getBraveUnprotectedParameters = function (parameters) {
        var blocked = new Set([
            "FRAGMENT_SHADER.HIGH_FLOAT.precision",
            "FRAGMENT_SHADER.HIGH_FLOAT.rangeMax",
            "FRAGMENT_SHADER.HIGH_FLOAT.rangeMin",
            "FRAGMENT_SHADER.HIGH_INT.precision",
            "FRAGMENT_SHADER.HIGH_INT.rangeMax",
            "FRAGMENT_SHADER.HIGH_INT.rangeMin",
            "FRAGMENT_SHADER.LOW_FLOAT.precision",
            "FRAGMENT_SHADER.LOW_FLOAT.rangeMax",
            "FRAGMENT_SHADER.LOW_FLOAT.rangeMin",
            "FRAGMENT_SHADER.MEDIUM_FLOAT.precision",
            "FRAGMENT_SHADER.MEDIUM_FLOAT.rangeMax",
            "FRAGMENT_SHADER.MEDIUM_FLOAT.rangeMin",
            "MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",
            "MAX_COMBINED_UNIFORM_BLOCKS",
            "MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",
            "MAX_DRAW_BUFFERS_WEBGL",
            "MAX_FRAGMENT_INPUT_COMPONENTS",
            "MAX_FRAGMENT_UNIFORM_BLOCKS",
            "MAX_FRAGMENT_UNIFORM_COMPONENTS",
            "MAX_TEXTURE_MAX_ANISOTROPY_EXT",
            "MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",
            "MAX_UNIFORM_BUFFER_BINDINGS",
            "MAX_VARYING_COMPONENTS",
            "MAX_VERTEX_OUTPUT_COMPONENTS",
            "MAX_VERTEX_UNIFORM_BLOCKS",
            "MAX_VERTEX_UNIFORM_COMPONENTS",
            "SHADING_LANGUAGE_VERSION",
            "UNMASKED_RENDERER_WEBGL",
            "UNMASKED_VENDOR_WEBGL",
            "VERSION",
            "VERTEX_SHADER.HIGH_FLOAT.precision",
            "VERTEX_SHADER.HIGH_FLOAT.rangeMax",
            "VERTEX_SHADER.HIGH_FLOAT.rangeMin",
            "VERTEX_SHADER.HIGH_INT.precision",
            "VERTEX_SHADER.HIGH_INT.rangeMax",
            "VERTEX_SHADER.HIGH_INT.rangeMin",
            "VERTEX_SHADER.LOW_FLOAT.precision",
            "VERTEX_SHADER.LOW_FLOAT.rangeMax",
            "VERTEX_SHADER.LOW_FLOAT.rangeMin",
            "VERTEX_SHADER.MEDIUM_FLOAT.precision",
            "VERTEX_SHADER.MEDIUM_FLOAT.rangeMax",
            "VERTEX_SHADER.MEDIUM_FLOAT.rangeMin",
        ]);
        var safeParameters = Object.keys(parameters).reduce(function (acc, curr) {
            if (blocked.has(curr)) {
                return acc;
            }
            acc[curr] = parameters[curr];
            return acc;
        }, {});
        return safeParameters;
    };
    var createPerformanceLogger = function () {
        var log = {};
        var total = 0;
        return {
            logTestResult: function (_a) {
                var test = _a.test, passed = _a.passed, _b = _a.time, time = _b === void 0 ? 0 : _b;
                total += time;
                var timeString = "".concat(time.toFixed(2), "ms");
                log[test] = timeString;
                var color = passed ? "#4cca9f" : "lightcoral";
                var result = passed ? "passed" : "failed";
                var symbol = passed ? "âœ”" : "-";
                return Logger.log("%c".concat(symbol).concat(time ? " (".concat(timeString, ")") : "", " ").concat(test, " ").concat(result), "color:".concat(color));
            },
            getLog: function () { return log; },
            getTotal: function () { return total; },
        };
    };
    var performanceLogger = createPerformanceLogger();
    var logTestResult = performanceLogger.logTestResult;
    var createTimer = function () {
        var start = 0;
        var log = [];
        return {
            stop: function () {
                if (start) {
                    log.push(performance.now() - start);
                    return log.reduce(function (acc, n) { return (acc += n); }, 0);
                }
                return start;
            },
            start: function () {
                start = performance.now();
                return start;
            },
        };
    };
    var queueEvent = function (timer, delay) {
        if (delay === void 0) { delay = 0; }
        timer.stop();
        return new Promise(function (resolve) { return setTimeout(function () { return resolve(timer.start()); }, delay); }).catch(function (e) { });
    };
    var queueTask = function () { return new Promise(function (resolve) { return setTimeout(function () { return resolve(null); }); }); };
    var EMOJIS = [
        [128512],
        [9786],
        [129333, 8205, 9794, 65039],
        [9832],
        [9784],
        [9895],
        [8265],
        [8505],
        [127987, 65039, 8205, 9895, 65039],
        [129394],
        [9785],
        [9760],
        [129489, 8205, 129456],
        [129487, 8205, 9794, 65039],
        [9975],
        [129489, 8205, 129309, 8205, 129489],
        [9752],
        [9968],
        [9961],
        [9972],
        [9992],
        [9201],
        [9928],
        [9730],
        [9969],
        [9731],
        [9732],
        [9976],
        [9823],
        [9937],
        [9000],
        [9993],
        [9999],
        [128105, 8205, 10084, 65039, 8205, 128139, 8205, 128104],
        [128104, 8205, 128105, 8205, 128103, 8205, 128102],
        [128104, 8205, 128105, 8205, 128102],
        [128512],
        [169],
        [174],
        [8482],
        [128065, 65039, 8205, 128488, 65039],
        [10002],
        [9986],
        [9935],
        [9874],
        [9876],
        [9881],
        [9939],
        [9879],
        [9904],
        [9905],
        [9888],
        [9762],
        [9763],
        [11014],
        [8599],
        [10145],
        [11013],
        [9883],
        [10017],
        [10013],
        [9766],
        [9654],
        [9197],
        [9199],
        [9167],
        [9792],
        [9794],
        [10006],
        [12336],
        [9877],
        [9884],
        [10004],
        [10035],
        [10055],
        [9724],
        [9642],
        [10083],
        [10084],
        [9996],
        [9757],
        [9997],
        [10052],
        [9878],
        [8618],
        [9775],
        [9770],
        [9774],
        [9745],
        [10036],
        [127344],
        [127359],
    ].map(function (emojiCode) { return String.fromCodePoint.apply(String, emojiCode); });
    var CSS_FONT_FAMILY = "\n'Segoe Fluent Icons',\n'Ink Free',\n'Bahnschrift',\n'Segoe MDL2 Assets',\n'HoloLens MDL2 Assets',\n'Leelawadee UI',\n'Javanese Text',\n'Segoe UI Emoji',\n'Aldhabi',\n'Gadugi',\n'Myanmar Text',\n'Nirmala UI',\n'Lucida Console',\n'Cambria Math',\n'Bai Jamjuree',\n'Chakra Petch',\n'Charmonman',\n'Fahkwang',\n'K2D',\n'Kodchasan',\n'KoHo',\n'Sarabun',\n'Srisakdi',\n'Galvji',\n'MuktaMahee Regular',\n'InaiMathi Bold',\n'American Typewriter Semibold',\n'Futura Bold',\n'SignPainter-HouseScript Semibold',\n'PingFang HK Light',\n'Kohinoor Devanagari Medium',\n'Luminari',\n'Geneva',\n'Helvetica Neue',\n'Droid Sans Mono',\n'Dancing Script',\n'Roboto',\n'Ubuntu',\n'Liberation Mono',\n'Source Code Pro',\n'DejaVu Sans',\n'OpenSymbol',\n'Chilanka',\n'Cousine',\n'Arimo',\n'Jomolhari',\n'MONO',\n'Noto Color Emoji',\nsans-serif !important\n";
    function getGpuBrand(gpu) {
        var _a;
        if (!gpu)
            return null;
        var gpuBrandMatcher = /(adreno|amd|apple|intel|llvm|mali|microsoft|nvidia|parallels|powervr|samsung|swiftshader|virtualbox|vmware)/i;
        var brand = /radeon/i.test(gpu)
            ? "AMD"
            : /geforce/i.test(gpu)
                ? "NVIDIA"
                : (((_a = gpuBrandMatcher.exec(gpu)) === null || _a === void 0 ? void 0 : _a[0]) || "other").toLocaleUpperCase();
        return brand;
    }
    var Analysis = {};
    var LowerEntropy = {
        AUDIO: false,
        CANVAS: false,
        FONTS: false,
        SCREEN: false,
        TIME_ZONE: false,
        WEBGL: false,
    };
    function patch(oldEl, newEl, fn) {
        var _a;
        if (!oldEl)
            return null;
        (_a = oldEl.parentNode) === null || _a === void 0 ? void 0 : _a.replaceChild(newEl, oldEl);
        return typeof fn === "function" ? fn() : true;
    }
    function html(templateStr) {
        var expressionSet = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            expressionSet[_i - 1] = arguments[_i];
        }
        var template = document.createElement("template");
        template.innerHTML = templateStr.map(function (s, i) { return "".concat(s).concat(expressionSet[i] || ""); }).join("");
        return document.importNode(template.content, true);
    }
    try {
        speechSynthesis.getVoices();
    }
    catch (err) { }
    function createLieRecords() {
        var records = {};
        return {
            getRecords: function () { return records; },
            documentLie: function (name, lie) {
                var isArray = lie instanceof Array;
                if (records[name]) {
                    if (isArray) {
                        return (records[name] = __spreadArray(__spreadArray([], records[name], true), lie, true));
                    }
                    return records[name].push(lie);
                }
                return isArray ? (records[name] = lie) : (records[name] = [lie]);
            },
        };
    }
    var lieRecords = createLieRecords();
    var documentLie = lieRecords.documentLie;
    var GHOST = "\nheight: 100vh;\nwidth: 100vw;\nposition: absolute;\nleft:-10000px;\nvisibility: hidden;\n";
    function getRandomValues() {
        return String.fromCharCode(Math.random() * 26 + 97) + Math.random().toString(36).slice(-7);
    }
    function getBehemothIframe(win) {
        try {
            if (!IS_BLINK)
                return win;
            var div = win.document.createElement("div");
            div.setAttribute("id", getRandomValues());
            div.setAttribute("style", GHOST);
            div.innerHTML = "<div><iframe></iframe></div>";
            win.document.body.appendChild(div);
            var iframe = __spreadArray([], __spreadArray([], div.childNodes, true)[0].childNodes, true)[0];
            if (!iframe)
                return null;
            var contentWindow = (iframe || {}).contentWindow;
            if (!contentWindow)
                return null;
            var div2 = contentWindow.document.createElement("div");
            div2.innerHTML = "<div><iframe></iframe></div>";
            contentWindow.document.body.appendChild(div2);
            var iframe2 = __spreadArray([], __spreadArray([], div2.childNodes, true)[0].childNodes, true)[0];
            return iframe2.contentWindow;
        }
        catch (error) {
            captureError(error, "client blocked behemoth iframe");
            return win;
        }
    }
    var RAND = getRandomValues();
    var HAS_REFLECT = "Reflect" in self;
    function isTypeError(err) {
        return err.constructor.name == "TypeError";
    }
    function failsTypeError(_a) {
        var spawnErr = _a.spawnErr, withStack = _a.withStack, final = _a.final;
        try {
            spawnErr();
            throw Error();
        }
        catch (err) {
            if (!isTypeError(err))
                return true;
            return withStack ? withStack(err) : false;
        }
        finally {
            final && final();
        }
    }
    function failsWithError(fn) {
        try {
            fn();
            return false;
        }
        catch (err) {
            return true;
        }
    }
    function hasKnownToString(name) {
        var _a;
        return _a = {},
            _a["function ".concat(name, "() { [native code] }")] = true,
            _a["function get ".concat(name, "() { [native code] }")] = true,
            _a["function () { [native code] }"] = true,
            _a["function ".concat(name, "() {").concat("\n", "    [native code]").concat("\n", "}")] = true,
            _a["function get ".concat(name, "() {").concat("\n", "    [native code]").concat("\n", "}")] = true,
            _a["function () {".concat("\n", "    [native code]").concat("\n", "}")] = true,
            _a;
    }
    function hasValidStack(err, reg, i) {
        if (i === void 0) { i = 1; }
        if (i === 0)
            return reg.test(err.message);
        return reg.test(err.stack.split("\n")[i]);
    }
    var AT_FUNCTION = /at Function\.toString /;
    var AT_OBJECT = /at Object\.toString/;
    var FUNCTION_INSTANCE = /at (Function\.)?\[Symbol.hasInstance\]/;
    var PROXY_INSTANCE = /at (Proxy\.)?\[Symbol.hasInstance\]/;
    var STRICT_MODE = /strict mode/;
    function queryLies(_a) {
        var _b, _c;
        var scope = _a.scope, apiFunction = _a.apiFunction, proto = _a.proto, obj = _a.obj, lieProps = _a.lieProps;
        if (typeof apiFunction != "function") {
            return {
                lied: 0,
                lieTypes: [],
            };
        }
        var name = apiFunction.name.replace(/get\s/, "");
        var objName = obj === null || obj === void 0 ? void 0 : obj.name;
        var nativeProto = Object.getPrototypeOf(apiFunction);
        var lies = (_b = {},
            _b["failed illegal error"] = !!obj &&
                failsTypeError({
                    spawnErr: function () { return obj.prototype[name]; },
                }),
            _b["failed undefined properties"] = !!obj &&
                /^(screen|navigator)$/i.test(objName) &&
                !!(Object.getOwnPropertyDescriptor(self[objName.toLowerCase()], name) ||
                    (HAS_REFLECT && Reflect.getOwnPropertyDescriptor(self[objName.toLowerCase()], name))),
            _b["failed call interface error"] = failsTypeError({
                spawnErr: function () {
                    new apiFunction();
                    apiFunction.call(proto);
                },
            }),
            _b["failed apply interface error"] = failsTypeError({
                spawnErr: function () {
                    new apiFunction();
                    apiFunction.apply(proto);
                },
            }),
            _b["failed new instance error"] = failsTypeError({
                spawnErr: function () { return new apiFunction(); },
            }),
            _b["failed class extends error"] = !IS_WEBKIT &&
                failsTypeError({
                    spawnErr: function () {
                        var Fake = (function (_super) {
                            __extends(Fake, _super);
                            function Fake() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            return Fake;
                        }(apiFunction));
                    },
                }),
            _b["failed null conversion error"] = failsTypeError({
                spawnErr: function () { return Object.setPrototypeOf(apiFunction, null).toString(); },
                final: function () { return Object.setPrototypeOf(apiFunction, nativeProto); },
            }),
            _b["failed toString"] = !hasKnownToString(name)[scope.Function.prototype.toString.call(apiFunction)] ||
                !hasKnownToString("toString")[scope.Function.prototype.toString.call(apiFunction.toString)],
            _b['failed "prototype" in function'] = "prototype" in apiFunction,
            _b["failed descriptor"] = !!(Object.getOwnPropertyDescriptor(apiFunction, "arguments") ||
                Reflect.getOwnPropertyDescriptor(apiFunction, "arguments") ||
                Object.getOwnPropertyDescriptor(apiFunction, "caller") ||
                Reflect.getOwnPropertyDescriptor(apiFunction, "caller") ||
                Object.getOwnPropertyDescriptor(apiFunction, "prototype") ||
                Reflect.getOwnPropertyDescriptor(apiFunction, "prototype") ||
                Object.getOwnPropertyDescriptor(apiFunction, "toString") ||
                Reflect.getOwnPropertyDescriptor(apiFunction, "toString")),
            _b["failed own property"] = !!(apiFunction.hasOwnProperty("arguments") ||
                apiFunction.hasOwnProperty("caller") ||
                apiFunction.hasOwnProperty("prototype") ||
                apiFunction.hasOwnProperty("toString")),
            _b["failed descriptor keys"] = Object.keys(Object.getOwnPropertyDescriptors(apiFunction)).sort().toString() != "length,name",
            _b["failed own property names"] = Object.getOwnPropertyNames(apiFunction).sort().toString() != "length,name",
            _b["failed own keys names"] = HAS_REFLECT && Reflect.ownKeys(apiFunction).sort().toString() != "length,name",
            _b["failed object toString error"] = failsTypeError({
                spawnErr: function () { return Object.create(apiFunction).toString(); },
                withStack: function (err) { return IS_BLINK && !hasValidStack(err, AT_FUNCTION); },
            }) ||
                failsTypeError({
                    spawnErr: function () { return Object.create(new Proxy(apiFunction, {})).toString(); },
                    withStack: function (err) { return IS_BLINK && !hasValidStack(err, AT_OBJECT); },
                }),
            _b["failed at incompatible proxy error"] = failsTypeError({
                spawnErr: function () {
                    apiFunction.arguments;
                    apiFunction.caller;
                },
                withStack: function (err) { return IS_GECKO && !hasValidStack(err, STRICT_MODE, 0); },
            }),
            _b["failed at toString incompatible proxy error"] = failsTypeError({
                spawnErr: function () {
                    apiFunction.toString.arguments;
                    apiFunction.toString.caller;
                },
                withStack: function (err) { return IS_GECKO && !hasValidStack(err, STRICT_MODE, 0); },
            }),
            _b["failed at too much recursion error"] = failsTypeError({
                spawnErr: function () {
                    Object.setPrototypeOf(apiFunction, Object.create(apiFunction)).toString();
                },
                final: function () { return Object.setPrototypeOf(apiFunction, nativeProto); },
            }),
            _b);
        var detectProxies = name == "toString" || !!lieProps["Function.toString"] || !!lieProps["Permissions.query"];
        if (detectProxies) {
            var proxy1_1 = new Proxy(apiFunction, {});
            var proxy2_1 = new Proxy(apiFunction, {});
            var proxy3_1 = new Proxy(apiFunction, {});
            lies = __assign(__assign({}, lies), (_c = {}, _c["failed at too much recursion __proto__ error"] = !failsTypeError({
                spawnErr: function () {
                    apiFunction.__proto__ = proxy;
                    apiFunction++;
                },
                final: function () { return Object.setPrototypeOf(apiFunction, nativeProto); },
            }), _c["failed at chain cycle error"] = !failsTypeError({
                spawnErr: function () {
                    Object.setPrototypeOf(proxy1_1, Object.create(proxy1_1)).toString();
                },
                final: function () { return Object.setPrototypeOf(proxy1_1, nativeProto); },
            }), _c["failed at chain cycle __proto__ error"] = !failsTypeError({
                spawnErr: function () {
                    proxy2_1.__proto__ = proxy2_1;
                    proxy2_1++;
                },
                final: function () { return Object.setPrototypeOf(proxy2_1, nativeProto); },
            }), _c["failed at reflect set proto"] = HAS_REFLECT &&
                failsTypeError({
                    spawnErr: function () {
                        Reflect.setPrototypeOf(apiFunction, Object.create(apiFunction));
                        RAND in apiFunction;
                        throw new TypeError();
                    },
                    final: function () { return Object.setPrototypeOf(apiFunction, nativeProto); },
                }), _c["failed at reflect set proto proxy"] = HAS_REFLECT &&
                !failsTypeError({
                    spawnErr: function () {
                        Reflect.setPrototypeOf(proxy3_1, Object.create(proxy3_1));
                        RAND in proxy3_1;
                    },
                    final: function () { return Object.setPrototypeOf(proxy3_1, nativeProto); },
                }), _c["failed at instanceof check error"] = IS_BLINK &&
                (failsTypeError({
                    spawnErr: function () {
                        apiFunction instanceof apiFunction;
                    },
                    withStack: function (err) { return !hasValidStack(err, FUNCTION_INSTANCE); },
                }) ||
                    failsTypeError({
                        spawnErr: function () {
                            var proxy = new Proxy(apiFunction, {});
                            proxy instanceof proxy;
                        },
                        withStack: function (err) { return !hasValidStack(err, PROXY_INSTANCE); },
                    })), _c["failed at define properties"] = IS_BLINK &&
                HAS_REFLECT &&
                failsWithError(function () {
                    Object.defineProperty(apiFunction, "", { configurable: true }).toString();
                    Reflect.deleteProperty(apiFunction, "");
                }), _c));
        }
        var lieTypes = Object.keys(lies).filter(function (key) { return !!lies[key]; });
        return {
            lied: lieTypes.length,
            lieTypes: lieTypes,
        };
    }
    function createLieDetector(scope) {
        var isSupported = function (obj) { return typeof obj != "undefined" && !!obj; };
        var props = {};
        var propsSearched = [];
        return {
            getProps: function () { return props; },
            getPropsSearched: function () { return propsSearched; },
            searchLies: function (fn, config) {
                var _a = config || {}, target = _a.target, ignore = _a.ignore;
                var obj;
                try {
                    obj = fn();
                    if (!isSupported(obj)) {
                        return;
                    }
                }
                catch (error) {
                    return;
                }
                var interfaceObject = !!obj.prototype ? obj.prototype : obj;
                __spreadArray([], new Set(__spreadArray(__spreadArray([], Object.getOwnPropertyNames(interfaceObject), true), Object.keys(interfaceObject), true)), true).sort()
                    .forEach(function (name) {
                    var _a;
                    var skip = name == "constructor" || (target && !new Set(target).has(name)) || (ignore && new Set(ignore).has(name));
                    if (skip)
                        return;
                    var objectNameString = /\s(.+)\]/;
                    var apiName = "".concat(obj.name ? obj.name : objectNameString.test(obj) ? (_a = objectNameString.exec(obj)) === null || _a === void 0 ? void 0 : _a[1] : undefined, ".").concat(name);
                    propsSearched.push(apiName);
                    try {
                        var proto = obj.prototype ? obj.prototype : obj;
                        var res = void 0;
                        try {
                            var apiFunction = proto[name];
                            if (typeof apiFunction == "function") {
                                res = queryLies({
                                    scope: scope,
                                    apiFunction: proto[name],
                                    proto: proto,
                                    obj: null,
                                    lieProps: props,
                                });
                                if (res.lied) {
                                    documentLie(apiName, res.lieTypes);
                                    return (props[apiName] = res.lieTypes);
                                }
                                return;
                            }
                            if (name != "name" && name != "length" && name[0] !== name[0].toUpperCase()) {
                                var lie = ["failed descriptor.value undefined"];
                                documentLie(apiName, lie);
                                return (props[apiName] = lie);
                            }
                        }
                        catch (error) { }
                        var getterFunction = Object.getOwnPropertyDescriptor(proto, name).get;
                        res = queryLies({
                            scope: scope,
                            apiFunction: getterFunction,
                            proto: proto,
                            obj: obj,
                            lieProps: props,
                        });
                        if (res.lied) {
                            documentLie(apiName, res.lieTypes);
                            return (props[apiName] = res.lieTypes);
                        }
                        return;
                    }
                    catch (error) {
                        var lie = "failed prototype test execution";
                        documentLie(apiName, lie);
                        return (props[apiName] = [lie]);
                    }
                });
            },
        };
    }
    function getPhantomIframe() {
        if (IS_WORKER_SCOPE)
            return { iframeWindow: self };
        try {
            var numberOfIframes = self.length;
            var frag = new DocumentFragment();
            var div = document.createElement("div");
            var id = getRandomValues();
            div.setAttribute("id", id);
            frag.appendChild(div);
            div.innerHTML = "<div style=\"".concat(GHOST, "\"><iframe></iframe></div>");
            document.body.appendChild(frag);
            var iframeWindow = self[numberOfIframes];
            var phantomWindow = getBehemothIframe(iframeWindow);
            return { iframeWindow: phantomWindow || self, div: div };
        }
        catch (error) {
            captureError(error, "client blocked phantom iframe");
            return { iframeWindow: self };
        }
    }
    var _a = getPhantomIframe() || {}, PHANTOM_DARKNESS = _a.iframeWindow, PARENT_PHANTOM = _a.div;
    function getPrototypeLies(scope) {
        var lieDetector = createLieDetector(scope);
        var searchLies = lieDetector.searchLies;
        searchLies(function () { return Function; }, {
            target: ["toString"],
            ignore: ["caller", "arguments"],
        });
        searchLies(function () { return AnalyserNode; });
        searchLies(function () { return AudioBuffer; }, {
            target: ["copyFromChannel", "getChannelData"],
        });
        searchLies(function () { return BiquadFilterNode; }, {
            target: ["getFrequencyResponse"],
        });
        searchLies(function () { return CanvasRenderingContext2D; }, {
            target: [
                "getImageData",
                "getLineDash",
                "isPointInPath",
                "isPointInStroke",
                "measureText",
                "quadraticCurveTo",
                "fillText",
                "strokeText",
                "font",
            ],
        });
        searchLies(function () { return CSSStyleDeclaration; }, {
            target: ["setProperty"],
        });
        searchLies(function () { return CSS2Properties; }, {
            target: ["setProperty"],
        });
        searchLies(function () { return Date; }, {
            target: [
                "getDate",
                "getDay",
                "getFullYear",
                "getHours",
                "getMinutes",
                "getMonth",
                "getTime",
                "getTimezoneOffset",
                "setDate",
                "setFullYear",
                "setHours",
                "setMilliseconds",
                "setMonth",
                "setSeconds",
                "setTime",
                "toDateString",
                "toJSON",
                "toLocaleDateString",
                "toLocaleString",
                "toLocaleTimeString",
                "toString",
                "toTimeString",
                "valueOf",
            ],
        });
        searchLies(function () { return GPU; }, {
            target: ["requestAdapter"],
        });
        searchLies(function () { return GPUAdapter; }, {
            target: ["requestAdapterInfo"],
        });
        searchLies(function () { return Intl.DateTimeFormat; }, {
            target: ["format", "formatRange", "formatToParts", "resolvedOptions"],
        });
        searchLies(function () { return Document; }, {
            target: [
                "createElement",
                "createElementNS",
                "getElementById",
                "getElementsByClassName",
                "getElementsByName",
                "getElementsByTagName",
                "getElementsByTagNameNS",
                "referrer",
                "write",
                "writeln",
            ],
            ignore: [
                "onreadystatechange",
                "onmouseenter",
                "onmouseleave",
            ],
        });
        searchLies(function () { return DOMRect; });
        searchLies(function () { return DOMRectReadOnly; });
        searchLies(function () { return Element; }, {
            target: [
                "append",
                "appendChild",
                "getBoundingClientRect",
                "getClientRects",
                "insertAdjacentElement",
                "insertAdjacentHTML",
                "insertAdjacentText",
                "insertBefore",
                "prepend",
                "replaceChild",
                "replaceWith",
                "setAttribute",
            ],
        });
        searchLies(function () { return FontFace; }, {
            target: ["family", "load", "status"],
        });
        searchLies(function () { return HTMLCanvasElement; });
        searchLies(function () { return HTMLElement; }, {
            target: ["clientHeight", "clientWidth", "offsetHeight", "offsetWidth", "scrollHeight", "scrollWidth"],
            ignore: [
                "onmouseenter",
                "onmouseleave",
            ],
        });
        searchLies(function () { return HTMLIFrameElement; }, {
            target: ["contentDocument", "contentWindow"],
        });
        searchLies(function () { return IntersectionObserverEntry; }, {
            target: ["boundingClientRect", "intersectionRect", "rootBounds"],
        });
        searchLies(function () { return Math; }, {
            target: [
                "acos",
                "acosh",
                "asinh",
                "atan",
                "atan2",
                "atanh",
                "cbrt",
                "cos",
                "cosh",
                "exp",
                "expm1",
                "log",
                "log10",
                "log1p",
                "sin",
                "sinh",
                "sqrt",
                "tan",
                "tanh",
            ],
        });
        searchLies(function () { return MediaDevices; }, {
            target: ["enumerateDevices", "getDisplayMedia", "getUserMedia"],
        });
        searchLies(function () { return Navigator; }, {
            target: [
                "appCodeName",
                "appName",
                "appVersion",
                "buildID",
                "connection",
                "deviceMemory",
                "getBattery",
                "getGamepads",
                "getVRDisplays",
                "hardwareConcurrency",
                "language",
                "languages",
                "maxTouchPoints",
                "mimeTypes",
                "oscpu",
                "platform",
                "plugins",
                "product",
                "productSub",
                "sendBeacon",
                "serviceWorker",
                "storage",
                "userAgent",
                "vendor",
                "vendorSub",
                "webdriver",
                "gpu",
            ],
        });
        searchLies(function () { return Node; }, {
            target: ["appendChild", "insertBefore", "replaceChild"],
        });
        searchLies(function () { return OffscreenCanvas; }, {
            target: ["convertToBlob", "getContext"],
        });
        searchLies(function () { return OffscreenCanvasRenderingContext2D; }, {
            target: [
                "getImageData",
                "getLineDash",
                "isPointInPath",
                "isPointInStroke",
                "measureText",
                "quadraticCurveTo",
                "font",
            ],
        });
        searchLies(function () { return Permissions; }, {
            target: ["query"],
        });
        searchLies(function () { return Range; }, {
            target: ["getBoundingClientRect", "getClientRects"],
        });
        searchLies(function () { return Intl.RelativeTimeFormat; }, {
            target: ["resolvedOptions"],
        });
        searchLies(function () { return Screen; });
        searchLies(function () { return speechSynthesis; }, {
            target: ["getVoices"],
        });
        searchLies(function () { return String; }, {
            target: ["fromCodePoint"],
        });
        searchLies(function () { return StorageManager; }, {
            target: ["estimate"],
        });
        searchLies(function () { return SVGRect; });
        searchLies(function () { return SVGRectElement; }, {
            target: ["getBBox"],
        });
        searchLies(function () { return SVGTextContentElement; }, {
            target: ["getExtentOfChar", "getSubStringLength", "getComputedTextLength"],
        });
        searchLies(function () { return TextMetrics; });
        searchLies(function () { return WebGLRenderingContext; }, {
            target: ["bufferData", "getParameter", "readPixels"],
        });
        searchLies(function () { return WebGL2RenderingContext; }, {
            target: ["bufferData", "getParameter", "readPixels"],
        });
        var props = lieDetector.getProps();
        var propsSearched = lieDetector.getPropsSearched();
        return {
            lieDetector: lieDetector,
            lieList: Object.keys(props).sort(),
            lieDetail: props,
            lieCount: Object.keys(props).reduce(function (acc, key) { return acc + props[key].length; }, 0),
            propsSearched: propsSearched,
        };
    }
    var start = performance.now();
    var _b = getPrototypeLies(PHANTOM_DARKNESS), lieDetector = _b.lieDetector, lieList = _b.lieList, lieDetail = _b.lieDetail, propsSearched = _b.propsSearched;
    var getNonFunctionToStringLies = function (x) {
        return !x ? x : x.filter(function (x) { return !/object toString|toString incompatible proxy/.test(x); }).length;
    };
    var lieProps;
    var prototypeLies;
    var PROTO_BENCHMARK = 0;
    if (!IS_WORKER_SCOPE) {
        lieProps = (function () {
            var props = lieDetector.getProps();
            return Object.keys(props).reduce(function (acc, key) {
                acc[key] = getNonFunctionToStringLies(props[key]);
                return acc;
            }, {});
        })();
        prototypeLies = JSON.parse(JSON.stringify(lieDetail));
        var perf = performance.now() - start;
        PROTO_BENCHMARK = +perf.toFixed(2);
        var message_1 = "".concat(propsSearched.length, " API properties analyzed in ").concat(PROTO_BENCHMARK, "ms (").concat(lieList.length, " corrupted)");
        setTimeout(function () { return Logger.log(message_1); }, 3000);
    }
    var getLies = function () {
        var records = lieRecords.getRecords();
        var totalLies = Object.keys(records).reduce(function (acc, key) {
            acc += records[key].length;
            return acc;
        }, 0);
        return { data: records, totalLies: totalLies };
    };
    var proxyBehavior = function (x) { return (typeof x == "function" ? true : false); };
    var GIBBERS = /[cC]f|[jJ][bcdfghlmprsty]|[qQ][bcdfghjklmnpsty]|[vV][bfhjkmpt]|[xX][dkrz]|[yY]y|[zZ][fr]|[cCxXzZ]j|[bBfFgGjJkKpPvVqQtTwWyYzZ]q|[cCfFgGjJpPqQwW]v|[jJqQvV]w|[bBcCdDfFgGhHjJkKmMpPqQsSvVwWxXzZ]x|[bBfFhHjJkKmMpPqQ]z/g;
    var gibberish = function (str, _a) {
        var _b = _a === void 0 ? {} : _a, _c = _b.strict, strict = _c === void 0 ? false : _c;
        if (!str)
            return [];
        var letterCaseSequenceGibbers = [];
        var tests = [
            /([A-Z]{3,}[a-z])/g,
            /([a-z][A-Z]{3,})/g,
            /([a-z][A-Z]{2,}[a-z])/g,
            /([a-z][\d]{2,}[a-z])/g,
            /([A-Z][\d]{2,}[a-z])/g,
            /([a-z][\d]{2,}[A-Z])/g,
        ];
        tests.forEach(function (regExp) {
            var match = str.match(regExp);
            if (match) {
                return letterCaseSequenceGibbers.push(match.join(", "));
            }
            return;
        });
        var letterSequenceGibbers = [];
        var clean = str
            .replace(/\d|\W|_/g, " ")
            .replace(/\s+/g, " ")
            .trim()
            .split(" ")
            .join("_");
        var len = clean.length;
        var arr = __spreadArray([], clean, true);
        arr.forEach(function (char, index) {
            var nextIndex = index + 1;
            var nextChar = arr[nextIndex];
            var isWordSequence = nextChar !== "_" && char !== "_" && nextIndex !== len;
            if (isWordSequence) {
                var combo = char + nextChar;
                if (GIBBERS.test(combo))
                    letterSequenceGibbers.push(combo);
            }
        });
        var gibbers = __spreadArray(__spreadArray([], (!strict && letterSequenceGibbers.length < 3 ? [] : letterSequenceGibbers), true), (!strict && letterCaseSequenceGibbers.length < 4 ? [] : letterCaseSequenceGibbers), true);
        var allow = [
            "bz",
            "cf",
            "fx",
            "mx",
            "vb",
            "xd",
            "gx",
            "PCIe",
            "vm",
            "NVIDIAGa",
        ];
        return gibbers.filter(function (x) { return !allow.includes(x); });
    };
    function compressWebGLRenderer(x) {
        if (!x)
            return;
        return ("" + x)
            .replace(/ANGLE \(|\sDirect3D.+|\sD3D.+|\svs_.+\)|\((DRM|POLARIS|LLVM).+|Mesa.+|(ATI|INTEL)-.+|Metal\s-\s.+|NVIDIA\s[\d|\.]+/gi, "")
            .replace(/(\s(ti|\d{1,2}GB|super)$)/gi, "")
            .replace(/\s{2,}/g, " ")
            .trim()
            .replace(/((r|g)(t|)(x|s|\d) |Graphics |GeForce |Radeon (HD |Pro |))(\d+)/i, function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            return "".concat(args[1]).concat(args[6][0]).concat(args[6].slice(1).replace(/\d/g, "0"), "s");
        });
    }
    var getWebGLRendererParts = function (x) {
        var knownParts = [
            "AMD",
            "ANGLE",
            "ASUS",
            "ATI",
            "ATI Radeon",
            "ATI Technologies Inc",
            "Adreno",
            "Android Emulator",
            "Apple",
            "Apple GPU",
            "Apple M1",
            "Chipset",
            "D3D11",
            "Direct3D",
            "Express Chipset",
            "GeForce",
            "Generation",
            "Generic Renderer",
            "Google",
            "Google SwiftShader",
            "Graphics",
            "Graphics Media Accelerator",
            "HD Graphics Family",
            "Intel",
            "Intel(R) HD Graphics",
            "Intel(R) UHD Graphics",
            "Iris",
            "KBL Graphics",
            "Mali",
            "Mesa",
            "Mesa DRI",
            "Metal",
            "Microsoft",
            "Microsoft Basic Render Driver",
            "Microsoft Corporation",
            "NVIDIA",
            "NVIDIA Corporation",
            "NVIDIAGameReadyD3D",
            "OpenGL",
            "OpenGL Engine",
            "Open Source Technology Center",
            "Parallels",
            "Parallels Display Adapter",
            "PCIe",
            "Plus Graphics",
            "PowerVR",
            "Pro Graphics",
            "Quadro",
            "Radeon",
            "Radeon Pro",
            "Radeon Pro Vega",
            "Samsung",
            "SSE2",
            "VMware",
            "VMware SVGA 3D",
            "Vega",
            "VirtualBox",
            "VirtualBox Graphics Adapter",
            "Vulkan",
            "Xe Graphics",
            "llvmpipe",
        ];
        var parts = __spreadArray([], knownParts, true).filter(function (name) { return ("" + x).includes(name); });
        return __spreadArray([], new Set(parts), true).sort().join(", ");
    };
    var getWebGLRendererConfidence = function (x) {
        if (!x) {
            return;
        }
        var parts = getWebGLRendererParts(x);
        var hasKnownParts = parts.length;
        var hasBlankSpaceNoise = /\s{2,}|^\s|\s$/.test(x);
        var hasBrokenAngleStructure = /^ANGLE/.test(x) && !(/^ANGLE \((.+)\)/.exec(x) || [])[1];
        var gibbers = gibberish(x, { strict: true }).join(", ");
        var valid = hasKnownParts && !hasBlankSpaceNoise && !hasBrokenAngleStructure;
        var confidence = valid && !gibbers.length ? "high" : valid && gibbers.length ? "moderate" : "low";
        var grade = confidence == "high" ? "A" : confidence == "moderate" ? "C" : "F";
        var warnings = new Set([
            hasBlankSpaceNoise ? "found extra spaces" : undefined,
            hasBrokenAngleStructure ? "broken angle structure" : undefined,
        ]);
        warnings.delete(undefined);
        return {
            parts: parts,
            warnings: __spreadArray([], warnings, true),
            gibbers: gibbers,
            confidence: confidence,
            grade: grade,
        };
    };
    var createTrashBin = function () {
        var bin = [];
        return {
            getBin: function () { return bin; },
            sendToTrash: function (name, val, response) {
                if (response === void 0) { response = undefined; }
                var proxyLike = proxyBehavior(val);
                var value = !proxyLike ? val : "proxy behavior detected";
                bin.push({ name: name, value: value });
                return response;
            },
        };
    };
    var trashBin = createTrashBin();
    var sendToTrash = trashBin.sendToTrash;
    var getTrash = function () { return ({ trashBin: trashBin.getBin() }); };
    var AUDIO_TRAP = Math.random();
    function hasFakeAudio() {
        return __awaiter(this, void 0, void 0, function () {
            var context, oscillator;
            return __generator(this, function (_a) {
                context = new OfflineAudioContext(1, 100, 44100);
                oscillator = context.createOscillator();
                oscillator.frequency.value = 0;
                oscillator.start(0);
                context.startRendering();
                return [2, new Promise(function (resolve) {
                        context.oncomplete = function (event) {
                            var _a, _b;
                            var channelData = (_b = (_a = event.renderedBuffer).getChannelData) === null || _b === void 0 ? void 0 : _b.call(_a, 0);
                            if (!channelData)
                                resolve(false);
                            resolve("" + __spreadArray([], new Set(channelData), true) !== "0");
                        };
                    }).finally(function () { return oscillator.disconnect(); })];
            });
        });
    }
    function getOfflineAudioContext() {
        var _a, _b, _c;
        return __awaiter(this, void 0, void 0, function () {
            var timer_1, channelDataLie, copyFromChannelLie, lied, bufferLen, context, analyser_1, oscillator_1, dynamicsCompressor_1, biquadFilter_1, dataArray, floatFrequencyUniqueDataSize, floatFrequencyDataLie, values, getRenderedBuffer, _d, audioData, audioIsFake, _e, floatFrequencyData, floatTimeDomainData, buffer, compressorGainReduction, getSnapshot, getSum, floatFrequencyDataSum, floatTimeDomainDataSum, copy, bins, copySample, binsSample, sampleSum, matching, copyFromChannelSupported, audioSampleLie, totalUniqueSamples, audioUniquenessTrash, getRandFromRange_1, getCopyFrom_1, getCopyTo_1, getNoiseFactor, noiseFactor, noise, known, pattern, knownPattern, error_2;
            var _f;
            return __generator(this, function (_g) {
                switch (_g.label) {
                    case 0:
                        _g.trys.push([0, 5, , 6]);
                        timer_1 = createTimer();
                        return [4, queueEvent(timer_1)];
                    case 1:
                        _g.sent();
                        try {
                            window.OfflineAudioContext = OfflineAudioContext || webkitOfflineAudioContext;
                        }
                        catch (err) { }
                        if (!window.OfflineAudioContext) {
                            logTestResult({ test: "audio", passed: false });
                            return [2];
                        }
                        channelDataLie = lieProps["AudioBuffer.getChannelData"];
                        copyFromChannelLie = lieProps["AudioBuffer.copyFromChannel"];
                        lied = channelDataLie || copyFromChannelLie || false;
                        bufferLen = 5000;
                        context = new OfflineAudioContext(1, bufferLen, 44100);
                        analyser_1 = context.createAnalyser();
                        oscillator_1 = context.createOscillator();
                        dynamicsCompressor_1 = context.createDynamicsCompressor();
                        biquadFilter_1 = context.createBiquadFilter();
                        dataArray = new Float32Array(analyser_1.frequencyBinCount);
                        (_a = analyser_1.getFloatFrequencyData) === null || _a === void 0 ? void 0 : _a.call(analyser_1, dataArray);
                        floatFrequencyUniqueDataSize = new Set(dataArray).size;
                        if (floatFrequencyUniqueDataSize > 1) {
                            lied = true;
                            floatFrequencyDataLie = "expected -Infinity (silence) and got ".concat(floatFrequencyUniqueDataSize, " frequencies");
                            documentLie("AnalyserNode.getFloatFrequencyData", floatFrequencyDataLie);
                        }
                        values = (_f = {},
                            _f["AnalyserNode.channelCount"] = attempt(function () { return analyser_1.channelCount; }),
                            _f["AnalyserNode.channelCountMode"] = attempt(function () { return analyser_1.channelCountMode; }),
                            _f["AnalyserNode.channelInterpretation"] = attempt(function () { return analyser_1.channelInterpretation; }),
                            _f["AnalyserNode.context.sampleRate"] = attempt(function () { return analyser_1.context.sampleRate; }),
                            _f["AnalyserNode.fftSize"] = attempt(function () { return analyser_1.fftSize; }),
                            _f["AnalyserNode.frequencyBinCount"] = attempt(function () { return analyser_1.frequencyBinCount; }),
                            _f["AnalyserNode.maxDecibels"] = attempt(function () { return analyser_1.maxDecibels; }),
                            _f["AnalyserNode.minDecibels"] = attempt(function () { return analyser_1.minDecibels; }),
                            _f["AnalyserNode.numberOfInputs"] = attempt(function () { return analyser_1.numberOfInputs; }),
                            _f["AnalyserNode.numberOfOutputs"] = attempt(function () { return analyser_1.numberOfOutputs; }),
                            _f["AnalyserNode.smoothingTimeConstant"] = attempt(function () { return analyser_1.smoothingTimeConstant; }),
                            _f["AnalyserNode.context.listener.forwardX.maxValue"] = attempt(function () {
                                return caniuse(function () { return analyser_1.context.listener.forwardX.maxValue; });
                            }),
                            _f["BiquadFilterNode.gain.maxValue"] = attempt(function () { return biquadFilter_1.gain.maxValue; }),
                            _f["BiquadFilterNode.frequency.defaultValue"] = attempt(function () { return biquadFilter_1.frequency.defaultValue; }),
                            _f["BiquadFilterNode.frequency.maxValue"] = attempt(function () { return biquadFilter_1.frequency.maxValue; }),
                            _f["DynamicsCompressorNode.attack.defaultValue"] = attempt(function () { return dynamicsCompressor_1.attack.defaultValue; }),
                            _f["DynamicsCompressorNode.knee.defaultValue"] = attempt(function () { return dynamicsCompressor_1.knee.defaultValue; }),
                            _f["DynamicsCompressorNode.knee.maxValue"] = attempt(function () { return dynamicsCompressor_1.knee.maxValue; }),
                            _f["DynamicsCompressorNode.ratio.defaultValue"] = attempt(function () { return dynamicsCompressor_1.ratio.defaultValue; }),
                            _f["DynamicsCompressorNode.ratio.maxValue"] = attempt(function () { return dynamicsCompressor_1.ratio.maxValue; }),
                            _f["DynamicsCompressorNode.release.defaultValue"] = attempt(function () { return dynamicsCompressor_1.release.defaultValue; }),
                            _f["DynamicsCompressorNode.release.maxValue"] = attempt(function () { return dynamicsCompressor_1.release.maxValue; }),
                            _f["DynamicsCompressorNode.threshold.defaultValue"] = attempt(function () { return dynamicsCompressor_1.threshold.defaultValue; }),
                            _f["DynamicsCompressorNode.threshold.minValue"] = attempt(function () { return dynamicsCompressor_1.threshold.minValue; }),
                            _f["OscillatorNode.detune.maxValue"] = attempt(function () { return oscillator_1.detune.maxValue; }),
                            _f["OscillatorNode.detune.minValue"] = attempt(function () { return oscillator_1.detune.minValue; }),
                            _f["OscillatorNode.frequency.defaultValue"] = attempt(function () { return oscillator_1.frequency.defaultValue; }),
                            _f["OscillatorNode.frequency.maxValue"] = attempt(function () { return oscillator_1.frequency.maxValue; }),
                            _f["OscillatorNode.frequency.minValue"] = attempt(function () { return oscillator_1.frequency.minValue; }),
                            _f);
                        getRenderedBuffer = function (context) {
                            return new Promise(function (resolve) {
                                var analyser = context.createAnalyser();
                                var oscillator = context.createOscillator();
                                var dynamicsCompressor = context.createDynamicsCompressor();
                                try {
                                    oscillator.type = "triangle";
                                    oscillator.frequency.value = 10000;
                                    dynamicsCompressor.threshold.value = -50;
                                    dynamicsCompressor.knee.value = 40;
                                    dynamicsCompressor.attack.value = 0;
                                }
                                catch (err) { }
                                oscillator.connect(dynamicsCompressor);
                                dynamicsCompressor.connect(analyser);
                                dynamicsCompressor.connect(context.destination);
                                oscillator.start(0);
                                context.startRendering();
                                return context.addEventListener("complete", function (event) {
                                    var _a;
                                    try {
                                        dynamicsCompressor.disconnect();
                                        oscillator.disconnect();
                                        var floatFrequencyData_1 = new Float32Array(analyser.frequencyBinCount);
                                        (_a = analyser.getFloatFrequencyData) === null || _a === void 0 ? void 0 : _a.call(analyser, floatFrequencyData_1);
                                        var floatTimeDomainData_1 = new Float32Array(analyser.fftSize);
                                        if ("getFloatTimeDomainData" in analyser) {
                                            analyser.getFloatTimeDomainData(floatTimeDomainData_1);
                                        }
                                        return resolve({
                                            floatFrequencyData: floatFrequencyData_1,
                                            floatTimeDomainData: floatTimeDomainData_1,
                                            buffer: event.renderedBuffer,
                                            compressorGainReduction: dynamicsCompressor.reduction.value ||
                                                dynamicsCompressor.reduction,
                                        });
                                    }
                                    catch (error) {
                                        return resolve(null);
                                    }
                                });
                            });
                        };
                        return [4, queueEvent(timer_1)];
                    case 2:
                        _g.sent();
                        return [4, Promise.all([
                                getRenderedBuffer(new OfflineAudioContext(1, bufferLen, 44100)),
                                hasFakeAudio().catch(function () { return false; }),
                            ])];
                    case 3:
                        _d = _g.sent(), audioData = _d[0], audioIsFake = _d[1];
                        _e = audioData || {}, floatFrequencyData = _e.floatFrequencyData, floatTimeDomainData = _e.floatTimeDomainData, buffer = _e.buffer, compressorGainReduction = _e.compressorGainReduction;
                        return [4, queueEvent(timer_1)];
                    case 4:
                        _g.sent();
                        getSnapshot = function (arr, start, end) {
                            var collection = [];
                            for (var i = start; i < end; i++) {
                                collection.push(arr[i]);
                            }
                            return collection;
                        };
                        getSum = function (arr) { return (!arr ? 0 : __spreadArray([], arr, true).reduce(function (acc, curr) { return (acc += Math.abs(curr)); }, 0)); };
                        floatFrequencyDataSum = getSum(floatFrequencyData);
                        floatTimeDomainDataSum = getSum(floatTimeDomainData);
                        copy = new Float32Array(bufferLen);
                        bins = new Float32Array();
                        if (buffer) {
                            (_b = buffer.copyFromChannel) === null || _b === void 0 ? void 0 : _b.call(buffer, copy, 0);
                            bins = ((_c = buffer.getChannelData) === null || _c === void 0 ? void 0 : _c.call(buffer, 0)) || [];
                        }
                        copySample = getSnapshot(__spreadArray([], copy, true), 4500, 4600);
                        binsSample = getSnapshot(__spreadArray([], bins, true), 4500, 4600);
                        sampleSum = getSum(getSnapshot(__spreadArray([], bins, true), 4500, bufferLen));
                        if (audioIsFake) {
                            lied = true;
                            documentLie("AudioBuffer", "audio is fake");
                        }
                        matching = "" + binsSample == "" + copySample;
                        copyFromChannelSupported = "copyFromChannel" in AudioBuffer.prototype;
                        if (copyFromChannelSupported && !matching) {
                            lied = true;
                            audioSampleLie = "getChannelData and copyFromChannel samples mismatch";
                            documentLie("AudioBuffer", audioSampleLie);
                        }
                        totalUniqueSamples = new Set(__spreadArray([], bins, true)).size;
                        if (totalUniqueSamples == bufferLen) {
                            audioUniquenessTrash = "".concat(totalUniqueSamples, " unique samples of ").concat(bufferLen, " is too high");
                            sendToTrash("AudioBuffer", audioUniquenessTrash);
                        }
                        getRandFromRange_1 = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };
                        getCopyFrom_1 = function (rand, buffer, copy) {
                            var length = buffer.length;
                            var max = 20;
                            var start = getRandFromRange_1(275, length - (max + 1));
                            var mid = start + max / 2;
                            var end = start + max;
                            buffer.getChannelData(0)[start] = rand;
                            buffer.getChannelData(0)[mid] = rand;
                            buffer.getChannelData(0)[end] = rand;
                            buffer.copyFromChannel(copy, 0);
                            var attack = [
                                buffer.getChannelData(0)[start] === 0 ? Math.random() : 0,
                                buffer.getChannelData(0)[mid] === 0 ? Math.random() : 0,
                                buffer.getChannelData(0)[end] === 0 ? Math.random() : 0,
                            ];
                            return __spreadArray([], new Set(__spreadArray(__spreadArray(__spreadArray([], buffer.getChannelData(0), true), copy, true), attack, true)), true).filter(function (x) { return x !== 0; });
                        };
                        getCopyTo_1 = function (rand, buffer, copy) {
                            buffer.copyToChannel(copy.map(function () { return rand; }), 0);
                            var frequency = buffer.getChannelData(0)[0];
                            var dataAttacked = __spreadArray([], buffer.getChannelData(0), true).map(function (x) { return (x !== frequency || !x ? Math.random() : x); });
                            return dataAttacked.filter(function (x) { return x !== frequency; });
                        };
                        getNoiseFactor = function () {
                            var length = 2000;
                            try {
                                var result = __spreadArray([], new Set(__spreadArray(__spreadArray([], getCopyFrom_1(AUDIO_TRAP, new AudioBuffer({ length: length, sampleRate: 44100 }), new Float32Array(length)), true), getCopyTo_1(AUDIO_TRAP, new AudioBuffer({ length: length, sampleRate: 44100 }), new Float32Array(length)), true)), true);
                                return +(result.length !== 1 && result.reduce(function (acc, n) { return (acc += +n); }, 0));
                            }
                            catch (error) {
                                Logger.error(error);
                                return 0;
                            }
                        };
                        noiseFactor = getNoiseFactor();
                        noise = noiseFactor || __spreadArray([], new Set(bins.slice(0, 100)), true).reduce(function (acc, n) { return (acc += n); }, 0);
                        known = {
                            "-20.538286209106445,164537.64796829224,502.5999283068122": [124.04347527516074],
                            "-20.538288116455078,164537.64796829224,502.5999283068122": [124.04347527516074],
                            "-20.538288116455078,164537.64795303345,502.5999283068122": [
                                124.04347527516074, 124.04347518575378,
                                124.04347519320436, 124.04347523045726,
                            ],
                            "-20.538286209106445,164537.64805984497,502.5999283068122": [124.04347527516074],
                            "-20.538288116455078,164537.64805984497,502.5999283068122": [
                                124.04347527516074, 124.04347518575378,
                                124.04347520065494, 124.04347523790784, 124.043475252809, 124.04347526025958, 124.04347522300668,
                                124.04347523045726, 124.04347524535842,
                            ],
                            "-20.538288116455078,164881.9727935791,502.59990317908887": [124.04344884395687],
                            "-20.538288116455078,164881.9729309082,502.59990317908887": [124.04344884395687],
                            "-20.538286209106445,164882.2082748413,502.59990317911434": [124.0434488439787],
                            "-20.538288116455078,164882.20836639404,502.59990317911434": [124.0434488439787],
                            "-20.538286209106445,164863.45319366455,502.5999033495791": [124.04344968475198],
                            "-20.538288116455078,164863.45319366455,502.5999033495791": [
                                124.04344968475198,
                                124.04375314689969,
                                124.04341541208123,
                            ],
                            "-20.538288116455078,164531.82670593262,502.59992767886797": [
                                124.04347503720783,
                                124.04347494780086, 124.04347495525144, 124.04347499250434, 124.0434750074055,
                            ],
                            "-20.538286209106445,164540.1567993164,502.59992209258417": [124.04347657808103],
                            "-20.538288116455078,164540.1567993164,502.59992209258417": [
                                124.04347657808103,
                                124.0434765110258,
                                124.04347656317987,
                                124.04347657063045,
                                124.04378004022874,
                            ],
                            "-20.538288116455078,164540.1580810547,502.59992209258417": [124.04347657808103],
                            "-20.535268783569336,164940.360786438,502.69695458233764": [124.080722568091],
                            "-20.538288116455078,164538.55073928833,502.5999307175407": [124.04347730590962],
                            "-20.535268783569336,164948.14596557617,502.6969545823631": [124.08072256811283],
                            "-20.535268783569336,164926.65912628174,502.6969610930064": [124.08072766105033],
                            "-20.535268783569336,164932.96168518066,502.69696179985476": [124.08072787802666],
                            "-20.535268783569336,164931.54252624512,502.6969617998802": [124.08072787804849],
                            "-20.535268783569336,164591.9659729004,502.6969925059784": [124.08074500028306],
                            "-20.535268783569336,164590.4111480713,502.6969947774742": [124.0807470110085],
                            "-20.535268783569336,164590.41115570068,502.6969947774742": [124.0807470110085],
                            "-20.535268783569336,164593.64263916016,502.69700490119067": [124.08075528279005],
                            "-20.535268783569336,164595.0285797119,502.69700578315314": [124.08075643483608],
                            "-20.538288116455078,164860.96576690674,502.6075748118915": [124.0434496279413],
                            "-20.538288116455078,164860.9938583374,502.6073723861407": [124.04344962817413],
                            "-20.538288116455078,164862.14078521729,502.59991004130643": [124.04345734833623],
                            "-20.538288116455078,164534.50047683716,502.61542110471055": [124.04347520368174],
                            "-20.538288116455078,164535.1324043274,502.6079200572931": [124.04347521997988],
                            "-20.538288116455078,164535.51135635376,502.60633126448374": [124.04347522952594],
                            "-31.509262084960938,167722.6894454956,148.42717787250876": [35.7383295930922],
                            "-31.509262084960938,167728.72756958008,148.427184343338": [35.73833402246237],
                            "-31.50218963623047,167721.27517700195,148.47537828609347": [35.74996031448245],
                            "-31.502185821533203,167727.52931976318,148.47542023658752": [35.7499681673944],
                            "-31.502185821533203,167700.7530517578,148.475412953645": [35.749968223273754],
                            "-31.502187728881836,167697.23177337646,148.47541113197803": [35.74996626004577],
                            "-20.538288116455078,164873.80361557007,502.59989904452596": [124.0434485301812],
                            "-20.538288116455078,164863.47760391235,502.5999033453372": [124.0434496849557],
                            "-20.538288116455078,164876.62466049194,502.5998911961724": [124.043453265891],
                            "-20.538288116455078,164862.14879989624,502.59991004130643": [124.04345734833623],
                            "-20.538288116455078,164896.54167175293,502.5999054916465": [124.04345808873768],
                            "-29.837873458862305,163206.43050384521,0": [35.10892717540264],
                            "-29.837873458862305,163224.69785308838,0": [35.10892752557993],
                            "-29.83786964416504,163209.17245483398,0": [35.10893232002854],
                            "-29.83786964416504,163202.77336883545,0": [35.10893253237009],
                        };
                        if (noise) {
                            lied = true;
                            documentLie("AudioBuffer", "sample noise detected");
                        }
                        pattern = "" + [compressorGainReduction, floatFrequencyDataSum, floatTimeDomainDataSum];
                        knownPattern = known[pattern];
                        if (knownPattern && !knownPattern.includes(sampleSum)) {
                            LowerEntropy.AUDIO = true;
                            sendToTrash("AudioBuffer", "suspicious frequency data");
                        }
                        logTestResult({ time: timer_1.stop(), test: "audio", passed: true });
                        return [2, {
                                totalUniqueSamples: totalUniqueSamples,
                                compressorGainReduction: compressorGainReduction,
                                floatFrequencyDataSum: floatFrequencyDataSum,
                                floatTimeDomainDataSum: floatTimeDomainDataSum,
                                sampleSum: sampleSum,
                                binsSample: binsSample,
                                copySample: copyFromChannelSupported ? copySample : [undefined],
                                values: values,
                                noise: noise,
                                lied: lied,
                            }];
                    case 5:
                        error_2 = _g.sent();
                        logTestResult({ test: "audio", passed: false });
                        captureError(error_2, "OfflineAudioContext failed or blocked by client");
                        return [2];
                    case 6: return [2];
                }
            });
        });
    }
    var pixelImageRandom = "";
    var getPixelMods = function () {
        var pattern1 = [];
        var pattern2 = [];
        var len = 8;
        var alpha = 255;
        var visualMultiplier = 5;
        try {
            var options = {
                willReadFrequently: true,
                desynchronized: true,
            };
            var canvasDisplay1 = document.createElement("canvas");
            var canvasDisplay2 = document.createElement("canvas");
            var canvas1 = document.createElement("canvas");
            var canvas2 = document.createElement("canvas");
            var contextDisplay1_1 = canvasDisplay1.getContext("2d", options);
            var contextDisplay2_1 = canvasDisplay2.getContext("2d", options);
            var context1_1 = canvas1.getContext("2d", options);
            var context2_1 = canvas2.getContext("2d", options);
            if (!contextDisplay1_1 || !contextDisplay2_1 || !context1_1 || !context2_1) {
                throw new Error("canvas context blocked");
            }
            canvasDisplay1.width = len * visualMultiplier;
            canvasDisplay1.height = len * visualMultiplier;
            canvasDisplay2.width = len * visualMultiplier;
            canvasDisplay2.height = len * visualMultiplier;
            canvas1.width = len;
            canvas1.height = len;
            canvas2.width = len;
            canvas2.height = len;
            __spreadArray([], Array(len), true).forEach(function (e, x) {
                return __spreadArray([], Array(len), true).forEach(function (e, y) {
                    var red = ~~(Math.random() * 256);
                    var green = ~~(Math.random() * 256);
                    var blue = ~~(Math.random() * 256);
                    var colors = "".concat(red, ", ").concat(green, ", ").concat(blue, ", ").concat(alpha);
                    context1_1.fillStyle = "rgba(".concat(colors, ")");
                    context1_1.fillRect(x, y, 1, 1);
                    contextDisplay1_1.fillStyle = "rgba(".concat(colors, ")");
                    contextDisplay1_1.fillRect(x * visualMultiplier, y * visualMultiplier, 1 * visualMultiplier, 1 * visualMultiplier);
                    return pattern1.push(colors);
                });
            });
            __spreadArray([], Array(len), true).forEach(function (e, x) {
                return __spreadArray([], Array(len), true).forEach(function (e, y) {
                    var _a = (context1_1.getImageData(x, y, 1, 1) || {}).data, red = _a[0], green = _a[1], blue = _a[2], alpha = _a[3];
                    var colors = "".concat(red, ", ").concat(green, ", ").concat(blue, ", ").concat(alpha);
                    context2_1.fillStyle = "rgba(".concat(colors, ")");
                    context2_1.fillRect(x, y, 1, 1);
                    var _b = (context2_1.getImageData(x, y, 1, 1) || {}).data, red2 = _b[0], green2 = _b[1], blue2 = _b[2], alpha2 = _b[3];
                    var colorsDisplay = "\n      ".concat(red != red2 ? red2 : 255, ",\n      ").concat(green != green2 ? green2 : 255, ",\n      ").concat(blue != blue2 ? blue2 : 255, ",\n      ").concat(alpha != alpha2 ? alpha2 : 1, "\n    ");
                    contextDisplay2_1.fillStyle = "rgba(".concat(colorsDisplay, ")");
                    contextDisplay2_1.fillRect(x * visualMultiplier, y * visualMultiplier, 1 * visualMultiplier, 1 * visualMultiplier);
                    return pattern2.push(colors);
                });
            });
            var patternDiffs_1 = [];
            var rgbaChannels_1 = new Set();
            __spreadArray([], Array(pattern1.length), true).forEach(function (e, i) {
                var pixelColor1 = pattern1[i];
                var pixelColor2 = pattern2[i];
                if (pixelColor1 != pixelColor2) {
                    var rgbaValues1 = pixelColor1.split(",");
                    var rgbaValues2 = pixelColor2.split(",");
                    var colors = [
                        rgbaValues1[0] != rgbaValues2[0] ? "r" : "",
                        rgbaValues1[1] != rgbaValues2[1] ? "g" : "",
                        rgbaValues1[2] != rgbaValues2[2] ? "b" : "",
                        rgbaValues1[3] != rgbaValues2[3] ? "a" : "",
                    ].join("");
                    rgbaChannels_1.add(colors);
                    patternDiffs_1.push([i, colors]);
                }
            });
            pixelImageRandom = canvasDisplay1.toDataURL();
            var pixelImage = canvasDisplay2.toDataURL();
            var rgba = rgbaChannels_1.size ? __spreadArray([], rgbaChannels_1, true).sort().join(", ") : undefined;
            var pixels = patternDiffs_1.length || undefined;
            return { rgba: rgba, pixels: pixels, pixelImage: pixelImage };
        }
        catch (error) {
            return Logger.error(error);
        }
    };
    var paintCanvas = function (_a) {
        var canvas = _a.canvas, context = _a.context, _b = _a.strokeText, strokeText = _b === void 0 ? false : _b, _c = _a.cssFontFamily, cssFontFamily = _c === void 0 ? "" : _c, _d = _a.area, area = _d === void 0 ? { width: 50, height: 50 } : _d, _e = _a.rounds, rounds = _e === void 0 ? 10 : _e, _f = _a.maxShadowBlur, maxShadowBlur = _f === void 0 ? 50 : _f, _g = _a.seed, seed = _g === void 0 ? 500 : _g, _h = _a.offset, offset = _h === void 0 ? 2001000001 : _h, _j = _a.multiplier, multiplier = _j === void 0 ? 15000 : _j;
        if (!context) {
            return;
        }
        context.clearRect(0, 0, canvas.width, canvas.height);
        canvas.width = area.width;
        canvas.height = area.height;
        if (canvas.style) {
            canvas.style.display = "none";
        }
        var createPicassoSeed = function (_a) {
            var seed = _a.seed, offset = _a.offset, multiplier = _a.multiplier;
            var current = Number(seed) % Number(offset);
            var getNextSeed = function () {
                current = (Number(multiplier) * current) % Number(offset);
                return current;
            };
            return {
                getNextSeed: getNextSeed,
            };
        };
        var picassoSeed = createPicassoSeed({ seed: seed, offset: offset, multiplier: multiplier });
        var getNextSeed = picassoSeed.getNextSeed;
        var patchSeed = function (current, offset, maxBound, computeFloat) {
            var result = ((current - 1) / offset) * (maxBound || 1) || 0;
            return computeFloat ? result : Math.floor(result);
        };
        var addRandomCanvasGradient = function (context, offset, area, colors, getNextSeed) {
            var width = area.width, height = area.height;
            var canvasGradient = context.createRadialGradient(patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height), patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height), patchSeed(getNextSeed(), offset, width));
            canvasGradient.addColorStop(0, colors[patchSeed(getNextSeed(), offset, colors.length)]);
            canvasGradient.addColorStop(1, colors[patchSeed(getNextSeed(), offset, colors.length)]);
            context.fillStyle = canvasGradient;
        };
        var colors = [
            "#FF6633",
            "#FFB399",
            "#FF33FF",
            "#FFFF99",
            "#00B3E6",
            "#E6B333",
            "#3366E6",
            "#999966",
            "#99FF99",
            "#B34D4D",
            "#80B300",
            "#809900",
            "#E6B3B3",
            "#6680B3",
            "#66991A",
            "#FF99E6",
            "#CCFF1A",
            "#FF1A66",
            "#E6331A",
            "#33FFCC",
            "#66994D",
            "#B366CC",
            "#4D8000",
            "#B33300",
            "#CC80CC",
            "#66664D",
            "#991AFF",
            "#E666FF",
            "#4DB3FF",
            "#1AB399",
            "#E666B3",
            "#33991A",
            "#CC9999",
            "#B3B31A",
            "#00E680",
            "#4D8066",
            "#809980",
            "#E6FF80",
            "#1AFF33",
            "#999933",
            "#FF3380",
            "#CCCC00",
            "#66E64D",
            "#4D80CC",
            "#9900B3",
            "#E64D66",
            "#4DB380",
            "#FF4D4D",
            "#99E6E6",
            "#6666FF",
        ];
        var drawOutlineOfText = function (context, offset, area, getNextSeed) {
            var width = area.width, height = area.height;
            var fontSize = 2.99;
            context.font = "".concat(height / fontSize, "px ").concat(cssFontFamily.replace(/!important/gm, ""));
            context.strokeText("ðŸ‘¾A", patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height), patchSeed(getNextSeed(), offset, width));
        };
        var createCircularArc = function (context, offset, area, getNextSeed) {
            var width = area.width, height = area.height;
            context.beginPath();
            context.arc(patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height), patchSeed(getNextSeed(), offset, Math.min(width, height)), patchSeed(getNextSeed(), offset, 2 * Math.PI, true), patchSeed(getNextSeed(), offset, 2 * Math.PI, true));
            context.stroke();
        };
        var createBezierCurve = function (context, offset, area, getNextSeed) {
            var width = area.width, height = area.height;
            context.beginPath();
            context.moveTo(patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height));
            context.bezierCurveTo(patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height), patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height), patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height));
            context.stroke();
        };
        var createQuadraticCurve = function (context, offset, area, getNextSeed) {
            var width = area.width, height = area.height;
            context.beginPath();
            context.moveTo(patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height));
            context.quadraticCurveTo(patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height), patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height));
            context.stroke();
        };
        var createEllipticalArc = function (context, offset, area, getNextSeed) {
            if (!("ellipse" in context)) {
                return;
            }
            var width = area.width, height = area.height;
            context.beginPath();
            context.ellipse(patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height), patchSeed(getNextSeed(), offset, Math.floor(width / 2)), patchSeed(getNextSeed(), offset, Math.floor(height / 2)), patchSeed(getNextSeed(), offset, 2 * Math.PI, true), patchSeed(getNextSeed(), offset, 2 * Math.PI, true), patchSeed(getNextSeed(), offset, 2 * Math.PI, true));
            context.stroke();
        };
        var methods = [createCircularArc, createBezierCurve, createQuadraticCurve];
        if (!IS_WEBKIT)
            methods.push(createEllipticalArc);
        if (strokeText)
            methods.push(drawOutlineOfText);
        __spreadArray([], Array(rounds), true).forEach(function (x) {
            addRandomCanvasGradient(context, offset, area, colors, getNextSeed);
            context.shadowBlur = patchSeed(getNextSeed(), offset, maxShadowBlur, true);
            context.shadowColor = colors[patchSeed(getNextSeed(), offset, colors.length)];
            var nextMethod = methods[patchSeed(getNextSeed(), offset, methods.length)];
            nextMethod(context, offset, area, getNextSeed);
            context.fill();
        });
        return;
    };
    function getCanvas2d() {
        return __awaiter(this, void 0, void 0, function () {
            var timer_2, dataLie, contextLie, imageDataLie, codePointLie, textMetricsLie, lied, win, doc, canvas, context_1, canvasCPU, contextCPU, imageSizeMax, dataURI, mods, pattern_1, emojiSet, textMetricsSystemSum, maxSize, paintURI, paintCpuURI, textURI, emojiURI, imageDataLowEntropy, KnownImageData, getTextMetricsFloatLie, error_3;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 8, , 9]);
                        timer_2 = createTimer();
                        return [4, queueEvent(timer_2)];
                    case 1:
                        _a.sent();
                        dataLie = lieProps["HTMLCanvasElement.toDataURL"];
                        contextLie = lieProps["HTMLCanvasElement.getContext"];
                        imageDataLie = lieProps["CanvasRenderingContext2D.fillText"] ||
                            lieProps["CanvasRenderingContext2D.font"] ||
                            lieProps["CanvasRenderingContext2D.getImageData"] ||
                            lieProps["CanvasRenderingContext2D.strokeText"];
                        codePointLie = lieProps["String.fromCodePoint"];
                        textMetricsLie = Boolean(lieProps["CanvasRenderingContext2D.measureText"] ||
                            lieProps["TextMetrics.actualBoundingBoxAscent"] ||
                            lieProps["TextMetrics.actualBoundingBoxDescent"] ||
                            lieProps["TextMetrics.actualBoundingBoxLeft"] ||
                            lieProps["TextMetrics.actualBoundingBoxRight"] ||
                            lieProps["TextMetrics.fontBoundingBoxAscent"] ||
                            lieProps["TextMetrics.fontBoundingBoxDescent"] ||
                            lieProps["TextMetrics.width"]);
                        lied = dataLie || contextLie || imageDataLie || textMetricsLie || codePointLie || false;
                        win = window;
                        if (!LIKE_BRAVE && PHANTOM_DARKNESS) {
                            win = PHANTOM_DARKNESS;
                        }
                        doc = win.document;
                        canvas = doc.createElement("canvas");
                        context_1 = canvas.getContext("2d");
                        canvasCPU = doc.createElement("canvas");
                        contextCPU = canvasCPU.getContext("2d", {
                            desynchronized: true,
                            willReadFrequently: true,
                        });
                        if (!context_1) {
                            throw new Error("canvas context blocked");
                        }
                        return [4, queueEvent(timer_2)];
                    case 2:
                        _a.sent();
                        imageSizeMax = IS_WEBKIT ? 50 : 75;
                        paintCanvas({
                            canvas: canvas,
                            context: context_1,
                            strokeText: true,
                            cssFontFamily: CSS_FONT_FAMILY,
                            area: { width: imageSizeMax, height: imageSizeMax },
                            rounds: 10,
                        });
                        dataURI = canvas.toDataURL();
                        return [4, queueEvent(timer_2)];
                    case 3:
                        _a.sent();
                        mods = getPixelMods();
                        return [4, queueEvent(timer_2)];
                    case 4:
                        _a.sent();
                        context_1.font = "10px ".concat(CSS_FONT_FAMILY.replace(/!important/gm, ""));
                        pattern_1 = new Set();
                        emojiSet = EMOJIS.reduce(function (emojiSet, emoji) {
                            var _a = context_1.measureText(emoji) || {}, actualBoundingBoxAscent = _a.actualBoundingBoxAscent, actualBoundingBoxDescent = _a.actualBoundingBoxDescent, actualBoundingBoxLeft = _a.actualBoundingBoxLeft, actualBoundingBoxRight = _a.actualBoundingBoxRight, fontBoundingBoxAscent = _a.fontBoundingBoxAscent, fontBoundingBoxDescent = _a.fontBoundingBoxDescent, width = _a.width;
                            var dimensions = [
                                actualBoundingBoxAscent,
                                actualBoundingBoxDescent,
                                actualBoundingBoxLeft,
                                actualBoundingBoxRight,
                                fontBoundingBoxAscent,
                                fontBoundingBoxDescent,
                                width,
                            ].join(",");
                            if (!pattern_1.has(dimensions)) {
                                pattern_1.add(dimensions);
                                emojiSet.add(emoji);
                            }
                            return emojiSet;
                        }, new Set());
                        textMetricsSystemSum = 0.00001 *
                            __spreadArray([], pattern_1, true).map(function (x) {
                                return x.split(",").reduce(function (acc, x) { return (acc += +x || 0); }, 0);
                            })
                                .reduce(function (acc, x) { return (acc += x); }, 0);
                        maxSize = 75;
                        return [4, queueEvent(timer_2)];
                    case 5:
                        _a.sent();
                        paintCanvas({
                            canvas: canvas,
                            context: context_1,
                            area: { width: maxSize, height: maxSize },
                        });
                        paintURI = canvas.toDataURL();
                        return [4, queueEvent(timer_2)];
                    case 6:
                        _a.sent();
                        paintCanvas({
                            canvas: canvasCPU,
                            context: contextCPU,
                            area: { width: maxSize, height: maxSize },
                        });
                        paintCpuURI = canvasCPU.toDataURL();
                        context_1.restore();
                        context_1.clearRect(0, 0, canvas.width, canvas.height);
                        canvas.width = 50;
                        canvas.height = 50;
                        context_1.font = "50px ".concat(CSS_FONT_FAMILY.replace(/!important/gm, ""));
                        context_1.fillText("A", 7, 37);
                        textURI = canvas.toDataURL();
                        context_1.restore();
                        context_1.clearRect(0, 0, canvas.width, canvas.height);
                        canvas.width = 50;
                        canvas.height = 50;
                        context_1.font = "35px ".concat(CSS_FONT_FAMILY.replace(/!important/gm, ""));
                        context_1.fillText("ðŸ‘¾", 0, 37);
                        emojiURI = canvas.toDataURL();
                        context_1.clearRect(0, 0, canvas.width, canvas.height);
                        if ((mods && mods.pixels) || !!Math.max.apply(Math, context_1.getImageData(0, 0, 8, 8).data)) {
                            lied = true;
                            documentLie("CanvasRenderingContext2D.getImageData", "pixel data modified");
                        }
                        canvas.width = 2;
                        canvas.height = 2;
                        context_1.fillStyle = "#000";
                        context_1.fillRect(0, 0, canvas.width, canvas.height);
                        context_1.fillStyle = "#fff";
                        context_1.fillRect(2, 2, 1, 1);
                        context_1.beginPath();
                        context_1.arc(0, 0, 2, 0, 1, true);
                        context_1.closePath();
                        context_1.fill();
                        imageDataLowEntropy = context_1.getImageData(0, 0, 2, 2).data.join("");
                        KnownImageData = {
                            BLINK: [
                                "255255255255178178178255246246246255555555255",
                                "255255255255192192192255240240240255484848255",
                                "255255255255177177177255246246246255535353255",
                                "255255255255128128128255191191191255646464255",
                                "255255255255178178178255247247247255565656255",
                                "255255255255174174174255242242242255474747255",
                                "255255255255229229229255127127127255686868255",
                                "255255255255192192192255244244244255535353255",
                            ],
                            GECKO: [
                                "255255255255191191191255207207207255646464255",
                                "255255255255192192192255240240240255484848255",
                                "255255255255191191191255239239239255646464255",
                                "255255255255191191191255223223223255606060255",
                                "255255255255171171171255223223223255606060255",
                            ],
                            WEBKIT: [
                                "255255255255185185185255233233233255474747255",
                                "255255255255185185185255229229229255474747255",
                                "255255255255185185185255218218218255474747255",
                                "255255255255192192192255240240240255484848255",
                                "255255255255178178178255247247247255565656255",
                                "255255255255178178178255247247247255565656255",
                                "255255255255192192192255240240240255484848255",
                                "255255255255186186186255218218218255464646255",
                            ],
                        };
                        Analysis.imageDataLowEntropy = imageDataLowEntropy;
                        if (IS_BLINK && !KnownImageData.BLINK.includes(imageDataLowEntropy)) {
                            LowerEntropy.CANVAS = true;
                        }
                        else if (IS_GECKO && !KnownImageData.GECKO.includes(imageDataLowEntropy)) {
                            LowerEntropy.CANVAS = true;
                        }
                        else if (IS_WEBKIT && !KnownImageData.WEBKIT.includes(imageDataLowEntropy)) {
                            LowerEntropy.CANVAS = true;
                        }
                        if (LowerEntropy.CANVAS) {
                            sendToTrash("CanvasRenderingContext2D.getImageData", "suspicious pixel data");
                        }
                        getTextMetricsFloatLie = function (context) {
                            var isFloat = function (n) { return n % 1 !== 0; };
                            var _a = context.measureText("") || {}, abba = _a.actualBoundingBoxAscent, abbd = _a.actualBoundingBoxDescent, abbl = _a.actualBoundingBoxLeft, abbr = _a.actualBoundingBoxRight, fbba = _a.fontBoundingBoxAscent, fbbd = _a.fontBoundingBoxDescent;
                            var lied = [abba, abbd, abbl, abbr, fbba, fbbd].find(function (x) { return isFloat(x || 0); });
                            return lied;
                        };
                        return [4, queueEvent(timer_2)];
                    case 7:
                        _a.sent();
                        if (getTextMetricsFloatLie(context_1)) {
                            textMetricsLie = true;
                            lied = true;
                            documentLie("CanvasRenderingContext2D.measureText", "metric noise detected");
                        }
                        logTestResult({ time: timer_2.stop(), test: "canvas 2d", passed: true });
                        return [2, {
                                dataURI: dataURI,
                                paintURI: paintURI,
                                paintCpuURI: paintCpuURI,
                                textURI: textURI,
                                emojiURI: emojiURI,
                                mods: mods,
                                textMetricsSystemSum: textMetricsSystemSum,
                                liedTextMetrics: textMetricsLie,
                                emojiSet: __spreadArray([], emojiSet, true),
                                lied: lied,
                            }];
                    case 8:
                        error_3 = _a.sent();
                        logTestResult({ test: "canvas 2d", passed: false });
                        captureError(error_3);
                        return [2];
                    case 9: return [2];
                }
            });
        });
    }
    var hashMini = function (x) {
        var json = "".concat(JSON.stringify(x));
        var hash = json.split("").reduce(function (hash, char, i) {
            return (Math.imul(31, hash) + json.charCodeAt(i)) | 0;
        }, 0x811c9dc5);
        return ("0000000" + (hash >>> 0).toString(16)).substr(-8);
    };
    var instanceId = String.fromCharCode(Math.random() * 26 + 97) + Math.random().toString(36).slice(-7);
    var hashify = function (x, algorithm) {
        if (algorithm === void 0) { algorithm = "SHA-256"; }
        var json = "".concat(JSON.stringify(x));
        var jsonBuffer = new TextEncoder().encode(json);
        return crypto.subtle.digest(algorithm, jsonBuffer).then(function (hashBuffer) {
            var hashArray = Array.from(new Uint8Array(hashBuffer));
            var hashHex = hashArray.map(function (b) { return ("00" + b.toString(16)).slice(-2); }).join("");
            return hashHex;
        });
    };
    var getFuzzyHash = function (fp) { return __awaiter(void 0, void 0, void 0, function () {
        var metricKeys, metricsAll, maxBins, binSize, fuzzyFpMaster, fuzzyBits, fuzzyFingerprint;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    metricKeys = [
                        "canvas2d.dataURI",
                        "canvas2d.emojiSet",
                        "canvas2d.emojiURI",
                        "canvas2d.liedTextMetrics",
                        "canvas2d.mods",
                        "canvas2d.paintURI",
                        "canvas2d.paintCpuURI",
                        "canvas2d.textMetricsSystemSum",
                        "canvas2d.textURI",
                        "canvasWebgl.dataURI",
                        "canvasWebgl.dataURI2",
                        "canvasWebgl.extensions",
                        "canvasWebgl.gpu",
                        "canvasWebgl.parameterOrExtensionLie",
                        "canvasWebgl.parameters",
                        "canvasWebgl.pixels",
                        "canvasWebgl.pixels2",
                        "capturedErrors.data",
                        "clientRects.domrectSystemSum",
                        "clientRects.elementBoundingClientRect",
                        "clientRects.elementClientRects",
                        "clientRects.emojiSet",
                        "clientRects.rangeBoundingClientRect",
                        "clientRects.rangeClientRects",
                        "consoleErrors.errors",
                        "css.computedStyle",
                        "css.system",
                        "cssMedia.matchMediaCSS",
                        "cssMedia.mediaCSS",
                        "cssMedia.screenQuery",
                        "features.cssFeatures",
                        "features.cssVersion",
                        "features.jsFeatures",
                        "features.jsFeaturesKeys",
                        "features.jsVersion",
                        "features.version",
                        "features.versionRange",
                        "features.windowFeatures",
                        "features.windowVersion",
                        "fonts.apps",
                        "fonts.emojiSet",
                        "fonts.fontFaceLoadFonts",
                        "fonts.pixelSizeSystemSum",
                        "fonts.platformVersion",
                        "headless.chromium",
                        "headless.headless",
                        "headless.headlessRating",
                        "headless.likeHeadless",
                        "headless.likeHeadlessRating",
                        "headless.platformEstimate",
                        "headless.stealth",
                        "headless.stealthRating",
                        "headless.systemFonts",
                        "htmlElementVersion.keys",
                        "intl.dateTimeFormat",
                        "intl.displayNames",
                        "intl.listFormat",
                        "intl.locale",
                        "intl.numberFormat",
                        "intl.pluralRules",
                        "intl.relativeTimeFormat",
                        "lies.data",
                        "lies.totalLies",
                        "maths.data",
                        "media.mimeTypes",
                        "navigator.appVersion",
                        "navigator.bluetoothAvailability",
                        "navigator.device",
                        "navigator.deviceMemory",
                        "navigator.doNotTrack",
                        "navigator.globalPrivacyControl",
                        "navigator.hardwareConcurrency",
                        "navigator.language",
                        "navigator.maxTouchPoints",
                        "navigator.mimeTypes",
                        "navigator.oscpu",
                        "navigator.permissions",
                        "navigator.platform",
                        "navigator.plugins",
                        "navigator.properties",
                        "navigator.system",
                        "navigator.uaPostReduction",
                        "navigator.userAgent",
                        "navigator.userAgentData",
                        "navigator.userAgentParsed",
                        "navigator.vendor",
                        "navigator.webgpu",
                        "offlineAudioContext.binsSample",
                        "offlineAudioContext.compressorGainReduction",
                        "offlineAudioContext.copySample",
                        "offlineAudioContext.floatFrequencyDataSum",
                        "offlineAudioContext.floatTimeDomainDataSum",
                        "offlineAudioContext.noise",
                        "offlineAudioContext.sampleSum",
                        "offlineAudioContext.totalUniqueSamples",
                        "offlineAudioContext.values",
                        "resistance.engine",
                        "resistance.extension",
                        "resistance.extensionHashPattern",
                        "resistance.mode",
                        "resistance.privacy",
                        "resistance.security",
                        "screen.availHeight",
                        "screen.availWidth",
                        "screen.colorDepth",
                        "screen.height",
                        "screen.pixelDepth",
                        "screen.touch",
                        "screen.width",
                        "svg.bBox",
                        "svg.computedTextLength",
                        "svg.emojiSet",
                        "svg.extentOfChar",
                        "svg.subStringLength",
                        "svg.svgrectSystemSum",
                        "timezone.location",
                        "timezone.locationEpoch",
                        "timezone.locationMeasured",
                        "timezone.offset",
                        "timezone.offsetComputed",
                        "timezone.zone",
                        "trash.trashBin",
                        "voices.defaultVoiceLang",
                        "voices.defaultVoiceName",
                        "voices.languages",
                        "voices.local",
                        "voices.remote",
                        "windowFeatures.apple",
                        "windowFeatures.keys",
                        "windowFeatures.moz",
                        "windowFeatures.webkit",
                        "workerScope.device",
                        "workerScope.deviceMemory",
                        "workerScope.engineCurrencyLocale",
                        "workerScope.gpu",
                        "workerScope.hardwareConcurrency",
                        "workerScope.language",
                        "workerScope.languages",
                        "workerScope.lies",
                        "workerScope.locale",
                        "workerScope.localeEntropyIsTrusty",
                        "workerScope.localeIntlEntropyIsTrusty",
                        "workerScope.platform",
                        "workerScope.system",
                        "workerScope.systemCurrencyLocale",
                        "workerScope.timezoneLocation",
                        "workerScope.timezoneOffset",
                        "workerScope.uaPostReduction",
                        "workerScope.userAgent",
                        "workerScope.userAgentData",
                        "workerScope.userAgentDataVersion",
                        "workerScope.userAgentEngine",
                        "workerScope.userAgentVersion",
                        "workerScope.webglRenderer",
                        "workerScope.webglVendor",
                    ];
                    metricsAll = Object.keys(fp)
                        .sort()
                        .reduce(function (acc, sectionKey) {
                        var section = fp[sectionKey];
                        var sectionMetrics = Object.keys(section || {})
                            .sort()
                            .reduce(function (acc, key) {
                            var _a;
                            if (key == "$hash" || key == "lied") {
                                return acc;
                            }
                            return __assign(__assign({}, acc), (_a = {}, _a["".concat(sectionKey, ".").concat(key)] = section[key], _a));
                        }, {});
                        return __assign(__assign({}, acc), sectionMetrics);
                    }, {});
                    maxBins = 64;
                    binSize = Math.ceil(metricKeys.length / maxBins);
                    fuzzyFpMaster = metricKeys.reduce(function (acc, key, index) {
                        var _a;
                        if (!index || index % binSize == 0) {
                            var keySet = metricKeys.slice(index, index + binSize);
                            return __assign(__assign({}, acc), (_a = {}, _a["" + keySet] = keySet.map(function (key) { return metricsAll[key]; }), _a));
                        }
                        return acc;
                    }, {});
                    return [4, Promise.all(Object.keys(fuzzyFpMaster).map(function (key) {
                            return hashify(fuzzyFpMaster[key]).then(function (hash) {
                                fuzzyFpMaster[key] = hash;
                                return hash;
                            });
                        }))];
                case 1:
                    _a.sent();
                    fuzzyBits = 64;
                    fuzzyFingerprint = Object.keys(fuzzyFpMaster)
                        .map(function (key) { return fuzzyFpMaster[key][0]; })
                        .join("")
                        .padEnd(fuzzyBits, "0");
                    return [2, fuzzyFingerprint];
            }
        });
    }); };
    function getClientRects() {
        return __awaiter(this, void 0, void 0, function () {
            var timer_3, toNativeObject_1, lied_1, DOC_1, getBestRect_1, rectsId, divElement, pattern_2, emojiElems, emojiSet, domrectSystemSum, range_1, rectElems, elementClientRects, elementBoundingClientRect, rangeClientRects, rangeBoundingClientRect, rect4, initialTop, shiftedTop, unshiftedTop, diff, unshiftLie, mathLie_1, _a, right1, left1, _b, right2, left2, knownEl, knownDimensions, knownHash, Rotate, Rotate, ghostEl, ghostDimensions_1, hasGhostDimensions, error_4;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        _c.trys.push([0, 3, , 4]);
                        timer_3 = createTimer();
                        return [4, queueEvent(timer_3)];
                    case 1:
                        _c.sent();
                        toNativeObject_1 = function (domRect) {
                            return {
                                bottom: domRect.bottom,
                                height: domRect.height,
                                left: domRect.left,
                                right: domRect.right,
                                width: domRect.width,
                                top: domRect.top,
                                x: domRect.x,
                                y: domRect.y,
                            };
                        };
                        lied_1 = lieProps["Element.getClientRects"] ||
                            lieProps["Element.getBoundingClientRect"] ||
                            lieProps["Range.getClientRects"] ||
                            lieProps["Range.getBoundingClientRect"] ||
                            lieProps["String.fromCodePoint"] ||
                            false;
                        DOC_1 = PHANTOM_DARKNESS && PHANTOM_DARKNESS.document && PHANTOM_DARKNESS.document.body
                            ? PHANTOM_DARKNESS.document
                            : document;
                        getBestRect_1 = function (el) {
                            var range;
                            if (!lieProps["Element.getClientRects"]) {
                                return el.getClientRects()[0];
                            }
                            else if (!lieProps["Element.getBoundingClientRect"]) {
                                return el.getBoundingClientRect();
                            }
                            else if (!lieProps["Range.getClientRects"]) {
                                range = DOC_1.createRange();
                                range.selectNode(el);
                                return range.getClientRects()[0];
                            }
                            range = DOC_1.createRange();
                            range.selectNode(el);
                            return range.getBoundingClientRect();
                        };
                        rectsId = "".concat(instanceId, "-client-rects-div");
                        divElement = document.createElement("div");
                        divElement.setAttribute("id", rectsId);
                        DOC_1.body.appendChild(divElement);
                        patch(divElement, html(templateObject_1 || (templateObject_1 = __makeTemplateObject(["\n        <div id=\"", "\">\n          <style>\n            .rect-ghost,\n            .rect-known {\n              top: 0;\n              left: 0;\n              position: absolute;\n              visibility: hidden;\n            }\n            .rect-known {\n              width: 100px;\n              height: 100px;\n              transform: rotate(45deg);\n            }\n            .rect-ghost {\n              width: 0;\n              height: 0;\n            }\n          </style>\n          <div class=\"rect-known\"></div>\n          <div class=\"rect-ghost\"></div>\n          <div style=\"perspective:100px;width:1000.099%;\" id=\"rect-container\">\n            <style>\n              .rects {\n                width: 1000%;\n                height: 1000%;\n                max-width: 1000%;\n              }\n              .absolute {\n                position: absolute;\n              }\n              #cRect1 {\n                border: solid 2.715px;\n                border-color: #f72585;\n                padding: 3.98px;\n                margin-left: 12.12px;\n              }\n              #cRect2 {\n                border: solid 2px;\n                border-color: #7209b7;\n                font-size: 30px;\n                margin-top: 20px;\n                padding: 3.98px;\n                transform: skewY(23.1753218deg) rotate3d(10.00099, 90, 0.100000000000009, 60000000000008.00000009deg);\n              }\n              #cRect3 {\n                border: solid 2.89px;\n                border-color: #3a0ca3;\n                font-size: 45px;\n                transform: skewY(-23.1753218deg) scale(1099.0000000099, 1.89)\n                  matrix(1.11, 2.0001, -1.0001, 1.009, 150, 94.4);\n                margin-top: 50px;\n              }\n              #cRect4 {\n                border: solid 2px;\n                border-color: #4361ee;\n                transform: matrix(1.11, 2.0001, -1.0001, 1.009, 150, 94.4);\n                margin-top: 11.1331px;\n                margin-left: 12.1212px;\n                padding: 4.4545px;\n                left: 239.4141px;\n                top: 8.505px;\n              }\n              #cRect5 {\n                border: solid 2px;\n                border-color: #4cc9f0;\n                margin-left: 42.395pt;\n              }\n              #cRect6 {\n                border: solid 2px;\n                border-color: #f72585;\n                transform: perspective(12890px) translateZ(101.5px);\n                padding: 12px;\n              }\n              #cRect7 {\n                margin-top: -350.552px;\n                margin-left: 0.9099rem;\n                border: solid 2px;\n                border-color: #4361ee;\n              }\n              #cRect8 {\n                margin-top: -150.552px;\n                margin-left: 15.9099rem;\n                border: solid 2px;\n                border-color: #3a0ca3;\n              }\n              #cRect9 {\n                margin-top: -110.552px;\n                margin-left: 15.9099rem;\n                border: solid 2px;\n                border-color: #7209b7;\n              }\n              #cRect10 {\n                margin-top: -315.552px;\n                margin-left: 15.9099rem;\n                border: solid 2px;\n                border-color: #f72585;\n              }\n              #cRect11 {\n                width: 10px;\n                height: 10px;\n                margin-left: 15.0000009099rem;\n                border: solid 2px;\n                border-color: #f72585;\n              }\n              #cRect12 {\n                width: 10px;\n                height: 10px;\n                margin-left: 15.0000009099rem;\n                border: solid 2px;\n                border-color: #f72585;\n              }\n              #rect-container .shift-dom-rect {\n                top: 1px !important;\n                left: 1px !important;\n              }\n            </style>\n            <div id=\"cRect1\" class=\"rects\"></div>\n            <div id=\"cRect2\" class=\"rects\"></div>\n            <div id=\"cRect3\" class=\"rects\"></div>\n            <div id=\"cRect4\" class=\"rects absolute\"></div>\n            <div id=\"cRect5\" class=\"rects\"></div>\n            <div id=\"cRect6\" class=\"rects\"></div>\n            <div id=\"cRect7\" class=\"rects absolute\"></div>\n            <div id=\"cRect8\" class=\"rects absolute\"></div>\n            <div id=\"cRect9\" class=\"rects absolute\"></div>\n            <div id=\"cRect10\" class=\"rects absolute\"></div>\n            <div id=\"cRect11\" class=\"rects\"></div>\n            <div id=\"cRect12\" class=\"rects\"></div>\n            <div id=\"emoji\" class=\"emojis\"></div>\n          </div>\n          <div id=\"emoji-container\">\n            <style>\n              .domrect-emoji {\n                font-family: ", ";\n                font-size: 200px !important;\n                height: auto;\n                position: absolute !important;\n                transform: scale(1.000999);\n              }\n            </style>\n            ", "\n          </div>\n        </div>\n      "], ["\n        <div id=\"", "\">\n          <style>\n            .rect-ghost,\n            .rect-known {\n              top: 0;\n              left: 0;\n              position: absolute;\n              visibility: hidden;\n            }\n            .rect-known {\n              width: 100px;\n              height: 100px;\n              transform: rotate(45deg);\n            }\n            .rect-ghost {\n              width: 0;\n              height: 0;\n            }\n          </style>\n          <div class=\"rect-known\"></div>\n          <div class=\"rect-ghost\"></div>\n          <div style=\"perspective:100px;width:1000.099%;\" id=\"rect-container\">\n            <style>\n              .rects {\n                width: 1000%;\n                height: 1000%;\n                max-width: 1000%;\n              }\n              .absolute {\n                position: absolute;\n              }\n              #cRect1 {\n                border: solid 2.715px;\n                border-color: #f72585;\n                padding: 3.98px;\n                margin-left: 12.12px;\n              }\n              #cRect2 {\n                border: solid 2px;\n                border-color: #7209b7;\n                font-size: 30px;\n                margin-top: 20px;\n                padding: 3.98px;\n                transform: skewY(23.1753218deg) rotate3d(10.00099, 90, 0.100000000000009, 60000000000008.00000009deg);\n              }\n              #cRect3 {\n                border: solid 2.89px;\n                border-color: #3a0ca3;\n                font-size: 45px;\n                transform: skewY(-23.1753218deg) scale(1099.0000000099, 1.89)\n                  matrix(1.11, 2.0001, -1.0001, 1.009, 150, 94.4);\n                margin-top: 50px;\n              }\n              #cRect4 {\n                border: solid 2px;\n                border-color: #4361ee;\n                transform: matrix(1.11, 2.0001, -1.0001, 1.009, 150, 94.4);\n                margin-top: 11.1331px;\n                margin-left: 12.1212px;\n                padding: 4.4545px;\n                left: 239.4141px;\n                top: 8.505px;\n              }\n              #cRect5 {\n                border: solid 2px;\n                border-color: #4cc9f0;\n                margin-left: 42.395pt;\n              }\n              #cRect6 {\n                border: solid 2px;\n                border-color: #f72585;\n                transform: perspective(12890px) translateZ(101.5px);\n                padding: 12px;\n              }\n              #cRect7 {\n                margin-top: -350.552px;\n                margin-left: 0.9099rem;\n                border: solid 2px;\n                border-color: #4361ee;\n              }\n              #cRect8 {\n                margin-top: -150.552px;\n                margin-left: 15.9099rem;\n                border: solid 2px;\n                border-color: #3a0ca3;\n              }\n              #cRect9 {\n                margin-top: -110.552px;\n                margin-left: 15.9099rem;\n                border: solid 2px;\n                border-color: #7209b7;\n              }\n              #cRect10 {\n                margin-top: -315.552px;\n                margin-left: 15.9099rem;\n                border: solid 2px;\n                border-color: #f72585;\n              }\n              #cRect11 {\n                width: 10px;\n                height: 10px;\n                margin-left: 15.0000009099rem;\n                border: solid 2px;\n                border-color: #f72585;\n              }\n              #cRect12 {\n                width: 10px;\n                height: 10px;\n                margin-left: 15.0000009099rem;\n                border: solid 2px;\n                border-color: #f72585;\n              }\n              #rect-container .shift-dom-rect {\n                top: 1px !important;\n                left: 1px !important;\n              }\n            </style>\n            <div id=\"cRect1\" class=\"rects\"></div>\n            <div id=\"cRect2\" class=\"rects\"></div>\n            <div id=\"cRect3\" class=\"rects\"></div>\n            <div id=\"cRect4\" class=\"rects absolute\"></div>\n            <div id=\"cRect5\" class=\"rects\"></div>\n            <div id=\"cRect6\" class=\"rects\"></div>\n            <div id=\"cRect7\" class=\"rects absolute\"></div>\n            <div id=\"cRect8\" class=\"rects absolute\"></div>\n            <div id=\"cRect9\" class=\"rects absolute\"></div>\n            <div id=\"cRect10\" class=\"rects absolute\"></div>\n            <div id=\"cRect11\" class=\"rects\"></div>\n            <div id=\"cRect12\" class=\"rects\"></div>\n            <div id=\"emoji\" class=\"emojis\"></div>\n          </div>\n          <div id=\"emoji-container\">\n            <style>\n              .domrect-emoji {\n                font-family: ", ";\n                font-size: 200px !important;\n                height: auto;\n                position: absolute !important;\n                transform: scale(1.000999);\n              }\n            </style>\n            ", "\n          </div>\n        </div>\n      "])), rectsId, CSS_FONT_FAMILY, EMOJIS.map(function (emoji) {
                            return "<div class=\"domrect-emoji\">".concat(emoji, "</div>");
                        }).join("")));
                        pattern_2 = new Set();
                        return [4, queueEvent(timer_3)];
                    case 2:
                        _c.sent();
                        emojiElems = __spreadArray([], DOC_1.getElementsByClassName("domrect-emoji"), true);
                        emojiSet = emojiElems.reduce(function (emojiSet, el, i) {
                            var emoji = EMOJIS[i];
                            var _a = getBestRect_1(el), height = _a.height, width = _a.width;
                            var dimensions = "".concat(width, ",").concat(height);
                            if (!pattern_2.has(dimensions)) {
                                pattern_2.add(dimensions);
                                emojiSet.add(emoji);
                            }
                            return emojiSet;
                        }, new Set());
                        domrectSystemSum = 0.00001 *
                            __spreadArray([], pattern_2, true).map(function (x) {
                                return x.split(",").reduce(function (acc, x) { return (acc += +x || 0); }, 0);
                            })
                                .reduce(function (acc, x) { return (acc += x); }, 0);
                        range_1 = document.createRange();
                        rectElems = DOC_1.getElementsByClassName("rects");
                        elementClientRects = __spreadArray([], rectElems, true).map(function (el) {
                            return toNativeObject_1(el.getClientRects()[0]);
                        });
                        elementBoundingClientRect = __spreadArray([], rectElems, true).map(function (el) {
                            return toNativeObject_1(el.getBoundingClientRect());
                        });
                        rangeClientRects = __spreadArray([], rectElems, true).map(function (el) {
                            range_1.selectNode(el);
                            return toNativeObject_1(range_1.getClientRects()[0]);
                        });
                        rangeBoundingClientRect = __spreadArray([], rectElems, true).map(function (el) {
                            range_1.selectNode(el);
                            return toNativeObject_1(el.getBoundingClientRect());
                        });
                        rect4 = __spreadArray([], rectElems, true)[3];
                        initialTop = elementClientRects[3].top;
                        rect4.classList.add("shift-dom-rect");
                        shiftedTop = toNativeObject_1(rect4.getClientRects()[0]).top;
                        rect4.classList.remove("shift-dom-rect");
                        unshiftedTop = toNativeObject_1(rect4.getClientRects()[0]).top;
                        diff = initialTop - shiftedTop;
                        unshiftLie = diff != unshiftedTop - shiftedTop;
                        if (unshiftLie) {
                            lied_1 = true;
                            documentLie("Element.getClientRects", "failed unshift calculation");
                        }
                        mathLie_1 = false;
                        elementClientRects.forEach(function (rect) {
                            var right = rect.right, left = rect.left, width = rect.width, bottom = rect.bottom, top = rect.top, height = rect.height, x = rect.x, y = rect.y;
                            if (right - left != width || bottom - top != height || right - x != width || bottom - y != height) {
                                lied_1 = true;
                                mathLie_1 = true;
                            }
                            return;
                        });
                        if (mathLie_1) {
                            documentLie("Element.getClientRects", "failed math calculation");
                        }
                        _a = elementClientRects[10], right1 = _a.right, left1 = _a.left;
                        _b = elementClientRects[11], right2 = _b.right, left2 = _b.left;
                        if (right1 != right2 || left1 != left2) {
                            documentLie("Element.getClientRects", "equal elements mismatch");
                            lied_1 = true;
                        }
                        knownEl = __spreadArray([], DOC_1.getElementsByClassName("rect-known"), true)[0];
                        knownDimensions = toNativeObject_1(knownEl.getClientRects()[0]);
                        knownHash = hashMini(knownDimensions);
                        if (IS_BLINK) {
                            Rotate = {
                                "9d9215cc": true,
                                "47ded322": true,
                                d0eceaa8: true,
                            };
                            if (!Rotate[knownHash]) {
                                documentLie("Element.getClientRects", "unknown rotate dimensions");
                                lied_1 = true;
                            }
                        }
                        else if (IS_GECKO) {
                            Rotate = {
                                e38453f0: true,
                            };
                            if (!Rotate[knownHash]) {
                                documentLie("Element.getClientRects", "unknown rotate dimensions");
                                lied_1 = true;
                            }
                        }
                        ghostEl = __spreadArray([], DOC_1.getElementsByClassName("rect-ghost"), true)[0];
                        ghostDimensions_1 = toNativeObject_1(ghostEl.getClientRects()[0]);
                        hasGhostDimensions = Object.keys(ghostDimensions_1).some(function (key) { return ghostDimensions_1[key] !== 0; });
                        if (hasGhostDimensions) {
                            documentLie("Element.getClientRects", "unknown ghost dimensions");
                            lied_1 = true;
                        }
                        DOC_1.body.removeChild(DOC_1.getElementById(rectsId));
                        logTestResult({ time: timer_3.stop(), test: "rects", passed: true });
                        return [2, {
                                elementClientRects: elementClientRects,
                                elementBoundingClientRect: elementBoundingClientRect,
                                rangeClientRects: rangeClientRects,
                                rangeBoundingClientRect: rangeBoundingClientRect,
                                emojiSet: __spreadArray([], emojiSet, true),
                                domrectSystemSum: domrectSystemSum,
                                lied: lied_1,
                            }];
                    case 3:
                        error_4 = _c.sent();
                        logTestResult({ test: "rects", passed: false });
                        captureError(error_4);
                        return [2];
                    case 4: return [2];
                }
            });
        });
    }
    function getIntl() {
        return __awaiter(this, void 0, void 0, function () {
            var getLocale, timer_4, lied, dateTimeFormat, displayNames, listFormat, numberFormat, pluralRules, relativeTimeFormat, locale, error_5;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        getLocale = function (intl) {
                            var constructors = [
                                "Collator",
                                "DateTimeFormat",
                                "DisplayNames",
                                "ListFormat",
                                "NumberFormat",
                                "PluralRules",
                                "RelativeTimeFormat",
                            ];
                            var locale = constructors.reduce(function (acc, name) {
                                try {
                                    var obj = new intl[name]();
                                    if (!obj) {
                                        return acc;
                                    }
                                    var locale_1 = (obj.resolvedOptions() || {}).locale;
                                    return __spreadArray(__spreadArray([], acc, true), [locale_1], false);
                                }
                                catch (error) {
                                    return acc;
                                }
                            }, []);
                            return __spreadArray([], new Set(locale), true);
                        };
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        timer_4 = createTimer();
                        return [4, queueEvent(timer_4)];
                    case 2:
                        _a.sent();
                        lied = lieProps["Intl.Collator.resolvedOptions"] ||
                            lieProps["Intl.DateTimeFormat.resolvedOptions"] ||
                            lieProps["Intl.DisplayNames.resolvedOptions"] ||
                            lieProps["Intl.ListFormat.resolvedOptions"] ||
                            lieProps["Intl.NumberFormat.resolvedOptions"] ||
                            lieProps["Intl.PluralRules.resolvedOptions"] ||
                            lieProps["Intl.RelativeTimeFormat.resolvedOptions"] ||
                            false;
                        dateTimeFormat = caniuse(function () {
                            return new Intl.DateTimeFormat(undefined, {
                                month: "long",
                                timeZoneName: "long",
                            }).format(963644400000);
                        });
                        displayNames = caniuse(function () {
                            return new Intl.DisplayNames(undefined, {
                                type: "language",
                            }).of("en-US");
                        });
                        listFormat = caniuse(function () {
                            return new Intl.ListFormat(undefined, {
                                style: "long",
                                type: "disjunction",
                            }).format(["0", "1"]);
                        });
                        numberFormat = caniuse(function () {
                            return new Intl.NumberFormat(undefined, {
                                notation: "compact",
                                compactDisplay: "long",
                            }).format(21000000);
                        });
                        pluralRules = caniuse(function () {
                            return new Intl.PluralRules().select(1);
                        });
                        relativeTimeFormat = caniuse(function () {
                            return new Intl.RelativeTimeFormat(undefined, {
                                localeMatcher: "best fit",
                                numeric: "auto",
                                style: "long",
                            }).format(1, "year");
                        });
                        locale = getLocale(Intl);
                        logTestResult({ time: timer_4.stop(), test: "intl", passed: true });
                        return [2, {
                                dateTimeFormat: dateTimeFormat,
                                displayNames: displayNames,
                                listFormat: listFormat,
                                numberFormat: numberFormat,
                                pluralRules: pluralRules,
                                relativeTimeFormat: relativeTimeFormat,
                                locale: "" + locale,
                                lied: lied,
                            }];
                    case 3:
                        error_5 = _a.sent();
                        logTestResult({ test: "intl", passed: false });
                        captureError(error_5);
                        return [2];
                    case 4: return [2];
                }
            });
        });
    }
    function getResistance() {
        return __awaiter(this, void 0, void 0, function () {
            var timer_5, data, regex_1, delay_1, getTimerPrecision, _a, isBrave, timerPrecision, braveMode, protection, features_1, featureKeys, targetSet_1, torBrowser, safer, prototypeLiesLen, disabled_1, pattern, hash_1, getExtension, error_6;
            var _this = this;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _b.trys.push([0, 4, , 5]);
                        timer_5 = createTimer();
                        return [4, queueEvent(timer_5)];
                    case 1:
                        _b.sent();
                        data = {
                            privacy: undefined,
                            security: undefined,
                            mode: undefined,
                            extension: undefined,
                            engine: IS_BLINK ? "Blink" : IS_GECKO ? "Gecko" : "",
                        };
                        regex_1 = function (n) { return new RegExp("".concat(n, "+$")); };
                        delay_1 = function (ms, baseNumber, baseDate) {
                            return new Promise(function (resolve) {
                                return setTimeout(function () {
                                    var date = baseDate ? baseDate : +new Date();
                                    var value = regex_1(baseNumber).test(date) ? regex_1(baseNumber).exec(date)[0] : date;
                                    return resolve(value);
                                }, ms);
                            });
                        };
                        getTimerPrecision = function () { return __awaiter(_this, void 0, void 0, function () {
                            var baseDate, baseNumber, a, b, c, d, e, f, g, h, i, j, lastCharA, lastCharB, lastCharC, lastCharD, lastCharE, lastCharF, lastCharG, lastCharH, lastCharI, lastCharJ, protection, baseLen, collection;
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        baseDate = +new Date();
                                        baseNumber = +("" + baseDate).slice(-1);
                                        return [4, delay_1(0, baseNumber, baseDate)];
                                    case 1:
                                        a = _a.sent();
                                        return [4, delay_1(1, baseNumber)];
                                    case 2:
                                        b = _a.sent();
                                        return [4, delay_1(2, baseNumber)];
                                    case 3:
                                        c = _a.sent();
                                        return [4, delay_1(3, baseNumber)];
                                    case 4:
                                        d = _a.sent();
                                        return [4, delay_1(4, baseNumber)];
                                    case 5:
                                        e = _a.sent();
                                        return [4, delay_1(5, baseNumber)];
                                    case 6:
                                        f = _a.sent();
                                        return [4, delay_1(6, baseNumber)];
                                    case 7:
                                        g = _a.sent();
                                        return [4, delay_1(7, baseNumber)];
                                    case 8:
                                        h = _a.sent();
                                        return [4, delay_1(8, baseNumber)];
                                    case 9:
                                        i = _a.sent();
                                        return [4, delay_1(9, baseNumber)];
                                    case 10:
                                        j = _a.sent();
                                        lastCharA = ("" + a).slice(-1);
                                        lastCharB = ("" + b).slice(-1);
                                        lastCharC = ("" + c).slice(-1);
                                        lastCharD = ("" + d).slice(-1);
                                        lastCharE = ("" + e).slice(-1);
                                        lastCharF = ("" + f).slice(-1);
                                        lastCharG = ("" + g).slice(-1);
                                        lastCharH = ("" + h).slice(-1);
                                        lastCharI = ("" + i).slice(-1);
                                        lastCharJ = ("" + j).slice(-1);
                                        protection = lastCharA == lastCharB &&
                                            lastCharA == lastCharC &&
                                            lastCharA == lastCharD &&
                                            lastCharA == lastCharE &&
                                            lastCharA == lastCharF &&
                                            lastCharA == lastCharG &&
                                            lastCharA == lastCharH &&
                                            lastCharA == lastCharI &&
                                            lastCharA == lastCharJ;
                                        baseLen = ("" + a).length;
                                        collection = [a, b, c, d, e, f, g, h, i, j];
                                        return [2, {
                                                protection: protection,
                                                delays: collection.map(function (n) { return (("" + n).length > baseLen ? ("" + n).slice(-baseLen) : n); }),
                                                precision: protection ? Math.min.apply(Math, collection.map(function (val) { return ("" + val).length; })) : undefined,
                                                precisionValue: protection ? lastCharA : undefined,
                                            }];
                                }
                            });
                        }); };
                        return [4, Promise.all([braveBrowser(), IS_BLINK ? undefined : getTimerPrecision()])];
                    case 2:
                        _a = _b.sent(), isBrave = _a[0], timerPrecision = _a[1];
                        if (isBrave) {
                            braveMode = getBraveMode();
                            data.privacy = "Brave";
                            data.security = {
                                FileSystemWritableFileStream: "FileSystemWritableFileStream" in window,
                                Serial: "Serial" in window,
                                ReportingObserver: "ReportingObserver" in window,
                            };
                            data.mode = braveMode.allow ? "allow" : braveMode.standard ? "standard" : braveMode.strict ? "strict" : "";
                        }
                        protection = (timerPrecision || {}).protection;
                        if (IS_GECKO && protection) {
                            features_1 = {
                                OfflineAudioContext: "OfflineAudioContext" in window,
                                WebGL2RenderingContext: "WebGL2RenderingContext" in window,
                                WebAssembly: "WebAssembly" in window,
                                maxTouchPoints: "maxTouchPoints" in navigator,
                                RTCRtpTransceiver: "RTCRtpTransceiver" in window,
                                MediaDevices: "MediaDevices" in window,
                                Credential: "Credential" in window,
                            };
                            featureKeys = Object.keys(features_1);
                            targetSet_1 = new Set(["RTCRtpTransceiver", "MediaDevices", "Credential"]);
                            torBrowser = featureKeys.filter(function (key) { return targetSet_1.has(key) && !features_1[key]; }).length == targetSet_1.size;
                            safer = !features_1.WebAssembly;
                            data.privacy = torBrowser ? "Tor Browser" : "Firefox";
                            data.security = __assign({ reduceTimerPrecision: true }, features_1);
                            data.mode = !torBrowser ? "resistFingerprinting" : safer ? "safer" : "standard";
                        }
                        prototypeLiesLen = Object.keys(prototypeLies).length;
                        disabled_1 = "c767712b";
                        pattern = {
                            noscript: {
                                contentDocumentHash: ["0b637a33", "37e2f32e", "318390d1"],
                                contentWindowHash: ["0b637a33", "37e2f32e", "318390d1"],
                                getContextHash: ["0b637a33", "081d6d1b", disabled_1],
                            },
                            trace: {
                                contentDocumentHash: ["ca9d9c2f"],
                                contentWindowHash: ["ca9d9c2f"],
                                createElementHash: ["77dea834"],
                                getElementByIdHash: ["77dea834"],
                                getImageDataHash: ["77dea834"],
                                toBlobHash: ["77dea834", disabled_1],
                                toDataURLHash: ["77dea834", disabled_1],
                            },
                            cydec: {
                                contentDocumentHash: ["945b0c78", "15771efa", "403a1a21", "55e9b959"],
                                contentWindowHash: ["945b0c78", "15771efa", "403a1a21", "55e9b959"],
                                createElementHash: [
                                    "3dd86d6f",
                                    "cc7cb598",
                                    "4237b44c",
                                    "1466aaf0",
                                    "0cb0c682",
                                    "73c662d9",
                                    "72b1ee2b",
                                    "ae3d02c9",
                                ],
                                getElementByIdHash: [
                                    "3dd86d6f",
                                    "cc7cb598",
                                    "4237b44c",
                                    "1466aaf0",
                                    "0cb0c682",
                                    "73c662d9",
                                    "72b1ee2b",
                                    "ae3d02c9",
                                ],
                                getImageDataHash: ["044f14c2", "db60d7f9", "15771efa", "db60d7f9", "55e9b959"],
                                toBlobHash: ["044f14c2", "15771efa", "afec348d", "55e9b959", "0dbbf456"],
                                toDataURLHash: ["ecb498d9", "15771efa", "6b838fb6", "d19104ec", "6985d315", "55e9b959", "fe88259f"],
                            },
                            canvasblocker: {
                                contentDocumentHash: ["98ec858e", "dbbaf31f"],
                                contentWindowHash: ["98ec858e", "dbbaf31f"],
                                appendHash: ["98ec858e", "dbbaf31f"],
                                getImageDataHash: ["98ec858e", "a2971888", "dbbaf31f", disabled_1],
                                toBlobHash: ["9f1c3dfe", "a2971888", "dbbaf31f", disabled_1],
                                toDataURLHash: ["98ec858e", "a2971888", "dbbaf31f", disabled_1],
                            },
                            chameleon: {
                                appendHash: ["77dea834"],
                                insertAdjacentElementHash: ["77dea834"],
                                insertAdjacentHTMLHash: ["77dea834"],
                                insertAdjacentTextHash: ["77dea834"],
                                prependHash: ["77dea834"],
                                replaceWithHash: ["77dea834"],
                                appendChildHash: ["77dea834"],
                                insertBeforeHash: ["77dea834"],
                                replaceChildHash: ["77dea834"],
                            },
                            duckduckgo: {
                                toDataURLHash: ["fd00bf5d", "8ee7df22", disabled_1],
                                toBlobHash: ["fd00bf5d", "8ee7df22", disabled_1],
                                getImageDataHash: ["fd00bf5d", "8ee7df22", disabled_1],
                                getByteFrequencyDataHash: ["fd00bf5d", "8ee7df22", disabled_1],
                                getByteTimeDomainDataHash: ["fd00bf5d", "8ee7df22", disabled_1],
                                getFloatFrequencyDataHash: ["fd00bf5d", "8ee7df22", disabled_1],
                                getFloatTimeDomainDataHash: ["fd00bf5d", "8ee7df22", disabled_1],
                                copyFromChannelHash: ["fd00bf5d", "8ee7df22", disabled_1],
                                getChannelDataHash: ["fd00bf5d", "8ee7df22", disabled_1],
                                hardwareConcurrencyHash: ["dfd41ab4"],
                                availHeightHash: ["dfd41ab4"],
                                availLeftHash: ["dfd41ab4"],
                                availTopHash: ["dfd41ab4"],
                                availWidthHash: ["dfd41ab4"],
                                colorDepthHash: ["dfd41ab4"],
                                pixelDepthHash: ["dfd41ab4"],
                            },
                            privacybadger: {
                                getImageDataHash: ["0cb0c682"],
                                toDataURLHash: ["0cb0c682"],
                            },
                            privacypossum: {
                                hardwareConcurrencyHash: ["452924d5"],
                                availWidthHash: ["452924d5"],
                                colorDepthHash: ["452924d5"],
                            },
                            jshelter: {
                                contentDocumentHash: ["0007ab4e", "0b637a33", "866fa7e7", "318390d1"],
                                contentWindowHash: ["0007ab4e", "0b637a33", "866fa7e7", "318390d1"],
                                appendHash: ["0007ab4e", "0b637a33", "866fa7e7", "318390d1"],
                                insertAdjacentElementHash: ["0007ab4e", "0b637a33", "866fa7e7", "318390d1"],
                                insertAdjacentHTMLHash: ["0007ab4e", "0b637a33", "866fa7e7", "318390d1"],
                                prependHash: ["0007ab4e", "0b637a33", "866fa7e7", "318390d1"],
                                replaceWithHash: ["0007ab4e", "0b637a33", "866fa7e7", "318390d1"],
                                appendChildHash: ["0007ab4e", "0b637a33", "866fa7e7", "318390d1"],
                                insertBeforeHash: ["0007ab4e", "0b637a33", "866fa7e7", "318390d1"],
                                replaceChildHash: ["0007ab4e", "0b637a33", "866fa7e7", "318390d1"],
                                hardwareConcurrencyHash: ["dfd41ab4"],
                            },
                            puppeteerExtra: {
                                contentDocumentHash: ["55e9b959"],
                                contentWindowHash: [
                                    "55e9b959",
                                    "50a281b5",
                                ],
                                createElementHash: ["55e9b959"],
                                getElementByIdHash: ["55e9b959"],
                                appendHash: ["55e9b959"],
                                insertAdjacentElementHash: ["55e9b959"],
                                insertAdjacentHTMLHash: ["55e9b959"],
                                insertAdjacentTextHash: ["55e9b959"],
                                prependHash: ["55e9b959"],
                                replaceWithHash: ["55e9b959"],
                                appendChildHash: ["55e9b959"],
                                insertBeforeHash: ["55e9b959"],
                                replaceChildHash: ["55e9b959"],
                                getContextHash: ["55e9b959", disabled_1],
                                toDataURLHash: ["55e9b959", disabled_1],
                                toBlobHash: ["55e9b959", disabled_1],
                                getImageDataHash: ["55e9b959"],
                                hardwareConcurrencyHash: ["efbd4cf9", "a63491fb", "b011fd1c", "194ecf17", "55e9b959"],
                            },
                            fakeBrowser: {
                                appendChildHash: ["8dfec2ec", "f43e6134"],
                                getContextHash: ["83b825ab", "a63491fb"],
                                toDataURLHash: ["83b825ab", "a63491fb"],
                                toBlobHash: ["83b825ab", "a63491fb"],
                                getImageDataHash: ["83b825ab", "a63491fb"],
                                hardwareConcurrencyHash: ["83b825ab", "a63491fb"],
                                availHeightHash: ["83b825ab", "a63491fb"],
                                availLeftHash: ["83b825ab", "a63491fb"],
                                availTopHash: ["83b825ab", "a63491fb"],
                                availWidthHash: ["83b825ab", "a63491fb"],
                                colorDepthHash: ["83b825ab", "a63491fb"],
                                pixelDepthHash: ["83b825ab", "a63491fb"],
                            },
                        };
                        return [4, queueEvent(timer_5)];
                    case 3:
                        _b.sent();
                        hash_1 = {
                            contentDocumentHash: hashMini(prototypeLies["HTMLIFrameElement.contentDocument"]),
                            contentWindowHash: hashMini(prototypeLies["HTMLIFrameElement.contentWindow"]),
                            createElementHash: hashMini(prototypeLies["Document.createElement"]),
                            getElementByIdHash: hashMini(prototypeLies["Document.getElementById"]),
                            appendHash: hashMini(prototypeLies["Element.append"]),
                            insertAdjacentElementHash: hashMini(prototypeLies["Element.insertAdjacentElement"]),
                            insertAdjacentHTMLHash: hashMini(prototypeLies["Element.insertAdjacentHTML"]),
                            insertAdjacentTextHash: hashMini(prototypeLies["Element.insertAdjacentText"]),
                            prependHash: hashMini(prototypeLies["Element.prepend"]),
                            replaceWithHash: hashMini(prototypeLies["Element.replaceWith"]),
                            appendChildHash: hashMini(prototypeLies["Node.appendChild"]),
                            insertBeforeHash: hashMini(prototypeLies["Node.insertBefore"]),
                            replaceChildHash: hashMini(prototypeLies["Node.replaceChild"]),
                            getContextHash: hashMini(prototypeLies["HTMLCanvasElement.getContext"]),
                            toDataURLHash: hashMini(prototypeLies["HTMLCanvasElement.toDataURL"]),
                            toBlobHash: hashMini(prototypeLies["HTMLCanvasElement.toBlob"]),
                            getImageDataHash: hashMini(prototypeLies["CanvasRenderingContext2D.getImageData"]),
                            getByteFrequencyDataHash: hashMini(prototypeLies["AnalyserNode.getByteFrequencyData"]),
                            getByteTimeDomainDataHash: hashMini(prototypeLies["AnalyserNode.getByteTimeDomainData"]),
                            getFloatFrequencyDataHash: hashMini(prototypeLies["AnalyserNode.getFloatFrequencyData"]),
                            getFloatTimeDomainDataHash: hashMini(prototypeLies["AnalyserNode.getFloatTimeDomainData"]),
                            copyFromChannelHash: hashMini(prototypeLies["AudioBuffer.copyFromChannel"]),
                            getChannelDataHash: hashMini(prototypeLies["AudioBuffer.getChannelData"]),
                            hardwareConcurrencyHash: hashMini(prototypeLies["Navigator.hardwareConcurrency"]),
                            availHeightHash: hashMini(prototypeLies["Screen.availHeight"]),
                            availLeftHash: hashMini(prototypeLies["Screen.availLeft"]),
                            availTopHash: hashMini(prototypeLies["Screen.availTop"]),
                            availWidthHash: hashMini(prototypeLies["Screen.availWidth"]),
                            colorDepthHash: hashMini(prototypeLies["Screen.colorDepth"]),
                            pixelDepthHash: hashMini(prototypeLies["Screen.pixelDepth"]),
                        };
                        data.extensionHashPattern = Object.keys(hash_1).reduce(function (acc, key) {
                            var val = hash_1[key];
                            if (val == disabled_1) {
                                return acc;
                            }
                            acc[key.replace("Hash", "")] = val;
                            return acc;
                        }, {});
                        getExtension = function (_a) {
                            var pattern = _a.pattern, hash = _a.hash, prototypeLiesLen = _a.prototypeLiesLen;
                            var noscript = pattern.noscript, trace = pattern.trace, cydec = pattern.cydec, canvasblocker = pattern.canvasblocker, chameleon = pattern.chameleon, duckduckgo = pattern.duckduckgo, privacybadger = pattern.privacybadger, privacypossum = pattern.privacypossum, jshelter = pattern.jshelter, puppeteerExtra = pattern.puppeteerExtra, fakeBrowser = pattern.fakeBrowser;
                            var disabled = "c767712b";
                            if (prototypeLiesLen) {
                                if (prototypeLiesLen >= 7 &&
                                    trace.contentDocumentHash.includes(hash.contentDocumentHash) &&
                                    trace.contentWindowHash.includes(hash.contentWindowHash) &&
                                    trace.createElementHash.includes(hash.createElementHash) &&
                                    trace.getElementByIdHash.includes(hash.getElementByIdHash) &&
                                    trace.toDataURLHash.includes(hash.toDataURLHash) &&
                                    trace.toBlobHash.includes(hash.toBlobHash) &&
                                    trace.getImageDataHash.includes(hash.getImageDataHash)) {
                                    return "Trace";
                                }
                                if (prototypeLiesLen >= 7 &&
                                    cydec.contentDocumentHash.includes(hash.contentDocumentHash) &&
                                    cydec.contentWindowHash.includes(hash.contentWindowHash) &&
                                    cydec.createElementHash.includes(hash.createElementHash) &&
                                    cydec.getElementByIdHash.includes(hash.getElementByIdHash) &&
                                    cydec.toDataURLHash.includes(hash.toDataURLHash) &&
                                    cydec.toBlobHash.includes(hash.toBlobHash) &&
                                    cydec.getImageDataHash.includes(hash.getImageDataHash)) {
                                    return "CyDec";
                                }
                                if (prototypeLiesLen >= 6 &&
                                    canvasblocker.contentDocumentHash.includes(hash.contentDocumentHash) &&
                                    canvasblocker.contentWindowHash.includes(hash.contentWindowHash) &&
                                    canvasblocker.appendHash.includes(hash.appendHash) &&
                                    canvasblocker.toDataURLHash.includes(hash.toDataURLHash) &&
                                    canvasblocker.toBlobHash.includes(hash.toBlobHash) &&
                                    canvasblocker.getImageDataHash.includes(hash.getImageDataHash)) {
                                    return "CanvasBlocker";
                                }
                                if (prototypeLiesLen >= 9 &&
                                    chameleon.appendHash.includes(hash.appendHash) &&
                                    chameleon.insertAdjacentElementHash.includes(hash.insertAdjacentElementHash) &&
                                    chameleon.insertAdjacentHTMLHash.includes(hash.insertAdjacentHTMLHash) &&
                                    chameleon.insertAdjacentTextHash.includes(hash.insertAdjacentTextHash) &&
                                    chameleon.prependHash.includes(hash.prependHash) &&
                                    chameleon.replaceWithHash.includes(hash.replaceWithHash) &&
                                    chameleon.appendChildHash.includes(hash.appendChildHash) &&
                                    chameleon.insertBeforeHash.includes(hash.insertBeforeHash) &&
                                    chameleon.replaceChildHash.includes(hash.replaceChildHash)) {
                                    return "Chameleon";
                                }
                                if (prototypeLiesLen >= 7 &&
                                    duckduckgo.toDataURLHash.includes(hash.toDataURLHash) &&
                                    duckduckgo.toBlobHash.includes(hash.toBlobHash) &&
                                    duckduckgo.getImageDataHash.includes(hash.getImageDataHash) &&
                                    duckduckgo.getByteFrequencyDataHash.includes(hash.getByteFrequencyDataHash) &&
                                    duckduckgo.getByteTimeDomainDataHash.includes(hash.getByteTimeDomainDataHash) &&
                                    duckduckgo.getFloatFrequencyDataHash.includes(hash.getFloatFrequencyDataHash) &&
                                    duckduckgo.getFloatTimeDomainDataHash.includes(hash.getFloatTimeDomainDataHash) &&
                                    duckduckgo.copyFromChannelHash.includes(hash.copyFromChannelHash) &&
                                    duckduckgo.getChannelDataHash.includes(hash.getChannelDataHash) &&
                                    duckduckgo.hardwareConcurrencyHash.includes(hash.hardwareConcurrencyHash) &&
                                    duckduckgo.availHeightHash.includes(hash.availHeightHash) &&
                                    duckduckgo.availLeftHash.includes(hash.availLeftHash) &&
                                    duckduckgo.availTopHash.includes(hash.availTopHash) &&
                                    duckduckgo.availWidthHash.includes(hash.availWidthHash) &&
                                    duckduckgo.colorDepthHash.includes(hash.colorDepthHash) &&
                                    duckduckgo.pixelDepthHash.includes(hash.pixelDepthHash)) {
                                    return "DuckDuckGo";
                                }
                                if (prototypeLiesLen >= 2 &&
                                    privacybadger.getImageDataHash.includes(hash.getImageDataHash) &&
                                    privacybadger.toDataURLHash.includes(hash.toDataURLHash)) {
                                    return "Privacy Badger";
                                }
                                if (prototypeLiesLen >= 3 &&
                                    privacypossum.hardwareConcurrencyHash.includes(hash.hardwareConcurrencyHash) &&
                                    privacypossum.availWidthHash.includes(hash.availWidthHash) &&
                                    privacypossum.colorDepthHash.includes(hash.colorDepthHash)) {
                                    return "Privacy Possum";
                                }
                                if (prototypeLiesLen >= 2 &&
                                    noscript.contentDocumentHash.includes(hash.contentDocumentHash) &&
                                    noscript.contentWindowHash.includes(hash.contentDocumentHash) &&
                                    noscript.getContextHash.includes(hash.getContextHash) &&
                                    hash.hardwareConcurrencyHash == disabled) {
                                    return "NoScript";
                                }
                                if (prototypeLiesLen >= 14 &&
                                    jshelter.contentDocumentHash.includes(hash.contentDocumentHash) &&
                                    jshelter.contentWindowHash.includes(hash.contentDocumentHash) &&
                                    jshelter.appendHash.includes(hash.appendHash) &&
                                    jshelter.insertAdjacentElementHash.includes(hash.insertAdjacentElementHash) &&
                                    jshelter.insertAdjacentHTMLHash.includes(hash.insertAdjacentHTMLHash) &&
                                    jshelter.prependHash.includes(hash.prependHash) &&
                                    jshelter.replaceWithHash.includes(hash.replaceWithHash) &&
                                    jshelter.appendChildHash.includes(hash.appendChildHash) &&
                                    jshelter.insertBeforeHash.includes(hash.insertBeforeHash) &&
                                    jshelter.replaceChildHash.includes(hash.replaceChildHash) &&
                                    jshelter.hardwareConcurrencyHash.includes(hash.hardwareConcurrencyHash)) {
                                    return "JShelter";
                                }
                                if (prototypeLiesLen >= 13 &&
                                    puppeteerExtra.contentDocumentHash.includes(hash.contentDocumentHash) &&
                                    puppeteerExtra.contentWindowHash.includes(hash.contentWindowHash) &&
                                    puppeteerExtra.createElementHash.includes(hash.createElementHash) &&
                                    puppeteerExtra.getElementByIdHash.includes(hash.getElementByIdHash) &&
                                    puppeteerExtra.appendHash.includes(hash.appendHash) &&
                                    puppeteerExtra.insertAdjacentElementHash.includes(hash.insertAdjacentElementHash) &&
                                    puppeteerExtra.insertAdjacentHTMLHash.includes(hash.insertAdjacentHTMLHash) &&
                                    puppeteerExtra.insertAdjacentTextHash.includes(hash.insertAdjacentTextHash) &&
                                    puppeteerExtra.prependHash.includes(hash.prependHash) &&
                                    puppeteerExtra.replaceWithHash.includes(hash.replaceWithHash) &&
                                    puppeteerExtra.appendChildHash.includes(hash.appendChildHash) &&
                                    puppeteerExtra.insertBeforeHash.includes(hash.insertBeforeHash) &&
                                    puppeteerExtra.contentDocumentHash.includes(hash.contentDocumentHash) &&
                                    puppeteerExtra.replaceChildHash.includes(hash.replaceChildHash) &&
                                    puppeteerExtra.getContextHash.includes(hash.getContextHash) &&
                                    puppeteerExtra.toDataURLHash.includes(hash.toDataURLHash) &&
                                    puppeteerExtra.toBlobHash.includes(hash.toBlobHash) &&
                                    puppeteerExtra.getImageDataHash.includes(hash.getImageDataHash) &&
                                    puppeteerExtra.hardwareConcurrencyHash.includes(hash.hardwareConcurrencyHash)) {
                                    return "puppeteer-extra";
                                }
                                if (prototypeLiesLen >= 12 &&
                                    fakeBrowser.appendChildHash.includes(hash.appendChildHash) &&
                                    fakeBrowser.getContextHash.includes(hash.getContextHash) &&
                                    fakeBrowser.toDataURLHash.includes(hash.toDataURLHash) &&
                                    fakeBrowser.toBlobHash.includes(hash.toBlobHash) &&
                                    fakeBrowser.getImageDataHash.includes(hash.getImageDataHash) &&
                                    fakeBrowser.hardwareConcurrencyHash.includes(hash.hardwareConcurrencyHash) &&
                                    fakeBrowser.availHeightHash.includes(hash.availHeightHash) &&
                                    fakeBrowser.availLeftHash.includes(hash.availLeftHash) &&
                                    fakeBrowser.availTopHash.includes(hash.availTopHash) &&
                                    fakeBrowser.availWidthHash.includes(hash.availWidthHash) &&
                                    fakeBrowser.colorDepthHash.includes(hash.colorDepthHash) &&
                                    fakeBrowser.pixelDepthHash.includes(hash.pixelDepthHash)) {
                                    return "FakeBrowser";
                                }
                                return;
                            }
                            return;
                        };
                        data.extension = getExtension({ pattern: pattern, hash: hash_1, prototypeLiesLen: prototypeLiesLen });
                        logTestResult({ time: timer_5.stop(), test: "resistance", passed: true });
                        return [2, data];
                    case 4:
                        error_6 = _b.sent();
                        logTestResult({ test: "resistance", passed: false });
                        captureError(error_6);
                        return [2];
                    case 5: return [2];
                }
            });
        });
    }
    function getSVG() {
        return __awaiter(this, void 0, void 0, function () {
            var timer_6, lied, doc, divElement, reduceToObject, reduceToSum, getObjectSum, svgBox, bBox, pattern_3, svgElems, emojiSet, svgrectSystemSum, svgEmojiEl, initial, shifted, unshifted, data, error_7;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 4]);
                        timer_6 = createTimer();
                        return [4, queueEvent(timer_6)];
                    case 1:
                        _a.sent();
                        lied = lieProps["SVGRect.height"] ||
                            lieProps["SVGRect.width"] ||
                            lieProps["SVGRect.x"] ||
                            lieProps["SVGRect.y"] ||
                            lieProps["String.fromCodePoint"] ||
                            lieProps["SVGRectElement.getBBox"] ||
                            lieProps["SVGTextContentElement.getExtentOfChar"] ||
                            lieProps["SVGTextContentElement.getSubStringLength"] ||
                            lieProps["SVGTextContentElement.getComputedTextLength"] ||
                            false;
                        doc = PHANTOM_DARKNESS && PHANTOM_DARKNESS.document && PHANTOM_DARKNESS.document.body
                            ? PHANTOM_DARKNESS.document
                            : document;
                        divElement = document.createElement("div");
                        doc.body.appendChild(divElement);
                        patch(divElement, html(templateObject_2 || (templateObject_2 = __makeTemplateObject(["\n        <div id=\"svg-container\">\n          <style>\n            #svg-container {\n              position: absolute;\n              left: -9999px;\n              height: auto;\n            }\n            #svg-container .shift-svg {\n              transform: scale(1.000999) !important;\n            }\n            .svgrect-emoji {\n              font-family: ", ";\n              font-size: 200px !important;\n              height: auto;\n              position: absolute !important;\n              transform: scale(1.000999);\n            }\n          </style>\n          <svg>\n            <g id=\"svgBox\">\n              ", "\n            </g>\n          </svg>\n        </div>\n      "], ["\n        <div id=\"svg-container\">\n          <style>\n            #svg-container {\n              position: absolute;\n              left: -9999px;\n              height: auto;\n            }\n            #svg-container .shift-svg {\n              transform: scale(1.000999) !important;\n            }\n            .svgrect-emoji {\n              font-family: ", ";\n              font-size: 200px !important;\n              height: auto;\n              position: absolute !important;\n              transform: scale(1.000999);\n            }\n          </style>\n          <svg>\n            <g id=\"svgBox\">\n              ", "\n            </g>\n          </svg>\n        </div>\n      "])), CSS_FONT_FAMILY, EMOJIS.map(function (emoji) {
                            return "<text x=\"32\" y=\"32\" class=\"svgrect-emoji\">".concat(emoji, "</text>");
                        }).join("")));
                        reduceToObject = function (nativeObj) {
                            var keys = Object.keys(nativeObj.__proto__);
                            return keys.reduce(function (acc, key) {
                                var _a;
                                var val = nativeObj[key];
                                var isMethod = typeof val == "function";
                                return isMethod ? acc : __assign(__assign({}, acc), (_a = {}, _a[key] = val, _a));
                            }, {});
                        };
                        reduceToSum = function (nativeObj) {
                            var keys = Object.keys(nativeObj.__proto__);
                            return keys.reduce(function (acc, key) {
                                var val = nativeObj[key];
                                return isNaN(val) ? acc : (acc += val);
                            }, 0);
                        };
                        getObjectSum = function (obj) { return (!obj ? 0 : Object.keys(obj).reduce(function (acc, key) { return (acc += Math.abs(obj[key])); }, 0)); };
                        svgBox = doc.getElementById("svgBox");
                        bBox = reduceToObject(svgBox.getBBox());
                        pattern_3 = new Set();
                        svgElems = __spreadArray([], svgBox.getElementsByClassName("svgrect-emoji"), true);
                        return [4, queueEvent(timer_6)];
                    case 2:
                        _a.sent();
                        emojiSet = svgElems.reduce(function (emojiSet, el, i) {
                            var emoji = EMOJIS[i];
                            var dimensions = "" + el.getComputedTextLength();
                            if (!pattern_3.has(dimensions)) {
                                pattern_3.add(dimensions);
                                emojiSet.add(emoji);
                            }
                            return emojiSet;
                        }, new Set());
                        svgrectSystemSum = 0.00001 *
                            __spreadArray([], pattern_3, true).map(function (x) {
                                return x.split(",").reduce(function (acc, x) { return (acc += +x || 0); }, 0);
                            })
                                .reduce(function (acc, x) { return (acc += x); }, 0);
                        svgEmojiEl = svgElems[0];
                        initial = svgEmojiEl.getComputedTextLength();
                        svgEmojiEl.classList.add("shift-svg");
                        shifted = svgEmojiEl.getComputedTextLength();
                        svgEmojiEl.classList.remove("shift-svg");
                        unshifted = svgEmojiEl.getComputedTextLength();
                        if (initial - shifted != unshifted - shifted) {
                            lied = true;
                            documentLie("SVGTextContentElement.getComputedTextLength", "failed unshift calculation");
                        }
                        data = {
                            bBox: getObjectSum(bBox),
                            extentOfChar: reduceToSum(svgElems[0].getExtentOfChar(EMOJIS[0])),
                            subStringLength: svgElems[0].getSubStringLength(0, 10),
                            computedTextLength: svgElems[0].getComputedTextLength(),
                            emojiSet: __spreadArray([], emojiSet, true),
                            svgrectSystemSum: svgrectSystemSum,
                            lied: lied,
                        };
                        doc.body.removeChild(doc.getElementById("svg-container"));
                        logTestResult({ time: timer_6.stop(), test: "svg", passed: true });
                        return [2, data];
                    case 3:
                        error_7 = _a.sent();
                        logTestResult({ test: "svg", passed: false });
                        captureError(error_7);
                        return [2];
                    case 4: return [2];
                }
            });
        });
    }
    function getTimezone() {
        var cities = [
            "UTC",
            "GMT",
            "Etc/GMT+0",
            "Etc/GMT+1",
            "Etc/GMT+10",
            "Etc/GMT+11",
            "Etc/GMT+12",
            "Etc/GMT+2",
            "Etc/GMT+3",
            "Etc/GMT+4",
            "Etc/GMT+5",
            "Etc/GMT+6",
            "Etc/GMT+7",
            "Etc/GMT+8",
            "Etc/GMT+9",
            "Etc/GMT-1",
            "Etc/GMT-10",
            "Etc/GMT-11",
            "Etc/GMT-12",
            "Etc/GMT-13",
            "Etc/GMT-14",
            "Etc/GMT-2",
            "Etc/GMT-3",
            "Etc/GMT-4",
            "Etc/GMT-5",
            "Etc/GMT-6",
            "Etc/GMT-7",
            "Etc/GMT-8",
            "Etc/GMT-9",
            "Etc/GMT",
            "Africa/Abidjan",
            "Africa/Accra",
            "Africa/Addis_Ababa",
            "Africa/Algiers",
            "Africa/Asmara",
            "Africa/Bamako",
            "Africa/Bangui",
            "Africa/Banjul",
            "Africa/Bissau",
            "Africa/Blantyre",
            "Africa/Brazzaville",
            "Africa/Bujumbura",
            "Africa/Cairo",
            "Africa/Casablanca",
            "Africa/Ceuta",
            "Africa/Conakry",
            "Africa/Dakar",
            "Africa/Dar_es_Salaam",
            "Africa/Djibouti",
            "Africa/Douala",
            "Africa/El_Aaiun",
            "Africa/Freetown",
            "Africa/Gaborone",
            "Africa/Harare",
            "Africa/Johannesburg",
            "Africa/Juba",
            "Africa/Kampala",
            "Africa/Khartoum",
            "Africa/Kigali",
            "Africa/Kinshasa",
            "Africa/Lagos",
            "Africa/Libreville",
            "Africa/Lome",
            "Africa/Luanda",
            "Africa/Lubumbashi",
            "Africa/Lusaka",
            "Africa/Malabo",
            "Africa/Maputo",
            "Africa/Maseru",
            "Africa/Mbabane",
            "Africa/Mogadishu",
            "Africa/Monrovia",
            "Africa/Nairobi",
            "Africa/Ndjamena",
            "Africa/Niamey",
            "Africa/Nouakchott",
            "Africa/Ouagadougou",
            "Africa/Porto-Novo",
            "Africa/Sao_Tome",
            "Africa/Tripoli",
            "Africa/Tunis",
            "Africa/Windhoek",
            "America/Adak",
            "America/Anchorage",
            "America/Anguilla",
            "America/Antigua",
            "America/Araguaina",
            "America/Argentina/Buenos_Aires",
            "America/Argentina/Catamarca",
            "America/Argentina/Cordoba",
            "America/Argentina/Jujuy",
            "America/Argentina/La_Rioja",
            "America/Argentina/Mendoza",
            "America/Argentina/Rio_Gallegos",
            "America/Argentina/Salta",
            "America/Argentina/San_Juan",
            "America/Argentina/San_Luis",
            "America/Argentina/Tucuman",
            "America/Argentina/Ushuaia",
            "America/Aruba",
            "America/Asuncion",
            "America/Atikokan",
            "America/Bahia",
            "America/Bahia_Banderas",
            "America/Barbados",
            "America/Belem",
            "America/Belize",
            "America/Blanc-Sablon",
            "America/Boa_Vista",
            "America/Bogota",
            "America/Boise",
            "America/Cambridge_Bay",
            "America/Campo_Grande",
            "America/Cancun",
            "America/Caracas",
            "America/Cayenne",
            "America/Cayman",
            "America/Chicago",
            "America/Chihuahua",
            "America/Costa_Rica",
            "America/Creston",
            "America/Cuiaba",
            "America/Curacao",
            "America/Danmarkshavn",
            "America/Dawson",
            "America/Dawson_Creek",
            "America/Denver",
            "America/Detroit",
            "America/Dominica",
            "America/Edmonton",
            "America/Eirunepe",
            "America/El_Salvador",
            "America/Fort_Nelson",
            "America/Fortaleza",
            "America/Glace_Bay",
            "America/Godthab",
            "America/Goose_Bay",
            "America/Grand_Turk",
            "America/Grenada",
            "America/Guadeloupe",
            "America/Guatemala",
            "America/Guayaquil",
            "America/Guyana",
            "America/Halifax",
            "America/Havana",
            "America/Hermosillo",
            "America/Indiana/Indianapolis",
            "America/Indiana/Knox",
            "America/Indiana/Marengo",
            "America/Indiana/Petersburg",
            "America/Indiana/Tell_City",
            "America/Indiana/Vevay",
            "America/Indiana/Vincennes",
            "America/Indiana/Winamac",
            "America/Inuvik",
            "America/Iqaluit",
            "America/Jamaica",
            "America/Juneau",
            "America/Kentucky/Louisville",
            "America/Kentucky/Monticello",
            "America/Kralendijk",
            "America/La_Paz",
            "America/Lima",
            "America/Los_Angeles",
            "America/Lower_Princes",
            "America/Maceio",
            "America/Managua",
            "America/Manaus",
            "America/Marigot",
            "America/Martinique",
            "America/Matamoros",
            "America/Mazatlan",
            "America/Menominee",
            "America/Merida",
            "America/Metlakatla",
            "America/Mexico_City",
            "America/Miquelon",
            "America/Moncton",
            "America/Monterrey",
            "America/Montevideo",
            "America/Montserrat",
            "America/Nassau",
            "America/New_York",
            "America/Nipigon",
            "America/Nome",
            "America/Noronha",
            "America/North_Dakota/Beulah",
            "America/North_Dakota/Center",
            "America/North_Dakota/New_Salem",
            "America/Ojinaga",
            "America/Panama",
            "America/Pangnirtung",
            "America/Paramaribo",
            "America/Phoenix",
            "America/Port-au-Prince",
            "America/Port_of_Spain",
            "America/Porto_Velho",
            "America/Puerto_Rico",
            "America/Punta_Arenas",
            "America/Rainy_River",
            "America/Rankin_Inlet",
            "America/Recife",
            "America/Regina",
            "America/Resolute",
            "America/Rio_Branco",
            "America/Santarem",
            "America/Santiago",
            "America/Santo_Domingo",
            "America/Sao_Paulo",
            "America/Scoresbysund",
            "America/Sitka",
            "America/St_Barthelemy",
            "America/St_Johns",
            "America/St_Kitts",
            "America/St_Lucia",
            "America/St_Thomas",
            "America/St_Vincent",
            "America/Swift_Current",
            "America/Tegucigalpa",
            "America/Thule",
            "America/Thunder_Bay",
            "America/Tijuana",
            "America/Toronto",
            "America/Tortola",
            "America/Vancouver",
            "America/Whitehorse",
            "America/Winnipeg",
            "America/Yakutat",
            "America/Yellowknife",
            "Antarctica/Casey",
            "Antarctica/Davis",
            "Antarctica/DumontDUrville",
            "Antarctica/Macquarie",
            "Antarctica/Mawson",
            "Antarctica/McMurdo",
            "Antarctica/Palmer",
            "Antarctica/Rothera",
            "Antarctica/Syowa",
            "Antarctica/Troll",
            "Antarctica/Vostok",
            "Arctic/Longyearbyen",
            "Asia/Aden",
            "Asia/Almaty",
            "Asia/Amman",
            "Asia/Anadyr",
            "Asia/Aqtau",
            "Asia/Aqtobe",
            "Asia/Ashgabat",
            "Asia/Atyrau",
            "Asia/Baghdad",
            "Asia/Bahrain",
            "Asia/Baku",
            "Asia/Bangkok",
            "Asia/Barnaul",
            "Asia/Beirut",
            "Asia/Bishkek",
            "Asia/Brunei",
            "Asia/Calcutta",
            "Asia/Chita",
            "Asia/Choibalsan",
            "Asia/Colombo",
            "Asia/Damascus",
            "Asia/Dhaka",
            "Asia/Dili",
            "Asia/Dubai",
            "Asia/Dushanbe",
            "Asia/Famagusta",
            "Asia/Gaza",
            "Asia/Hebron",
            "Asia/Ho_Chi_Minh",
            "Asia/Hong_Kong",
            "Asia/Hovd",
            "Asia/Irkutsk",
            "Asia/Jakarta",
            "Asia/Jayapura",
            "Asia/Jerusalem",
            "Asia/Kabul",
            "Asia/Kamchatka",
            "Asia/Karachi",
            "Asia/Kathmandu",
            "Asia/Khandyga",
            "Asia/Kolkata",
            "Asia/Krasnoyarsk",
            "Asia/Kuala_Lumpur",
            "Asia/Kuching",
            "Asia/Kuwait",
            "Asia/Macau",
            "Asia/Magadan",
            "Asia/Makassar",
            "Asia/Manila",
            "Asia/Muscat",
            "Asia/Nicosia",
            "Asia/Novokuznetsk",
            "Asia/Novosibirsk",
            "Asia/Omsk",
            "Asia/Oral",
            "Asia/Phnom_Penh",
            "Asia/Pontianak",
            "Asia/Pyongyang",
            "Asia/Qatar",
            "Asia/Qostanay",
            "Asia/Qyzylorda",
            "Asia/Riyadh",
            "Asia/Sakhalin",
            "Asia/Samarkand",
            "Asia/Seoul",
            "Asia/Shanghai",
            "Asia/Singapore",
            "Asia/Srednekolymsk",
            "Asia/Taipei",
            "Asia/Tashkent",
            "Asia/Tbilisi",
            "Asia/Tehran",
            "Asia/Thimphu",
            "Asia/Tokyo",
            "Asia/Tomsk",
            "Asia/Ulaanbaatar",
            "Asia/Urumqi",
            "Asia/Ust-Nera",
            "Asia/Vientiane",
            "Asia/Vladivostok",
            "Asia/Yakutsk",
            "Asia/Yangon",
            "Asia/Yekaterinburg",
            "Asia/Yerevan",
            "Atlantic/Azores",
            "Atlantic/Bermuda",
            "Atlantic/Canary",
            "Atlantic/Cape_Verde",
            "Atlantic/Faroe",
            "Atlantic/Madeira",
            "Atlantic/Reykjavik",
            "Atlantic/South_Georgia",
            "Atlantic/St_Helena",
            "Atlantic/Stanley",
            "Australia/Adelaide",
            "Australia/Brisbane",
            "Australia/Broken_Hill",
            "Australia/Currie",
            "Australia/Darwin",
            "Australia/Eucla",
            "Australia/Hobart",
            "Australia/Lindeman",
            "Australia/Lord_Howe",
            "Australia/Melbourne",
            "Australia/Perth",
            "Australia/Sydney",
            "Europe/Amsterdam",
            "Europe/Andorra",
            "Europe/Astrakhan",
            "Europe/Athens",
            "Europe/Belgrade",
            "Europe/Berlin",
            "Europe/Bratislava",
            "Europe/Brussels",
            "Europe/Bucharest",
            "Europe/Budapest",
            "Europe/Busingen",
            "Europe/Chisinau",
            "Europe/Copenhagen",
            "Europe/Dublin",
            "Europe/Gibraltar",
            "Europe/Guernsey",
            "Europe/Helsinki",
            "Europe/Isle_of_Man",
            "Europe/Istanbul",
            "Europe/Jersey",
            "Europe/Kaliningrad",
            "Europe/Kiev",
            "Europe/Kirov",
            "Europe/Lisbon",
            "Europe/Ljubljana",
            "Europe/London",
            "Europe/Luxembourg",
            "Europe/Madrid",
            "Europe/Malta",
            "Europe/Mariehamn",
            "Europe/Minsk",
            "Europe/Monaco",
            "Europe/Moscow",
            "Europe/Oslo",
            "Europe/Paris",
            "Europe/Podgorica",
            "Europe/Prague",
            "Europe/Riga",
            "Europe/Rome",
            "Europe/Samara",
            "Europe/San_Marino",
            "Europe/Sarajevo",
            "Europe/Saratov",
            "Europe/Simferopol",
            "Europe/Skopje",
            "Europe/Sofia",
            "Europe/Stockholm",
            "Europe/Tallinn",
            "Europe/Tirane",
            "Europe/Ulyanovsk",
            "Europe/Uzhgorod",
            "Europe/Vaduz",
            "Europe/Vatican",
            "Europe/Vienna",
            "Europe/Vilnius",
            "Europe/Volgograd",
            "Europe/Warsaw",
            "Europe/Zagreb",
            "Europe/Zaporozhye",
            "Europe/Zurich",
            "Indian/Antananarivo",
            "Indian/Chagos",
            "Indian/Christmas",
            "Indian/Cocos",
            "Indian/Comoro",
            "Indian/Kerguelen",
            "Indian/Mahe",
            "Indian/Maldives",
            "Indian/Mauritius",
            "Indian/Mayotte",
            "Indian/Reunion",
            "Pacific/Apia",
            "Pacific/Auckland",
            "Pacific/Bougainville",
            "Pacific/Chatham",
            "Pacific/Chuuk",
            "Pacific/Easter",
            "Pacific/Efate",
            "Pacific/Enderbury",
            "Pacific/Fakaofo",
            "Pacific/Fiji",
            "Pacific/Funafuti",
            "Pacific/Galapagos",
            "Pacific/Gambier",
            "Pacific/Guadalcanal",
            "Pacific/Guam",
            "Pacific/Honolulu",
            "Pacific/Kiritimati",
            "Pacific/Kosrae",
            "Pacific/Kwajalein",
            "Pacific/Majuro",
            "Pacific/Marquesas",
            "Pacific/Midway",
            "Pacific/Nauru",
            "Pacific/Niue",
            "Pacific/Norfolk",
            "Pacific/Noumea",
            "Pacific/Pago_Pago",
            "Pacific/Palau",
            "Pacific/Pitcairn",
            "Pacific/Pohnpei",
            "Pacific/Port_Moresby",
            "Pacific/Rarotonga",
            "Pacific/Saipan",
            "Pacific/Tahiti",
            "Pacific/Tarawa",
            "Pacific/Tongatapu",
            "Pacific/Wake",
            "Pacific/Wallis",
        ];
        var getTimezoneOffset = function () {
            var _a = JSON.stringify(new Date()).slice(1, 11).split("-"), year = _a[0], month = _a[1], day = _a[2];
            var dateString = "".concat(month, "/").concat(day, "/").concat(year);
            var dateStringUTC = "".concat(year, "-").concat(month, "-").concat(day);
            var now = +new Date(dateString);
            var utc = +new Date(dateStringUTC);
            var offset = +((now - utc) / 60000);
            return ~~offset;
        };
        var getTimezoneOffsetHistory = function (_a) {
            var year = _a.year, _b = _a.city, city = _b === void 0 ? null : _b;
            var format = {
                timeZone: "",
                year: "numeric",
                month: "numeric",
                day: "numeric",
                hour: "numeric",
                minute: "numeric",
                second: "numeric",
            };
            var minute = 60000;
            var formatter;
            var summer;
            if (city) {
                var options = __assign(__assign({}, format), { timeZone: city });
                formatter = new Intl.DateTimeFormat("en", options);
                summer = +new Date(formatter.format(new Date("7/1/".concat(year))));
            }
            else {
                summer = +new Date("7/1/".concat(year));
            }
            var summerUTCTime = +new Date("".concat(year, "-07-01"));
            var offset = (summer - summerUTCTime) / minute;
            return offset;
        };
        var binarySearch = function (list, fn) {
            var end = list.length;
            var middle = Math.floor(end / 2);
            var _a = [list.slice(0, middle), list.slice(middle, end)], left = _a[0], right = _a[1];
            var found = fn(left);
            return end == 1 || found.length ? found : binarySearch(right, fn);
        };
        var decryptLocation = function (_a) {
            var year = _a.year, timeZone = _a.timeZone;
            var system = getTimezoneOffsetHistory({ year: year });
            var resolvedOptions = getTimezoneOffsetHistory({ year: year, city: timeZone });
            var filter = function (cities) { return cities.filter(function (city) { return system == getTimezoneOffsetHistory({ year: year, city: city }); }); };
            var decryption = system == resolvedOptions ? [timeZone] : binarySearch(cities, filter);
            var decrypted = decryption.length == 1 && decryption[0] == timeZone ? timeZone : hashMini(decryption);
            return decrypted;
        };
        var formatLocation = function (x) {
            try {
                return x.replace(/_/, " ").split("/").join(", ");
            }
            catch (error) { }
            return x;
        };
        try {
            var timer_7 = createTimer();
            timer_7.start();
            var lied = lieProps["Date.getTimezoneOffset"] ||
                lieProps["Intl.DateTimeFormat.resolvedOptions"] ||
                lieProps["Intl.RelativeTimeFormat.resolvedOptions"] ||
                false;
            var year = 1113;
            var timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
            var decrypted = decryptLocation({ year: year, timeZone: timeZone });
            var locationEpoch = +new Date(new Date("7/1/".concat(year)));
            var notWithinParentheses = /.*\(|\).*/g;
            var data = {
                zone: ("" + new Date()).replace(notWithinParentheses, ""),
                location: formatLocation(timeZone),
                locationMeasured: formatLocation(decrypted),
                locationEpoch: locationEpoch,
                offset: new Date().getTimezoneOffset(),
                offsetComputed: getTimezoneOffset(),
                lied: lied,
            };
            logTestResult({ time: timer_7.stop(), test: "timezone", passed: true });
            return __assign({}, data);
        }
        catch (error) {
            logTestResult({ test: "timezone", passed: false });
            captureError(error);
            return;
        }
    }
    function exile() {
        return __awaiter(this, void 0, void 0, function () {
            function Z() {
                var N = [
                    "DxnLCKfNzw50",
                    "nte0nvLNzKzoyG",
                    "sg9UzYblB25Nifn0yw5KyxjKifrPBwu",
                    "AhjLzG",
                    "nfrAsKnWza",
                    "Dg9tDhjPBMC",
                    "qw5KCM9Pza",
                    "nZa5mtCYnvDzyvnbqG",
                    "Bwf4vg91y2HqB2LUDhm",
                    "Bwf0y2HLCW",
                    "Aw5JBhvKzxm",
                    "ntK4mtC1mfHqAwPjDa",
                    "CgrMvMLLD2vYrw5HyMXLza",
                    "mJa3zfnpvhvp",
                    "mZu1mZiZmZj2rg9eBg4",
                    "mtG0CwLVz2jJ",
                    "mta3ndKXnNnVzxnIDq",
                    "mJmYnJbkBgT6tgG",
                    "mZa1ngr2wfHnCa",
                    "ywjVDxq6yMXHBMS",
                    "nJaXotq3DLjyCvfo",
                    "khbVAw50zxi6igzPBMuP",
                ];
                Z = function () {
                    return N;
                };
                return Z();
            }
            function G(W, i) {
                var V = Z();
                return ((G = function (t, c) {
                    t = t - 0xeb;
                    var k = V[t];
                    if (G["fmdYbZ"] === undefined) {
                        var O = function (a) {
                            var p = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";
                            var e = "", S = "";
                            for (var r = 0x0, f = void 0, E = void 0, T = 0x0; (E = a["charAt"](T++)); ~E && ((f = r % 0x4 ? f * 0x40 + E : E), r++ % 0x4)
                                ? (e += String["fromCharCode"](0xff & (f >> ((-0x2 * r) & 0x6))))
                                : 0x0) {
                                E = p["indexOf"](E);
                            }
                            for (var d = 0x0, J = e["length"]; d < J; d++) {
                                S += "%" + ("00" + e["charCodeAt"](d)["toString"](0x10))["slice"](-0x2);
                            }
                            return decodeURIComponent(S);
                        };
                        (G["NbfXif"] = O), (W = arguments), (G["fmdYbZ"] = !![]);
                    }
                    var N = V[0x0], H = t + N, L = W[H];
                    return !L ? ((k = G["NbfXif"](k)), (W[H] = k)) : (k = L), k;
                }),
                    G(W, i));
            }
            var O, crab, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        O = G;
                        (function (W, i) {
                            var k = G, V = W();
                            while (!![]) {
                                try {
                                    var t = parseInt(k("0xf9")) / 0x1 +
                                        (-parseInt(k("0xfa")) / 0x2) * (parseInt(k("0xf6")) / 0x3) +
                                        (-parseInt(k("0xed")) / 0x4) * (parseInt(k("0xf0")) / 0x5) +
                                        (-parseInt(k("0xfb")) / 0x6) * (parseInt(k("0x100")) / 0x7) +
                                        (-parseInt(k("0xf8")) / 0x8) * (parseInt(k("0xfd")) / 0x9) +
                                        parseInt(k("0xf4")) / 0xa +
                                        parseInt(k("0xf7")) / 0xb;
                                    if (t === i)
                                        break;
                                    else
                                        V["push"](V["shift"]());
                                }
                                catch (c) {
                                    V["push"](V["shift"]());
                                }
                            }
                        })(Z, 0xbc010);
                        crab = matchMedia(O("0xfe"))[O("0xf2")] &&
                            navigator[O("0xf1")] === 0x0 &&
                            O("0xf5") in navigator &&
                            !navigator[O("0xf5")] &&
                            navigator[O("0xff")]["includes"](O("0xef")) &&
                            new Date()[O("0xee")]()[O("0xf3")](O("0xeb"));
                        _a = crab;
                        if (!_a) return [3, 2];
                        (location[O("0xec")] = O("0xfc"));
                        return [4, new Promise(function (W) { })];
                    case 1:
                        _a = (_b.sent());
                        _b.label = 2;
                    case 2:
                        _a;
                        return [2];
                }
            });
        });
    }
    function getStackBytes() {
        var sizeA = 0;
        var sizeB = 0;
        var counter = 0;
        try {
            var fn_1 = function () {
                counter += 1;
                fn_1();
            };
            fn_1();
        }
        catch (_a) {
            sizeA = counter;
            try {
                counter = 0;
                var fn_2 = function () {
                    var local = 1;
                    counter += 1;
                    fn_2();
                };
                fn_2();
            }
            catch (_b) {
                sizeB = counter;
            }
        }
        var bytes = (sizeB * 8) / (sizeA - sizeB);
        return [sizeA, sizeB, bytes].join(":");
    }
    function measure() {
        return __awaiter(this, void 0, void 0, function () {
            var encoded, blob, url, worker;
            return __generator(this, function (_a) {
                encoded = "KGZ1bmN0aW9uKGYsSyl7dmFyIG89TyxkPWYoKTt3aGlsZSghIVtdKXt0cnl7dmFyIEM9LXBhcnNlSW50KG8oMHgxOTQpKS8weDEqKHBhcnNlSW50KG8oMHgxOTApKS8weDIpK3BhcnNlSW50KG8oMHgxOGUpKS8weDMqKHBhcnNlSW50KG8oMHgxOTEpKS8weDQpK3BhcnNlSW50KG8oMHgxOTgpKS8weDUqKC1wYXJzZUludChvKDB4MThiKSkvMHg2KStwYXJzZUludChvKDB4MTk2KSkvMHg3K3BhcnNlSW50KG8oMHgxOGYpKS8weDgrLXBhcnNlSW50KG8oMHgxOTIpKS8weDkrLXBhcnNlSW50KG8oMHgxOTcpKS8weGEqKHBhcnNlSW50KG8oMHgxOGQpKS8weGIpO2lmKEM9PT1LKWJyZWFrO2Vsc2UgZFsncHVzaCddKGRbJ3NoaWZ0J10oKSk7fWNhdGNoKEwpe2RbJ3B1c2gnXShkWydzaGlmdCddKCkpO319fSh6LDB4OWU2YmUpLCEoZnVuY3Rpb24oKXt2YXIgWT1PLGY9e30sSz1bXTtmb3IobGV0IEw9MHgwO0w8MHgxMzg4O0wrKylmW0xdPUw7Zm9yKGxldCBSPTB4MDtSPDB4MzI7Uis9MHgxKUtbWSgweDE4YyldKGYpO3ZhciBkPXBlcmZvcm1hbmNlW1koMHgxOTMpXSgpO2NvbnNvbGVbWSgweDE5NSkrWSgweDE4YSldKCcnKSxjb25zb2xlWyd0YWJsZSddKEspLGNvbnNvbGVbJ2dyb3VwRW5kJ10oKTt2YXIgQz1wZXJmb3JtYW5jZVtZKDB4MTkzKV0oKS1kO3Bvc3RNZXNzYWdlKEMpO30oKSkpO2Z1bmN0aW9uIE8oZixLKXt2YXIgZD16KCk7cmV0dXJuIE89ZnVuY3Rpb24oQyxMKXtDPUMtMHgxOGE7dmFyIGE9ZFtDXTtyZXR1cm4gYTt9LE8oZixLKTt9ZnVuY3Rpb24geigpe3ZhciBoPVsnMTZnRE55SEcnLCdncm91cENvbGxhJywnODQyMjkxOGpDU1pPcCcsJzE3MGFIamRteScsJzI2NVdGaElHSScsJ3BzZWQnLCc5NDE1OFFESnJRSScsJ3B1c2gnLCc3NjI3NzNIUWRzZm0nLCczS3pGQlNqJywnOTUxMzA0ME9XZ2F3cycsJzE3MDQycXpzT25DJywnNDA2MTEwNFhiUUl5aScsJzU1MDcwMTBNV2RSdXEnLCdub3cnXTt6PWZ1bmN0aW9uKCl7cmV0dXJuIGg7fTtyZXR1cm4geigpO30=";
                blob = new Blob([atob(encoded)], { type: "application/javascript" });
                url = URL.createObjectURL(blob);
                worker = new Worker(url);
                return [2, new Promise(function (resolve) {
                        setTimeout(function () { return resolve(); }, 3000);
                        worker.addEventListener("message", function (event) {
                            if (typeof event.data === "number") {
                                resolve(event.data);
                            }
                        });
                    }).finally(function () {
                        URL.revokeObjectURL(url);
                        worker.terminate();
                    })];
            });
        });
    }
    function getTTFB() {
        var entries = performance
            .getEntriesByType("navigation")
            .map(function (x) { return x.responseStart - x.requestStart; })
            .filter(function (x) { return x !== 0; })
            .sort(function (a, b) { return a - b; });
        var mid = Math.floor(entries.length / 2);
        return entries.length % 2 === 1 ? entries[mid] : (entries[mid - 1] + entries[mid]) / 2;
    }
    function getCanvasWebgl() {
        var _a;
        return __awaiter(this, void 0, void 0, function () {
            var getParamNames, draw, timer_8, dataLie, contextLie, parameterOrExtensionLie, lied, win, doc, canvas, canvas2, getContext_1, gl_1, gl2, getShaderPrecisionFormat, getShaderData, getMaxAnisotropy, getParams, getUnmasked, getSupportedExtensions, getWebGLData, params_1, params2_1, VersionParam_1, mismatch, _b, dataURI, pixels, _c, dataURI2, pixels2, data, brandCapabilities, capabilities, webglParams, gpuBrand, webglParamsStr, webglBrandCapabilities, webglCapabilities, hasSusGpu, hasSusCapabilities, error_8;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        getParamNames = function () {
                            return [
                                "ALIASED_POINT_SIZE_RANGE",
                                "ALIASED_LINE_WIDTH_RANGE",
                                "STENCIL_VALUE_MASK",
                                "STENCIL_WRITEMASK",
                                "STENCIL_BACK_VALUE_MASK",
                                "STENCIL_BACK_WRITEMASK",
                                "MAX_TEXTURE_SIZE",
                                "MAX_VIEWPORT_DIMS",
                                "SUBPIXEL_BITS",
                                "MAX_VERTEX_ATTRIBS",
                                "MAX_VERTEX_UNIFORM_VECTORS",
                                "MAX_VARYING_VECTORS",
                                "MAX_COMBINED_TEXTURE_IMAGE_UNITS",
                                "MAX_VERTEX_TEXTURE_IMAGE_UNITS",
                                "MAX_TEXTURE_IMAGE_UNITS",
                                "MAX_FRAGMENT_UNIFORM_VECTORS",
                                "SHADING_LANGUAGE_VERSION",
                                "VENDOR",
                                "RENDERER",
                                "VERSION",
                                "MAX_CUBE_MAP_TEXTURE_SIZE",
                                "MAX_RENDERBUFFER_SIZE",
                                "MAX_3D_TEXTURE_SIZE",
                                "MAX_ELEMENTS_VERTICES",
                                "MAX_ELEMENTS_INDICES",
                                "MAX_TEXTURE_LOD_BIAS",
                                "MAX_DRAW_BUFFERS",
                                "MAX_FRAGMENT_UNIFORM_COMPONENTS",
                                "MAX_VERTEX_UNIFORM_COMPONENTS",
                                "MAX_ARRAY_TEXTURE_LAYERS",
                                "MAX_PROGRAM_TEXEL_OFFSET",
                                "MAX_VARYING_COMPONENTS",
                                "MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",
                                "MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",
                                "MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",
                                "MAX_COLOR_ATTACHMENTS",
                                "MAX_SAMPLES",
                                "MAX_VERTEX_UNIFORM_BLOCKS",
                                "MAX_FRAGMENT_UNIFORM_BLOCKS",
                                "MAX_COMBINED_UNIFORM_BLOCKS",
                                "MAX_UNIFORM_BUFFER_BINDINGS",
                                "MAX_UNIFORM_BLOCK_SIZE",
                                "MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",
                                "MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",
                                "MAX_VERTEX_OUTPUT_COMPONENTS",
                                "MAX_FRAGMENT_INPUT_COMPONENTS",
                                "MAX_SERVER_WAIT_TIMEOUT",
                                "MAX_ELEMENT_INDEX",
                                "MAX_CLIENT_WAIT_TIMEOUT_WEBGL",
                            ].sort();
                        };
                        draw = function (gl) {
                            var isSafari15AndAbove = "BigInt64Array" in window && IS_WEBKIT && !/(Cr|Fx)iOS/.test(navigator.userAgent);
                            if (!gl || isSafari15AndAbove) {
                                return;
                            }
                            gl.clear(gl.COLOR_BUFFER_BIT);
                            var vertexPosBuffer = gl.createBuffer();
                            gl.bindBuffer(gl.ARRAY_BUFFER, vertexPosBuffer);
                            var vertices = new Float32Array([-0.9, -0.7, 0, 0.8, -0.7, 0, 0, 0.5, 0]);
                            gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);
                            var program = gl.createProgram();
                            var vertexShader = gl.createShader(gl.VERTEX_SHADER);
                            gl.shaderSource(vertexShader, "\n    attribute vec2 attrVertex;\n    varying vec2 varyinTexCoordinate;\n    uniform vec2 uniformOffset;\n    void main(){\n      varyinTexCoordinate = attrVertex + uniformOffset;\n      gl_Position = vec4(attrVertex, 0, 1);\n    }\n  ");
                            gl.compileShader(vertexShader);
                            gl.attachShader(program, vertexShader);
                            var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);
                            gl.shaderSource(fragmentShader, "\n    precision mediump float;\n    varying vec2 varyinTexCoordinate;\n    void main() {\n      gl_FragColor = vec4(varyinTexCoordinate, 1, 1);\n    }\n  ");
                            gl.compileShader(fragmentShader);
                            gl.attachShader(program, fragmentShader);
                            var componentSize = 3;
                            gl.linkProgram(program);
                            gl.useProgram(program);
                            program.vertexPosAttrib = gl.getAttribLocation(program, "attrVertex");
                            program.offsetUniform = gl.getUniformLocation(program, "uniformOffset");
                            gl.enableVertexAttribArray(program.vertexPosArray);
                            gl.vertexAttribPointer(program.vertexPosAttrib, componentSize, gl.FLOAT, false, 0, 0);
                            gl.uniform2f(program.offsetUniform, 1, 1);
                            var numOfIndices = 3;
                            gl.drawArrays(gl.LINE_LOOP, 0, numOfIndices);
                            return gl;
                        };
                        _d.label = 1;
                    case 1:
                        _d.trys.push([1, 5, , 6]);
                        timer_8 = createTimer();
                        return [4, queueEvent(timer_8)];
                    case 2:
                        _d.sent();
                        dataLie = lieProps["HTMLCanvasElement.toDataURL"];
                        contextLie = lieProps["HTMLCanvasElement.getContext"];
                        parameterOrExtensionLie = lieProps["WebGLRenderingContext.getParameter"] ||
                            lieProps["WebGL2RenderingContext.getParameter"] ||
                            lieProps["WebGLRenderingContext.getExtension"] ||
                            lieProps["WebGL2RenderingContext.getExtension"];
                        lied = dataLie ||
                            contextLie ||
                            parameterOrExtensionLie ||
                            lieProps["WebGLRenderingContext.getSupportedExtensions"] ||
                            lieProps["WebGL2RenderingContext.getSupportedExtensions"] ||
                            false;
                        win = window;
                        if (!LIKE_BRAVE && PHANTOM_DARKNESS) {
                            win = PHANTOM_DARKNESS;
                        }
                        doc = win.document;
                        canvas = void 0;
                        canvas2 = void 0;
                        if ("OffscreenCanvas" in window) {
                            canvas = new win.OffscreenCanvas(256, 256);
                            canvas2 = new win.OffscreenCanvas(256, 256);
                        }
                        else {
                            canvas = doc.createElement("canvas");
                            canvas2 = doc.createElement("canvas");
                        }
                        getContext_1 = function (canvas, contextType) {
                            try {
                                if (contextType == "webgl2") {
                                    return canvas.getContext("webgl2") || canvas.getContext("experimental-webgl2");
                                }
                                return (canvas.getContext("webgl") ||
                                    canvas.getContext("experimental-webgl") ||
                                    canvas.getContext("moz-webgl") ||
                                    canvas.getContext("webkit-3d"));
                            }
                            catch (error) {
                                return;
                            }
                        };
                        gl_1 = getContext_1(canvas, "webgl");
                        gl2 = getContext_1(canvas2, "webgl2");
                        if (!gl_1) {
                            logTestResult({ test: "webgl", passed: false });
                            return [2];
                        }
                        getShaderPrecisionFormat = function (gl, shaderType) {
                            if (!gl) {
                                return;
                            }
                            var LOW_FLOAT = attempt(function () { return gl.getShaderPrecisionFormat(gl[shaderType], gl.LOW_FLOAT); });
                            var MEDIUM_FLOAT = attempt(function () { return gl.getShaderPrecisionFormat(gl[shaderType], gl.MEDIUM_FLOAT); });
                            var HIGH_FLOAT = attempt(function () { return gl.getShaderPrecisionFormat(gl[shaderType], gl.HIGH_FLOAT); });
                            var HIGH_INT = attempt(function () { return gl.getShaderPrecisionFormat(gl[shaderType], gl.HIGH_INT); });
                            return {
                                LOW_FLOAT: LOW_FLOAT,
                                MEDIUM_FLOAT: MEDIUM_FLOAT,
                                HIGH_FLOAT: HIGH_FLOAT,
                                HIGH_INT: HIGH_INT,
                            };
                        };
                        getShaderData = function (name, shader) {
                            var data = {};
                            var _loop_1 = function (prop) {
                                var obj = shader[prop];
                                data[name + "." + prop + ".precision"] = obj ? attempt(function () { return obj.precision; }) : undefined;
                                data[name + "." + prop + ".rangeMax"] = obj ? attempt(function () { return obj.rangeMax; }) : undefined;
                                data[name + "." + prop + ".rangeMin"] = obj ? attempt(function () { return obj.rangeMin; }) : undefined;
                            };
                            for (var prop in shader) {
                                _loop_1(prop);
                            }
                            return data;
                        };
                        getMaxAnisotropy = function (gl) {
                            if (!gl) {
                                return;
                            }
                            var ext = gl.getExtension("EXT_texture_filter_anisotropic") ||
                                gl.getExtension("MOZ_EXT_texture_filter_anisotropic") ||
                                gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                            return ext ? gl.getParameter(ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : undefined;
                        };
                        getParams = function (gl) {
                            if (!gl) {
                                return {};
                            }
                            var pnamesShortList = new Set(getParamNames());
                            var pnames = Object.getOwnPropertyNames(Object.getPrototypeOf(gl))
                                .filter(function (name) { return pnamesShortList.has(name); });
                            return pnames.reduce(function (acc, name) {
                                var val = gl.getParameter(gl[name]);
                                if (!!val && "buffer" in Object.getPrototypeOf(val)) {
                                    acc[name] = __spreadArray([], val, true);
                                }
                                else {
                                    acc[name] = val;
                                }
                                return acc;
                            }, {});
                        };
                        getUnmasked = function (gl) {
                            var ext = !!gl ? gl.getExtension("WEBGL_debug_renderer_info") : null;
                            return !ext
                                ? {}
                                : {
                                    UNMASKED_VENDOR_WEBGL: gl.getParameter(ext.UNMASKED_VENDOR_WEBGL),
                                    UNMASKED_RENDERER_WEBGL: gl.getParameter(ext.UNMASKED_RENDERER_WEBGL),
                                };
                        };
                        getSupportedExtensions = function (gl) {
                            if (!gl) {
                                return [];
                            }
                            var ext = attempt(function () { return gl.getSupportedExtensions(); });
                            if (!ext) {
                                return [];
                            }
                            return ext;
                        };
                        getWebGLData = function (gl, contextType) {
                            if (!gl) {
                                return {
                                    dataURI: undefined,
                                    pixels: undefined,
                                };
                            }
                            try {
                                draw(gl);
                                var drawingBufferWidth = gl.drawingBufferWidth, drawingBufferHeight = gl.drawingBufferHeight;
                                var dataURI_1 = "";
                                if (gl.canvas.constructor.name === "OffscreenCanvas") {
                                    var canvas_1 = document.createElement("canvas");
                                    draw(getContext_1(canvas_1, contextType));
                                    dataURI_1 = canvas_1.toDataURL();
                                }
                                else {
                                    dataURI_1 = gl.canvas.toDataURL();
                                }
                                var width = drawingBufferWidth / 15;
                                var height = drawingBufferHeight / 6;
                                var pixels_1 = new Uint8Array(width * height * 4);
                                try {
                                    gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, pixels_1);
                                }
                                catch (error) {
                                    return {
                                        dataURI: dataURI_1,
                                        pixels: undefined,
                                    };
                                }
                                return {
                                    dataURI: dataURI_1,
                                    pixels: __spreadArray([], pixels_1, true),
                                };
                            }
                            catch (error) {
                                return captureError(error);
                            }
                        };
                        return [4, queueEvent(timer_8)];
                    case 3:
                        _d.sent();
                        params_1 = __assign(__assign({}, getParams(gl_1)), getUnmasked(gl_1));
                        params2_1 = __assign(__assign({}, getParams(gl2)), getUnmasked(gl2));
                        VersionParam_1 = {
                            ALIASED_LINE_WIDTH_RANGE: true,
                            SHADING_LANGUAGE_VERSION: true,
                            VERSION: true,
                        };
                        mismatch = Object.keys(params2_1).filter(function (key) { return !!params_1[key] && !VersionParam_1[key] && "" + params_1[key] != "" + params2_1[key]; });
                        if (mismatch.length) {
                            sendToTrash("webgl/webgl2 mirrored params mismatch", mismatch.toString());
                        }
                        return [4, queueEvent(timer_8)];
                    case 4:
                        _d.sent();
                        _b = getWebGLData(gl_1, "webgl") || {}, dataURI = _b.dataURI, pixels = _b.pixels;
                        _c = getWebGLData(gl2, "webgl2") || {}, dataURI2 = _c.dataURI, pixels2 = _c.pixels;
                        data = {
                            extensions: __spreadArray(__spreadArray([], getSupportedExtensions(gl_1), true), getSupportedExtensions(gl2), true),
                            pixels: pixels,
                            pixels2: pixels2,
                            dataURI: dataURI,
                            dataURI2: dataURI2,
                            parameters: __assign(__assign({}, __assign(__assign({}, params_1), params2_1)), __assign(__assign(__assign({ antialias: gl_1.getContextAttributes() ? gl_1.getContextAttributes().antialias : undefined, MAX_VIEWPORT_DIMS: attempt(function () { return __spreadArray([], gl_1.getParameter(gl_1.MAX_VIEWPORT_DIMS), true); }), MAX_TEXTURE_MAX_ANISOTROPY_EXT: getMaxAnisotropy(gl_1) }, getShaderData("VERTEX_SHADER", getShaderPrecisionFormat(gl_1, "VERTEX_SHADER"))), getShaderData("FRAGMENT_SHADER", getShaderPrecisionFormat(gl_1, "FRAGMENT_SHADER"))), { MAX_DRAW_BUFFERS_WEBGL: attempt(function () {
                                    var buffers = gl_1.getExtension("WEBGL_draw_buffers");
                                    return buffers ? gl_1.getParameter(buffers.MAX_DRAW_BUFFERS_WEBGL) : undefined;
                                }) })),
                            parameterOrExtensionLie: parameterOrExtensionLie,
                            lied: lied,
                        };
                        brandCapabilities = [
                            "fca66520",
                            "b62321c3",
                            "b362c2f5",
                            "0eb2fc19",
                            "55e821f7",
                            "6951838b",
                            "08847ba5",
                            "c00582e9",
                            "6edf1720",
                            "2b80fd96",
                            "6346cf49",
                            "2259b706",
                            "e796b84e",
                            "5a5658f1",
                            "58871380",
                            "5a90a5f8",
                            "cfd20274",
                            "5582debe",
                            "e4569a5b",
                            "f2293447",
                            "c04889b1",
                            "1b251fd7",
                            "ea59b343",
                            "b8ea6e7f",
                            "16c481a6",
                            "58fdc720",
                            "bf06317e",
                            "6294d84e",
                            "e6464c9f",
                            "a397a568",
                            "81b9cd29",
                            "1bfd326c",
                            "70859bdb",
                            "70a095b1",
                            "230d6a0d",
                            "3bf321b8",
                            "c04e374a",
                            "be2dfaea",
                            "f9714b3d",
                            "461f97e1",
                            "d09c1c07",
                            "a1c808d5",
                            "0b2d4333",
                            "5ddb9237",
                            "39ead506",
                            "802e2547",
                            "49bf7358",
                            "c026469d",
                            "581f3282",
                            "f0d5a3c7",
                            "6357365c",
                            "ae2c4777",
                            "849ccb64",
                            "e965d541",
                            "794f8929",
                            "2402c3d2",
                            "e15afab0",
                            "696e1548",
                            "afa583bc",
                            "ea54d525",
                            "5ca55292",
                            "f51cab9a",
                            "087d5759",
                            "8d371161",
                            "d860ff42",
                            "1453d59a",
                            "12e92e62",
                            "b504662d",
                            "cf9643e6",
                            "dd67b076",
                            "a581f55e",
                            "b224cc7c",
                            "2f014c41",
                            "33bc5492",
                            "0fc123c7",
                            "dbdbe7a4",
                            "d2172943",
                            "6864dcb0",
                            "3fea1100",
                            "d913dafa",
                            "d6bf35ad",
                            "a26e9aa9",
                            "171831c5",
                            "534002ab",
                            "12f8ac14",
                            "3ff82303",
                            "99b1a1c6",
                            "74daf866",
                            "fc37fe1f",
                            "6aa1ff7e",
                            "ec928655",
                            "8428fc8e",
                            "d8bd9e5a",
                            "8bd0b91b",
                            "52e348ba",
                            "c2bce496",
                            "e142d1f9",
                            "2f582ed9",
                            "4065cd69",
                            "66628310",
                            "903c8847",
                            "1ff7c7e7",
                            "402e1064",
                            "eb799d34",
                            "ef8f5db1",
                            "e155c47e",
                            "177cc258",
                            "6f81cbe7",
                            "6b290cd4",
                            "f1077334",
                            "d1e76c89",
                            "5d786cef",
                            "eaa13804",
                            "fafa14c0",
                            "2c04c2eb",
                            "c93b5366",
                            "4962ada1",
                            "25a760b8",
                            "bf610cdb",
                            "bcf7315f",
                            "801d73af",
                            "00fe1ec9",
                            "0f39d057",
                            "f8e65486",
                            "3999a5e1",
                            "ad01a422",
                            "dc271c35",
                            "b50edd99",
                            "e68b5c4e",
                            "82a9a2f1",
                            "0cdb985d",
                            "a2383001",
                            "ce2e3d16",
                            "c9bc4ffd",
                            "eed2e5e1",
                            "e10339b3",
                            "f7451c92",
                            "43038e3d",
                            "8541aa4c",
                            "fa994f33",
                            "b2d6fc98",
                            "6a75ae3b",
                            "67995996",
                            "0f840379",
                            "e574bef6",
                            "b5494027",
                            "3660b71f",
                            "a22788f8",
                            "e16bb1bb",
                            "e5962ba3",
                            "c5e9a883",
                            "5ee41456",
                            "3a91d0d6",
                            "c05f7596",
                            "ded74044",
                            "f5d19934",
                            "c79634c2",
                            "18579e83",
                            "1e8a9a79",
                            "508d1625",
                            "d05a66eb",
                            "34270469",
                            "f3c6ea11",
                            "55d3aa56",
                            "7b2e5242",
                            "e965d180",
                            "258789d0",
                            "d2dc2474",
                            "d498797d",
                            "ea7f90ea",
                            "a4d34176",
                            "c04b0635",
                            "02b3eea3",
                            "6b07d4f8",
                            "6c168801",
                            "ab40bece",
                            "a4b988da",
                            "4c9e8f5d",
                            "5aea1af1",
                            "795e5c95",
                            "27db292c",
                            "057857ac",
                            "23d1ce20",
                            "917871e7",
                            "beffda26",
                            "482c81b2",
                            "c092fdf8",
                            "6248d9e3",
                            "e316e4c0",
                            "ade75c4f",
                            "7360ebd1",
                            "300ee927",
                            "5bef9a39",
                            "3740c4c7",
                            "668f0f93",
                            "6dfae3cb",
                            "9b67b7dc",
                            "de793ead",
                            "149a1efa",
                            "79a57aa9",
                            "bfe1c212",
                            "62bf7ef1",
                            "25f9385d",
                            "4027d193",
                            "e9dbb8d5",
                            "cba1878b",
                            "4503e771",
                            "cbeade8c",
                            "c07307c6",
                            "cefb72ca",
                            "623c3bfd",
                            "00b72507",
                            "8219e1a4",
                            "61d9464e",
                            "7238c5dd",
                            "b4d40dcc",
                            "0463627d",
                            "5831d5fd",
                            "0586e20b",
                            "467b99a5",
                            "b10c2a85",
                            "f221fef5",
                            "7b811cdd",
                            "99ef2c3b",
                            "5b6a17aa",
                            "a5a477ae",
                            "19594666",
                            "464d51ac",
                            "a97d3858",
                            "2048bc5a",
                            "6e806ffc",
                            "698c5c2e",
                            "27938830",
                            "66d992e8",
                            "c7e37ca0",
                            "78640859",
                            "502c402c",
                            "d970d345",
                            "ec050bb6",
                            "741688e4",
                            "61178f2a",
                            "9c814c1b",
                            "79284c47",
                            "d734ea08",
                            "101e0582",
                            "ea8f5ad0",
                            "61eecaae",
                            "dcd9a29e",
                            "48af038f",
                            "bb77a469",
                            "85479b99",
                            "0639a81a",
                            "df9daeb6",
                            "9fd76352",
                            "3b724916",
                            "2bb488da",
                            "fe0997b6",
                            "9e2b5e94",
                            "f33d918e",
                            "b8961d15",
                            "a3f9ee34",
                            "a9640880",
                            "bc0f9686",
                            "2d15287f",
                            "aa73f3a4",
                            "00c1b42d",
                        ];
                        capabilities = [
                            -2147287810, -2147382251, -2147361769, -2147382272, -2147361792, -2145974612, -2145974598, -2147287834,
                            -2147133749, -2146384027, -2147295822, -2146384003, -1147451901, -2147383246, -2145966545, -2147447137,
                            -1147160553, 349912, -2147429201, -2147459031, -2146384011, -1147464177, -2145966535, -2147440422, -1148326739,
                            1229835, -2147362760, -2147337003, -2147333118, -2147407821, -2147447161, -2147316383, -2146251641, -1147451883,
                            999156922, -2146286438, -2146286463, -1147464169, -1147168724, -2147136328, -2147382221, -2147447149, -2147287854,
                            -2130659912, -2146253693, -1148678631, -2147387335, -2147361775, -1147602934, -2147365863, -1147419775,
                            -1962919974, -2147466972, -2145966529, -1164279890, -2147385825, -2147361774, 1147714426, -2147287820,
                            -2147336998, -2147461169, -2147475352, -1148572354, -2146384281, -2147361731, -2147304193, -2147389930,
                            -2147386292, -1962928178, -2147344686, -2147447111, -2147447122, 998804992, -134823971, -2147447873, -2147346747,
                            -2146286583, -2147389951, -2130164388, 184555483, -2147394188, 1610618841, -1332029332, 2147440438, 351513,
                            -2146400384, -2146187766, -1147160399, 1197075, 998911268, -2147295849, -2130164162, -2147385849, -2130164546,
                            -1147765274, -1073719331, -2146417027, -2147365760, 999148597, -1878111124, -677558160, -133757475, -2147128275,
                            -2147453701, -2130172573, -1147419751, -2146526795, -2146236703, -2147410941, -2147415037, -2145974657,
                            -2147306321, -2147378146, -2146237020, -2145966414, -2147453768, -2147291820, -2147470173, -638494755,
                            -1342154787, -2147467172, -2145974489, -1147643759, -2147447892, 83625, -2146232503, -2147295857, -2146253671,
                            -2147316382, -2147429223, -2147390461, -2147291718, -2146526934, -2147447126, -2146384120, 21667, -2145974729,
                            -2147293058, -2146251619, 1099536, -2147142429, -2146379955, -2147365827, -2146400556, -2147295768, -2146251681,
                            -1878102921, -2145974343, 2147475085, -2147394251, -2146232723, -2147400057, -2147414956, -2147439020,
                            -2146319268, -2147406798, -1148680509, -2146277218, 2146590728, -2146400620, -2147414733, -2146376065,
                            -2147387364, -2147386326, -1962893370, -2130164382, -2145933648, -2147447928, -2147448592, -2145974380,
                            -2147133747, -2145941977, -2147407643, -2147447157, -2147300019, 2147479181, -1164800478, -2146232338,
                            -2145974637, -2147453767, -2146401928, -2147365730, -2146384034, -2147475351, -2146232480, -2146236588,
                            -2147447896, -2147295823, -999987216, -2145966441, -2147134974, -1147419753, -2147394484, -16746546, -2146232724,
                            -1148335070, -2146232590, -2146398568, -1164800191, -2147466956, -1147643872, -1148713259, -1147427826,
                            -2147365759, -2147337012, -2145970658, -2147125544, -2147414987, -2147373914, -2147373984, -1147488144,
                            -671082546, -2147361652, -2147374080, -2147287835, -2145974596, 1508998, -2147378041, -2147374032, -2147410938,
                            -2145958228, -2147337022, -2147382130, -2147287811,
                        ];
                        webglParams = !data.parameters
                            ? undefined
                            : __spreadArray([], new Set(Object.values(data.parameters)
                                .filter(function (val) { return val && typeof val != "string"; })
                                .flat()
                                .map(function (val) { return Number(val); })), true).sort(function (a, b) { return a - b; });
                        gpuBrand = getGpuBrand((_a = data.parameters) === null || _a === void 0 ? void 0 : _a.UNMASKED_RENDERER_WEBGL);
                        webglParamsStr = "" + webglParams;
                        webglBrandCapabilities = !gpuBrand || !webglParamsStr ? undefined : hashMini([gpuBrand, webglParamsStr]);
                        webglCapabilities = !webglParams ? undefined : webglParams.reduce(function (acc, val, i) { return acc ^ (+val + i); }, 0);
                        Analysis.webglParams = webglParamsStr;
                        Analysis.webglBrandCapabilities = webglBrandCapabilities;
                        Analysis.webglCapabilities = webglCapabilities;
                        hasSusGpu = webglBrandCapabilities && !brandCapabilities.includes(webglBrandCapabilities);
                        hasSusCapabilities = webglCapabilities && !capabilities.includes(webglCapabilities);
                        if (hasSusGpu) {
                            LowerEntropy.WEBGL = true;
                            sendToTrash("WebGLRenderingContext.getParameter", "suspicious gpu");
                        }
                        if (hasSusCapabilities) {
                            LowerEntropy.WEBGL = true;
                            sendToTrash("WebGLRenderingContext.getParameter", "suspicious capabilities");
                        }
                        logTestResult({ time: timer_8.stop(), test: "webgl", passed: true });
                        return [2, __assign(__assign({}, data), { gpu: __assign(__assign({}, (getWebGLRendererConfidence((data.parameters || {}).UNMASKED_RENDERER_WEBGL) || {})), { compressedGPU: compressWebGLRenderer((data.parameters || {}).UNMASKED_RENDERER_WEBGL) }) })];
                    case 5:
                        error_8 = _d.sent();
                        logTestResult({ test: "webgl", passed: false });
                        captureError(error_8);
                        return [2];
                    case 6: return [2];
                }
            });
        });
    }
    function getFingerprintProps() {
        return __awaiter(this, void 0, void 0, function () {
            var isBrave, _a, braveMode, braveFingerprintingBlocking, createFingerprint, fingerprint;
            var _this = this;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4, queueTask()];
                    case 1:
                        _b.sent();
                        getStackBytes();
                        return [4, Promise.all([exile(), measure(), getTTFB()])];
                    case 2:
                        _b.sent();
                        if (!IS_BLINK) return [3, 4];
                        return [4, braveBrowser()];
                    case 3:
                        _a = _b.sent();
                        return [3, 5];
                    case 4:
                        _a = false;
                        _b.label = 5;
                    case 5:
                        isBrave = _a;
                        braveMode = isBrave ? getBraveMode() : {};
                        braveFingerprintingBlocking = isBrave && (braveMode.standard || braveMode.strict);
                        createFingerprint = function () { return __awaiter(_this, void 0, void 0, function () {
                            var timeStart, fingerprintTimeStart, _a, offlineAudioContextComputed, canvasWebglComputed, canvas2dComputed, timezoneComputed, clientRectsComputed, svgComputed, resistanceComputed, intlComputed, _b, liesComputed, trashComputed, capturedErrorsComputed, fingerprintTimeEnd, gpuParameter, reducedGPUParameters, hashStartTime, _c, canvas2dHash, canvas2dImageHash, canvas2dPaintHash, canvas2dTextHash, canvas2dEmojiHash, canvasWebglHash, canvasWebglImageHash, canvasWebglParametersHash, pixelsHash, pixels2Hash, timezoneHash, rectsHash, domRectHash, audioHash, liesHash, trashHash, errorsHash, svgHash, resistanceHash, intlHash, hashTimeEnd, timeEnd, fingerprint, hashes, propData, props, fuzzyHash, hashOfHashes, toReturn;
                            var _d;
                            return __generator(this, function (_e) {
                                switch (_e.label) {
                                    case 0:
                                        timeStart = timer();
                                        fingerprintTimeStart = timer();
                                        return [4, Promise.all([
                                                getOfflineAudioContext(),
                                                getCanvasWebgl(),
                                                getCanvas2d(),
                                                getTimezone(),
                                                getClientRects(),
                                                getSVG(),
                                                getResistance(),
                                                getIntl(),
                                            ]).catch(function (error) { return Logger.error(error.message); })];
                                    case 1:
                                        _a = _e.sent(), offlineAudioContextComputed = _a[0], canvasWebglComputed = _a[1], canvas2dComputed = _a[2], timezoneComputed = _a[3], clientRectsComputed = _a[4], svgComputed = _a[5], resistanceComputed = _a[6], intlComputed = _a[7];
                                        return [4, Promise.all([
                                                getLies(),
                                                getTrash(),
                                                getCapturedErrors(),
                                            ]).catch(function (error) { return Logger.error(error.message); })];
                                    case 2:
                                        _b = _e.sent(), liesComputed = _b[0], trashComputed = _b[1], capturedErrorsComputed = _b[2];
                                        fingerprintTimeEnd = fingerprintTimeStart(undefined);
                                        Logger.log("Fingerprinting complete in ".concat(fingerprintTimeEnd.toFixed(2), "ms"));
                                        gpuParameter = (canvasWebglComputed || {}).parameters;
                                        reducedGPUParameters = __assign(__assign({}, (braveFingerprintingBlocking ? getBraveUnprotectedParameters(gpuParameter) : gpuParameter)), { RENDERER: undefined, SHADING_LANGUAGE_VERSION: undefined, UNMASKED_RENDERER_WEBGL: undefined, UNMASKED_VENDOR_WEBGL: undefined, VERSION: undefined, VENDOR: undefined });
                                        hashStartTime = timer();
                                        return [4, Promise.all([
                                                hashify(canvas2dComputed),
                                                hashify((canvas2dComputed || {}).dataURI),
                                                hashify((canvas2dComputed || {}).paintURI),
                                                hashify((canvas2dComputed || {}).textURI),
                                                hashify((canvas2dComputed || {}).emojiURI),
                                                hashify(canvasWebglComputed),
                                                hashify((canvasWebglComputed || {}).dataURI),
                                                hashify(reducedGPUParameters),
                                                ((canvasWebglComputed || {}).pixels || []).length ? hashify(canvasWebglComputed.pixels) : undefined,
                                                ((canvasWebglComputed || {}).pixels2 || []).length ? hashify(canvasWebglComputed.pixels2) : undefined,
                                                hashify(timezoneComputed),
                                                hashify(clientRectsComputed),
                                                hashify([
                                                    (clientRectsComputed || {}).elementBoundingClientRect,
                                                    (clientRectsComputed || {}).elementClientRects,
                                                    (clientRectsComputed || {}).rangeBoundingClientRect,
                                                    (clientRectsComputed || {}).rangeClientRects,
                                                ]),
                                                hashify(offlineAudioContextComputed),
                                                hashify(liesComputed),
                                                hashify(trashComputed),
                                                hashify(capturedErrorsComputed),
                                                hashify(svgComputed),
                                                hashify(resistanceComputed),
                                                hashify(intlComputed),
                                            ]).catch(function (error) { return Logger.error(error.message); })];
                                    case 3:
                                        _c = _e.sent(), canvas2dHash = _c[0], canvas2dImageHash = _c[1], canvas2dPaintHash = _c[2], canvas2dTextHash = _c[3], canvas2dEmojiHash = _c[4], canvasWebglHash = _c[5], canvasWebglImageHash = _c[6], canvasWebglParametersHash = _c[7], pixelsHash = _c[8], pixels2Hash = _c[9], timezoneHash = _c[10], rectsHash = _c[11], domRectHash = _c[12], audioHash = _c[13], liesHash = _c[14], trashHash = _c[15], errorsHash = _c[16], svgHash = _c[17], resistanceHash = _c[18], intlHash = _c[19];
                                        hashTimeEnd = hashStartTime(undefined);
                                        timeEnd = timeStart(undefined);
                                        Logger.log("Hashing complete in ".concat(hashTimeEnd.toFixed(2), "ms"));
                                        if ((_d = PARENT_PHANTOM === null || PARENT_PHANTOM === void 0 ? void 0 : PARENT_PHANTOM.parentNode) === null || _d === void 0 ? void 0 : _d.removeChild) {
                                            PARENT_PHANTOM.parentNode.removeChild(PARENT_PHANTOM);
                                        }
                                        fingerprint = {
                                            canvas2d: !canvas2dComputed ? undefined : __assign(__assign({}, canvas2dComputed), { $hash: canvas2dHash }),
                                            canvasWebgl: !canvasWebglComputed
                                                ? undefined
                                                : __assign(__assign({}, canvasWebglComputed), { pixels: pixelsHash, pixels2: pixels2Hash, $hash: canvasWebglHash }),
                                            timezone: !timezoneComputed ? undefined : __assign(__assign({}, timezoneComputed), { $hash: timezoneHash }),
                                            clientRects: !clientRectsComputed ? undefined : __assign(__assign({}, clientRectsComputed), { $hash: rectsHash }),
                                            offlineAudioContext: !offlineAudioContextComputed
                                                ? undefined
                                                : __assign(__assign({}, offlineAudioContextComputed), { $hash: audioHash }),
                                            lies: !liesComputed ? undefined : __assign(__assign({}, liesComputed), { $hash: liesHash }),
                                            trash: !trashComputed ? undefined : __assign(__assign({}, trashComputed), { $hash: trashHash }),
                                            capturedErrors: !capturedErrorsComputed ? undefined : __assign(__assign({}, capturedErrorsComputed), { $hash: errorsHash }),
                                            svg: !svgComputed ? undefined : __assign(__assign({}, svgComputed), { $hash: svgHash }),
                                            resistance: !resistanceComputed ? undefined : __assign(__assign({}, resistanceComputed), { $hash: resistanceHash }),
                                            intl: !intlComputed ? undefined : __assign(__assign({}, intlComputed), { $hash: intlHash }),
                                        };
                                        hashes = {
                                            canvas2d: canvas2dHash,
                                            canvas2Webgl: canvasWebglHash,
                                            timezone: timezoneHash,
                                            clientRects: rectsHash,
                                            offlineAudioContext: audioHash,
                                            lies: liesHash,
                                            trash: trashHash,
                                            capturedErrors: errorsHash,
                                            svg: svgHash,
                                            resistance: resistanceHash,
                                            intl: intlHash,
                                        };
                                        propData = __assign(__assign({}, fingerprint), { canvas2d: !canvas2dComputed
                                                ? undefined
                                                : __assign(__assign({}, canvas2dComputed), { dataURI: "hidden", paintURI: "hidden", paintCpuURI: "hidden", textURI: "hidden", emojiURI: "hidden", $hash: canvas2dHash }), canvasWebgl: !canvasWebglComputed
                                                ? undefined
                                                : __assign(__assign({}, canvasWebglComputed), { dataURI: "hidden", pixels: "hidden", pixels2: "hidden", dataURI2: "hidden", $hash: canvasWebglHash }) });
                                        props = {
                                            hashes: hashes,
                                            data: propData,
                                            timeEnd: timeEnd,
                                        };
                                        return [4, getFuzzyHash(fingerprint)];
                                    case 4:
                                        fuzzyHash = _e.sent();
                                        return [4, hashify(hashes)];
                                    case 5:
                                        hashOfHashes = _e.sent();
                                        toReturn = __assign({ dodgeballFingerprintServiceV2Hash: fuzzyHash, hashOfHashes: hashOfHashes }, props);
                                        return [2, toReturn];
                                }
                            });
                        }); };
                        return [4, createFingerprint()];
                    case 6:
                        fingerprint = _b.sent();
                        return [2, fingerprint];
                }
            });
        });
    }
    exports.getFingerprintProps = getFingerprintProps;
    var templateObject_1, templateObject_2;
});
define("integrations/DODGEBALL_FINGERPRINT_SERVICE_V2", ["require", "exports", "common/types", "common/Integration", "internal/dodgeball-fingerprint-service-v2"], function (require, exports, types_1, Integration_1, dodgeball_fingerprint_service_v2_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.DodgeballFingerprintServiceV2Integration = void 0;
    Integration_1 = __importDefault(Integration_1);
    var INTEGRATION_NAME = "DODGEBALL_FINGERPRINT_SERVICE_V2";
    var DodgeballFingerprintServiceV2Integration = (function (_super) {
        __extends(DodgeballFingerprintServiceV2Integration, _super);
        function DodgeballFingerprintServiceV2Integration(_a) {
            var url = _a.url, config = _a.config, requestId = _a.requestId, parentContext = _a.parentContext;
            return _super.call(this, {
                url: url,
                config: config,
                name: INTEGRATION_NAME,
                purposes: [types_1.IntegrationPurpose.IDENTIFY],
                requestId: requestId,
                parentContext: parentContext,
            }) || this;
        }
        DodgeballFingerprintServiceV2Integration.prototype.hasLoaded = function () {
            return window === null || window === void 0 ? void 0 : window.hasOwnProperty(INTEGRATION_NAME);
        };
        DodgeballFingerprintServiceV2Integration.prototype.configure = function () {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    return [2];
                });
            });
        };
        DodgeballFingerprintServiceV2Integration.prototype.reconfigure = function (_a) {
            var url = _a.url, config = _a.config, requestId = _a.requestId;
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            this._resetConfig({ url: url, config: config, requestId: requestId });
                            return [4, this.configure()];
                        case 1:
                            _b.sent();
                            return [2];
                    }
                });
            });
        };
        DodgeballFingerprintServiceV2Integration.prototype.getBrowserFingerprint = function () {
            return __awaiter(this, void 0, void 0, function () {
                var fp, toReturn_1, toReturn, error_9, toReturn;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            if (!window) return [3, 4];
                            _a.label = 1;
                        case 1:
                            _a.trys.push([1, 3, , 4]);
                            return [4, (0, dodgeball_fingerprint_service_v2_1.getFingerprintProps)()];
                        case 2:
                            fp = _a.sent();
                            if (fp) {
                                toReturn_1 = __assign({ isBlocked: false }, fp);
                                return [2, toReturn_1];
                            }
                            toReturn = {
                                isBlocked: true,
                            };
                            return [2, toReturn];
                        case 3:
                            error_9 = _a.sent();
                            toReturn = {
                                isBlocked: true,
                            };
                            return [2, toReturn];
                        case 4: return [2, {}];
                    }
                });
            });
        };
        DodgeballFingerprintServiceV2Integration.prototype.identify = function () {
            return __awaiter(this, void 0, void 0, function () {
                var fp, fingerprintServiceV2Props, hash, isBlocked, data, error_10;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            fp = {
                                source: INTEGRATION_NAME,
                                props: {},
                                hash: "",
                            };
                            _a.label = 1;
                        case 1:
                            _a.trys.push([1, 3, , 4]);
                            return [4, this.getBrowserFingerprint()];
                        case 2:
                            fingerprintServiceV2Props = _a.sent();
                            hash = fingerprintServiceV2Props.dodgeballFingerprintServiceV2Hash;
                            isBlocked = fingerprintServiceV2Props.isBlocked, data = fingerprintServiceV2Props.data;
                            fp.hash = hash;
                            fp.props = { isBlocked: isBlocked, data: data };
                            return [3, 4];
                        case 3:
                            error_10 = _a.sent();
                            fp.error = error_10.toString();
                            return [3, 4];
                        case 4: return [2, fp];
                    }
                });
            });
        };
        DodgeballFingerprintServiceV2Integration.prototype.getMetadata = function () {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    return [2, { name: INTEGRATION_NAME, metadata: {} }];
                });
            });
        };
        return DodgeballFingerprintServiceV2Integration;
    }(Integration_1.default));
    exports.DodgeballFingerprintServiceV2Integration = DodgeballFingerprintServiceV2Integration;
    if (window) {
        if (!window.hasOwnProperty("_dodgeball_integrations")) {
            window._dodgeball_integrations = {};
        }
        if (!window._dodgeball_integrations.hasOwnProperty(INTEGRATION_NAME)) {
            window._dodgeball_integrations[INTEGRATION_NAME] = DodgeballFingerprintServiceV2Integration;
        }
    }
});
}(dodgeballRequire));</script><script>(function ({require, define, requirejs}) {var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
define("common/logger", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Logger = exports.LogEntry = exports.Severity = exports.LogLevel = void 0;
    var LogLevel;
    (function (LogLevel) {
        LogLevel["TRACE"] = "TRACE";
        LogLevel["INFO"] = "INFO";
        LogLevel["ERROR"] = "ERROR";
        LogLevel["NONE"] = "NONE";
    })(LogLevel = exports.LogLevel || (exports.LogLevel = {}));
    var Severity;
    (function (Severity) {
        Severity[Severity["TRACE"] = 0] = "TRACE";
        Severity[Severity["INFO"] = 1] = "INFO";
        Severity[Severity["ERROR"] = 2] = "ERROR";
        Severity[Severity["NONE"] = 3] = "NONE";
    })(Severity = exports.Severity || (exports.Severity = {}));
    var LogEntry = (function () {
        function LogEntry(message, severity, error) {
            if (severity === void 0) { severity = Severity.INFO; }
            if (error === void 0) { error = null; }
            this.severity = Severity.INFO;
            this.message = "";
            this.date = new Date();
            this.message = message;
            this.severity = severity;
            this.error = error;
        }
        LogEntry.prototype.setParameters = function (parameters) {
            this.parameters = parameters;
            return this;
        };
        LogEntry.prototype.setParameter = function (key, value) {
            var _a;
            this.parameters = (_a = this.parameters) !== null && _a !== void 0 ? _a : {};
            this.parameters[key] = value;
            return this;
        };
        LogEntry.prototype.setSeverity = function (severity) {
            this.severity = severity;
            return this;
        };
        LogEntry.prototype.setError = function (error) {
            this.error = error;
            return this;
        };
        LogEntry.prototype.log = function () {
            return Logger.log(this);
        };
        return LogEntry;
    }());
    exports.LogEntry = LogEntry;
    var Logger = (function () {
        function Logger() {
        }
        Logger.info = function (message, parameters) {
            return new LogEntry(message, Severity.INFO).setParameters(parameters);
        };
        Logger.trace = function (message, parameters) {
            return new LogEntry(message, Severity.TRACE).setParameters(parameters);
        };
        Logger.error = function (message, error) {
            return new LogEntry(message, Severity.ERROR).setError(error);
        };
        Logger.formatError = function (error) {
            if (!error) {
                return "";
            }
            if (error instanceof Error) {
                var transformed = error;
                return "\n            message: ".concat(transformed.message, "\n            stack: ").concat(transformed.stack, "\n            name: ").concat(transformed.name);
            }
            try {
                return JSON.stringify(error.toString(), null, 2);
            }
            catch (e) {
                return error.toString();
            }
        };
        Logger.log = function (logEvent) {
            if (logEvent.severity.valueOf() >= Logger.filterLevel.valueOf()) {
                var logResults = "Dodgeball SDK:\n        Severity: ".concat(Severity[logEvent.severity], "\n        Date: ").concat(logEvent.date, "\n        Message: ").concat(logEvent.message);
                if (logEvent.parameters) {
                    var parametersString_1 = "\n        Parameters:\n\r";
                    Object.keys(logEvent.parameters).forEach(function (key) {
                        if (typeof logEvent.parameters[key] === "object" ||
                            Array.isArray(logEvent.parameters[key])) {
                            parametersString_1 += "".concat(key, ": ").concat(JSON.stringify(logEvent.parameters[key], null, 2), "\n            ");
                        }
                        else {
                            parametersString_1 = "".concat(parametersString_1, "\n                      ").concat(key, ": ").concat(logEvent.parameters[key]);
                        }
                    });
                    logResults = "".concat(logResults, " ").concat(parametersString_1);
                }
                if (logEvent.severity === Severity.ERROR) {
                    console.log(logResults, logEvent.error);
                }
                else {
                    console.log(logResults);
                }
            }
        };
        Logger.filterLevel = Severity.INFO;
        return Logger;
    }());
    exports.Logger = Logger;
});
define("common/types", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.DodgeballApiVersion = exports.ConfigurableFontWeight = exports.IntegrationPurpose = exports.systemError = exports.VerificationErrorType = exports.VerificationOutcome = exports.VerificationStatus = void 0;
    var VerificationStatus;
    (function (VerificationStatus) {
        VerificationStatus["PENDING"] = "PENDING";
        VerificationStatus["BLOCKED"] = "BLOCKED";
        VerificationStatus["COMPLETE"] = "COMPLETE";
        VerificationStatus["FAILED"] = "FAILED";
    })(VerificationStatus = exports.VerificationStatus || (exports.VerificationStatus = {}));
    var VerificationOutcome;
    (function (VerificationOutcome) {
        VerificationOutcome["APPROVED"] = "APPROVED";
        VerificationOutcome["DENIED"] = "DENIED";
        VerificationOutcome["PENDING"] = "PENDING";
        VerificationOutcome["ERROR"] = "ERROR";
    })(VerificationOutcome = exports.VerificationOutcome || (exports.VerificationOutcome = {}));
    var VerificationErrorType;
    (function (VerificationErrorType) {
        VerificationErrorType["SYSTEM"] = "SYSTEM";
        VerificationErrorType["TIMEOUT"] = "TIMEOUT";
        VerificationErrorType["CANCELLED"] = "CANCELLED";
    })(VerificationErrorType = exports.VerificationErrorType || (exports.VerificationErrorType = {}));
    var systemError = function (errorText) { return ({
        errorType: VerificationErrorType.SYSTEM,
        details: errorText,
    }); };
    exports.systemError = systemError;
    var IntegrationPurpose;
    (function (IntegrationPurpose) {
        IntegrationPurpose["IDENTIFY"] = "IDENTIFY";
        IntegrationPurpose["OBSERVE"] = "OBSERVE";
        IntegrationPurpose["QUALIFY"] = "QUALIFY";
        IntegrationPurpose["EXECUTE"] = "EXECUTE";
    })(IntegrationPurpose = exports.IntegrationPurpose || (exports.IntegrationPurpose = {}));
    var ConfigurableFontWeight;
    (function (ConfigurableFontWeight) {
        ConfigurableFontWeight["LIGHT"] = "300";
        ConfigurableFontWeight["REGULAR"] = "400";
        ConfigurableFontWeight["MEDIUM"] = "500";
        ConfigurableFontWeight["SEMI_BOLD"] = "600";
        ConfigurableFontWeight["BOLD"] = "700";
    })(ConfigurableFontWeight = exports.ConfigurableFontWeight || (exports.ConfigurableFontWeight = {}));
    var DodgeballApiVersion;
    (function (DodgeballApiVersion) {
        DodgeballApiVersion["v1"] = "v1";
    })(DodgeballApiVersion = exports.DodgeballApiVersion || (exports.DodgeballApiVersion = {}));
});
define("vendor/ClientJS", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var UAParser = (function (window, undefined) {
        var LIBVERSION = "0.7.31", EMPTY = "", UNKNOWN = "?", FUNC_TYPE = "function", UNDEF_TYPE = "undefined", OBJ_TYPE = "object", STR_TYPE = "string", MAJOR = "major", MODEL = "model", NAME = "name", TYPE = "type", VENDOR = "vendor", VERSION = "version", ARCHITECTURE = "architecture", CONSOLE = "console", MOBILE = "mobile", TABLET = "tablet", SMARTTV = "smarttv", WEARABLE = "wearable", EMBEDDED = "embedded", UA_MAX_LENGTH = 350;
        var AMAZON = "Amazon", APPLE = "Apple", ASUS = "ASUS", BLACKBERRY = "BlackBerry", BROWSER = "Browser", CHROME = "Chrome", EDGE = "Edge", FIREFOX = "Firefox", GOOGLE = "Google", HUAWEI = "Huawei", LG = "LG", MICROSOFT = "Microsoft", MOTOROLA = "Motorola", OPERA = "Opera", SAMSUNG = "Samsung", SONY = "Sony", XIAOMI = "Xiaomi", ZEBRA = "Zebra", FACEBOOK = "Facebook";
        var extend = function (regexes, extensions) {
            var mergedRegexes = {};
            for (var i in regexes) {
                if (extensions[i] && extensions[i].length % 2 === 0) {
                    mergedRegexes[i] = extensions[i].concat(regexes[i]);
                }
                else {
                    mergedRegexes[i] = regexes[i];
                }
            }
            return mergedRegexes;
        }, enumerize = function (arr) {
            var enums = {};
            for (var i = 0; i < arr.length; i++) {
                enums[arr[i].toUpperCase()] = arr[i];
            }
            return enums;
        }, has = function (str1, str2) {
            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;
        }, lowerize = function (str) {
            return str.toLowerCase();
        }, majorize = function (version) {
            return typeof version === STR_TYPE ? version.replace(/[^\d\.]/g, EMPTY).split(".")[0] : undefined;
        }, trim = function (str, len) {
            if (typeof str === STR_TYPE) {
                str = str.replace(/^\s\s*/, EMPTY).replace(/\s\s*$/, EMPTY);
                return typeof len === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);
            }
        };
        var rgxMapper = function (ua, arrays) {
            var i = 0, j, k, p, q, matches, match;
            while (i < arrays.length && !matches) {
                var regex = arrays[i], props = arrays[i + 1];
                j = k = 0;
                while (j < regex.length && !matches) {
                    matches = regex[j++].exec(ua);
                    if (!!matches) {
                        for (p = 0; p < props.length; p++) {
                            match = matches[++k];
                            q = props[p];
                            if (typeof q === OBJ_TYPE && q.length > 0) {
                                if (q.length === 2) {
                                    if (typeof q[1] == FUNC_TYPE) {
                                        this[q[0]] = q[1].call(this, match);
                                    }
                                    else {
                                        this[q[0]] = q[1];
                                    }
                                }
                                else if (q.length === 3) {
                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {
                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;
                                    }
                                    else {
                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;
                                    }
                                }
                                else if (q.length === 4) {
                                    this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;
                                }
                            }
                            else {
                                this[q] = match ? match : undefined;
                            }
                        }
                    }
                }
                i += 2;
            }
        }, strMapper = function (str, map) {
            for (var i in map) {
                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {
                    for (var j = 0; j < map[i].length; j++) {
                        if (has(map[i][j], str)) {
                            return i === UNKNOWN ? undefined : i;
                        }
                    }
                }
                else if (has(map[i], str)) {
                    return i === UNKNOWN ? undefined : i;
                }
            }
            return str;
        };
        var oldSafariMap = {
            "1.0": "/8",
            "1.2": "/1",
            "1.3": "/3",
            "2.0": "/412",
            "2.0.2": "/416",
            "2.0.3": "/417",
            "2.0.4": "/419",
            "?": "/",
        }, windowsVersionMap = {
            ME: "4.90",
            "NT 3.11": "NT3.51",
            "NT 4.0": "NT4.0",
            "2000": "NT 5.0",
            XP: ["NT 5.1", "NT 5.2"],
            Vista: "NT 6.0",
            "7": "NT 6.1",
            "8": "NT 6.2",
            "8.1": "NT 6.3",
            "10": ["NT 6.4", "NT 10.0"],
            RT: "ARM",
        };
        var regexes = {
            browser: [
                [
                    /\b(?:crmo|crios)\/([\w\.]+)/i,
                ],
                [VERSION, [NAME, "Chrome"]],
                [
                    /edg(?:e|ios|a)?\/([\w\.]+)/i,
                ],
                [VERSION, [NAME, "Edge"]],
                [
                    /(opera mini)\/([-\w\.]+)/i,
                    /(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,
                    /(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i,
                ],
                [NAME, VERSION],
                [
                    /opios[\/ ]+([\w\.]+)/i,
                ],
                [VERSION, [NAME, OPERA + " Mini"]],
                [
                    /\bopr\/([\w\.]+)/i,
                ],
                [VERSION, [NAME, OPERA]],
                [
                    /(kindle)\/([\w\.]+)/i,
                    /(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,
                    /(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,
                    /(ba?idubrowser)[\/ ]?([\w\.]+)/i,
                    /(?:ms|\()(ie) ([\w\.]+)/i,
                    /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,
                    /(weibo)__([\d\.]+)/i,
                ],
                [NAME, VERSION],
                [
                    /(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i,
                ],
                [VERSION, [NAME, "UC" + BROWSER]],
                [
                    /microm.+\bqbcore\/([\w\.]+)/i,
                    /\bqbcore\/([\w\.]+).+microm/i,
                ],
                [VERSION, [NAME, "WeChat(Win) Desktop"]],
                [
                    /micromessenger\/([\w\.]+)/i,
                ],
                [VERSION, [NAME, "WeChat"]],
                [
                    /konqueror\/([\w\.]+)/i,
                ],
                [VERSION, [NAME, "Konqueror"]],
                [
                    /trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i,
                ],
                [VERSION, [NAME, "IE"]],
                [
                    /yabrowser\/([\w\.]+)/i,
                ],
                [VERSION, [NAME, "Yandex"]],
                [
                    /(avast|avg)\/([\w\.]+)/i,
                ],
                [[NAME, /(.+)/, "$1 Secure " + BROWSER], VERSION],
                [
                    /\bfocus\/([\w\.]+)/i,
                ],
                [VERSION, [NAME, FIREFOX + " Focus"]],
                [
                    /\bopt\/([\w\.]+)/i,
                ],
                [VERSION, [NAME, OPERA + " Touch"]],
                [
                    /coc_coc\w+\/([\w\.]+)/i,
                ],
                [VERSION, [NAME, "Coc Coc"]],
                [
                    /dolfin\/([\w\.]+)/i,
                ],
                [VERSION, [NAME, "Dolphin"]],
                [
                    /coast\/([\w\.]+)/i,
                ],
                [VERSION, [NAME, OPERA + " Coast"]],
                [
                    /miuibrowser\/([\w\.]+)/i,
                ],
                [VERSION, [NAME, "MIUI " + BROWSER]],
                [
                    /fxios\/([-\w\.]+)/i,
                ],
                [VERSION, [NAME, FIREFOX]],
                [
                    /\bqihu|(qi?ho?o?|360)browser/i,
                ],
                [[NAME, "360 " + BROWSER]],
                [/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],
                [[NAME, /(.+)/, "$1 " + BROWSER], VERSION],
                [
                    /(comodo_dragon)\/([\w\.]+)/i,
                ],
                [[NAME, /_/g, " "], VERSION],
                [
                    /(electron)\/([\w\.]+) safari/i,
                    /(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,
                    /m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i,
                ],
                [NAME, VERSION],
                [
                    /(metasr)[\/ ]?([\w\.]+)/i,
                    /(lbbrowser)/i,
                    /\[(linkedin)app\]/i,
                ],
                [NAME],
                [
                    /((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i,
                ],
                [[NAME, FACEBOOK], VERSION],
                [
                    /safari (line)\/([\w\.]+)/i,
                    /\b(line)\/([\w\.]+)\/iab/i,
                    /(chromium|instagram)[\/ ]([-\w\.]+)/i,
                ],
                [NAME, VERSION],
                [
                    /\bgsa\/([\w\.]+) .*safari\//i,
                ],
                [VERSION, [NAME, "GSA"]],
                [
                    /headlesschrome(?:\/([\w\.]+)| )/i,
                ],
                [VERSION, [NAME, CHROME + " Headless"]],
                [
                    / wv\).+(chrome)\/([\w\.]+)/i,
                ],
                [[NAME, CHROME + " WebView"], VERSION],
                [
                    /droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i,
                ],
                [VERSION, [NAME, "Android " + BROWSER]],
                [
                    /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i,
                ],
                [NAME, VERSION],
                [
                    /version\/([\w\.]+) .*mobile\/\w+ (safari)/i,
                ],
                [VERSION, [NAME, "Mobile Safari"]],
                [
                    /version\/([\w\.]+) .*(mobile ?safari|safari)/i,
                ],
                [VERSION, NAME],
                [
                    /webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i,
                ],
                [NAME, [VERSION, strMapper, oldSafariMap]],
                [/(webkit|khtml)\/([\w\.]+)/i],
                [NAME, VERSION],
                [
                    /(navigator|netscape\d?)\/([-\w\.]+)/i,
                ],
                [[NAME, "Netscape"], VERSION],
                [
                    /mobile vr; rv:([\w\.]+)\).+firefox/i,
                ],
                [VERSION, [NAME, FIREFOX + " Reality"]],
                [
                    /ekiohf.+(flow)\/([\w\.]+)/i,
                    /(swiftfox)/i,
                    /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,
                    /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,
                    /(firefox)\/([\w\.]+)/i,
                    /(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,
                    /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,
                    /(links) \(([\w\.]+)/i,
                ],
                [NAME, VERSION],
            ],
            cpu: [
                [
                    /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i,
                ],
                [[ARCHITECTURE, "amd64"]],
                [
                    /(ia32(?=;))/i,
                ],
                [[ARCHITECTURE, lowerize]],
                [
                    /((?:i[346]|x)86)[;\)]/i,
                ],
                [[ARCHITECTURE, "ia32"]],
                [
                    /\b(aarch64|arm(v?8e?l?|_?64))\b/i,
                ],
                [[ARCHITECTURE, "arm64"]],
                [
                    /\b(arm(?:v[67])?ht?n?[fl]p?)\b/i,
                ],
                [[ARCHITECTURE, "armhf"]],
                [
                    /windows (ce|mobile); ppc;/i,
                ],
                [[ARCHITECTURE, "arm"]],
                [
                    /((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i,
                ],
                [[ARCHITECTURE, /ower/, EMPTY, lowerize]],
                [
                    /(sun4\w)[;\)]/i,
                ],
                [[ARCHITECTURE, "sparc"]],
                [
                    /((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i,
                ],
                [[ARCHITECTURE, lowerize]],
            ],
            device: [
                [
                    /\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i,
                ],
                [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]],
                [/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i, /samsung[- ]([-\w]+)/i, /sec-(sgh\w+)/i],
                [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]],
                [
                    /\((ip(?:hone|od)[\w ]*);/i,
                ],
                [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]],
                [
                    /\((ipad);[-\w\),; ]+apple/i,
                    /applecoremedia\/[\w\.]+ \((ipad)/i,
                    /\b(ipad)\d\d?,\d\d?[;\]].+ios/i,
                ],
                [MODEL, [VENDOR, APPLE], [TYPE, TABLET]],
                [
                    /\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i,
                ],
                [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]],
                [/(?:huawei|honor)([-\w ]+)[;\)]/i, /\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],
                [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]],
                [
                    /\b(poco[\w ]+)(?: bui|\))/i,
                    /\b; (\w+) build\/hm\1/i,
                    /\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,
                    /\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,
                    /\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i,
                ],
                [
                    [MODEL, /_/g, " "],
                    [VENDOR, XIAOMI],
                    [TYPE, MOBILE],
                ],
                [
                    /\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i,
                ],
                [
                    [MODEL, /_/g, " "],
                    [VENDOR, XIAOMI],
                    [TYPE, TABLET],
                ],
                [
                    /; (\w+) bui.+ oppo/i,
                    /\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i,
                ],
                [MODEL, [VENDOR, "OPPO"], [TYPE, MOBILE]],
                [
                    /vivo (\w+)(?: bui|\))/i,
                    /\b(v[12]\d{3}\w?[at])(?: bui|;)/i,
                ],
                [MODEL, [VENDOR, "Vivo"], [TYPE, MOBILE]],
                [
                    /\b(rmx[12]\d{3})(?: bui|;|\))/i,
                ],
                [MODEL, [VENDOR, "Realme"], [TYPE, MOBILE]],
                [
                    /\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,
                    /\bmot(?:orola)?[- ](\w*)/i,
                    /((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i,
                ],
                [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]],
                [/\b(mz60\d|xoom[2 ]{0,2}) build\//i],
                [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]],
                [
                    /((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i,
                ],
                [MODEL, [VENDOR, LG], [TYPE, TABLET]],
                [
                    /(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,
                    /\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,
                    /\blg-?([\d\w]+) bui/i,
                ],
                [MODEL, [VENDOR, LG], [TYPE, MOBILE]],
                [
                    /(ideatab[-\w ]+)/i,
                    /lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i,
                ],
                [MODEL, [VENDOR, "Lenovo"], [TYPE, TABLET]],
                [
                    /(?:maemo|nokia).*(n900|lumia \d+)/i,
                    /nokia[-_ ]?([-\w\.]*)/i,
                ],
                [
                    [MODEL, /_/g, " "],
                    [VENDOR, "Nokia"],
                    [TYPE, MOBILE],
                ],
                [
                    /(pixel c)\b/i,
                ],
                [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]],
                [
                    /droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i,
                ],
                [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]],
                [
                    /droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i,
                ],
                [MODEL, [VENDOR, SONY], [TYPE, MOBILE]],
                [/sony tablet [ps]/i, /\b(?:sony)?sgp\w+(?: bui|\))/i],
                [
                    [MODEL, "Xperia Tablet"],
                    [VENDOR, SONY],
                    [TYPE, TABLET],
                ],
                [
                    / (kb2005|in20[12]5|be20[12][59])\b/i,
                    /(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i,
                ],
                [MODEL, [VENDOR, "OnePlus"], [TYPE, MOBILE]],
                [
                    /(alexa)webm/i,
                    /(kf[a-z]{2}wi)( bui|\))/i,
                    /(kf[a-z]+)( bui|\)).+silk\//i,
                ],
                [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]],
                [
                    /((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i,
                ],
                [
                    [MODEL, /(.+)/g, "Fire Phone $1"],
                    [VENDOR, AMAZON],
                    [TYPE, MOBILE],
                ],
                [
                    /(playbook);[-\w\),; ]+(rim)/i,
                ],
                [MODEL, VENDOR, [TYPE, TABLET]],
                [
                    /\b((?:bb[a-f]|st[hv])100-\d)/i,
                    /\(bb10; (\w+)/i,
                ],
                [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]],
                [
                    /(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i,
                ],
                [MODEL, [VENDOR, ASUS], [TYPE, TABLET]],
                [/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],
                [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]],
                [
                    /(nexus 9)/i,
                ],
                [MODEL, [VENDOR, "HTC"], [TYPE, TABLET]],
                [
                    /(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,
                    /(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,
                    /(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i,
                ],
                [VENDOR, [MODEL, /_/g, " "], [TYPE, MOBILE]],
                [
                    /droid.+; ([ab][1-7]-?[0178a]\d\d?)/i,
                ],
                [MODEL, [VENDOR, "Acer"], [TYPE, TABLET]],
                [
                    /droid.+; (m[1-5] note) bui/i,
                    /\bmz-([-\w]{2,})/i,
                ],
                [MODEL, [VENDOR, "Meizu"], [TYPE, MOBILE]],
                [
                    /\b(sh-?[altvz]?\d\d[a-ekm]?)/i,
                ],
                [MODEL, [VENDOR, "Sharp"], [TYPE, MOBILE]],
                [
                    /(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,
                    /(hp) ([\w ]+\w)/i,
                    /(asus)-?(\w+)/i,
                    /(microsoft); (lumia[\w ]+)/i,
                    /(lenovo)[-_ ]?([-\w]+)/i,
                    /(jolla)/i,
                    /(oppo) ?([\w ]+) bui/i,
                ],
                [VENDOR, MODEL, [TYPE, MOBILE]],
                [
                    /(archos) (gamepad2?)/i,
                    /(hp).+(touchpad(?!.+tablet)|tablet)/i,
                    /(kindle)\/([\w\.]+)/i,
                    /(nook)[\w ]+build\/(\w+)/i,
                    /(dell) (strea[kpr\d ]*[\dko])/i,
                    /(le[- ]+pan)[- ]+(\w{1,9}) bui/i,
                    /(trinity)[- ]*(t\d{3}) bui/i,
                    /(gigaset)[- ]+(q\w{1,9}) bui/i,
                    /(vodafone) ([\w ]+)(?:\)| bui)/i,
                ],
                [VENDOR, MODEL, [TYPE, TABLET]],
                [
                    /(surface duo)/i,
                ],
                [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]],
                [
                    /droid [\d\.]+; (fp\du?)(?: b|\))/i,
                ],
                [MODEL, [VENDOR, "Fairphone"], [TYPE, MOBILE]],
                [
                    /(u304aa)/i,
                ],
                [MODEL, [VENDOR, "AT&T"], [TYPE, MOBILE]],
                [
                    /\bsie-(\w*)/i,
                ],
                [MODEL, [VENDOR, "Siemens"], [TYPE, MOBILE]],
                [
                    /\b(rct\w+) b/i,
                ],
                [MODEL, [VENDOR, "RCA"], [TYPE, TABLET]],
                [
                    /\b(venue[\d ]{2,7}) b/i,
                ],
                [MODEL, [VENDOR, "Dell"], [TYPE, TABLET]],
                [
                    /\b(q(?:mv|ta)\w+) b/i,
                ],
                [MODEL, [VENDOR, "Verizon"], [TYPE, TABLET]],
                [
                    /\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i,
                ],
                [MODEL, [VENDOR, "Barnes & Noble"], [TYPE, TABLET]],
                [/\b(tm\d{3}\w+) b/i],
                [MODEL, [VENDOR, "NuVision"], [TYPE, TABLET]],
                [
                    /\b(k88) b/i,
                ],
                [MODEL, [VENDOR, "ZTE"], [TYPE, TABLET]],
                [
                    /\b(nx\d{3}j) b/i,
                ],
                [MODEL, [VENDOR, "ZTE"], [TYPE, MOBILE]],
                [
                    /\b(gen\d{3}) b.+49h/i,
                ],
                [MODEL, [VENDOR, "Swiss"], [TYPE, MOBILE]],
                [
                    /\b(zur\d{3}) b/i,
                ],
                [MODEL, [VENDOR, "Swiss"], [TYPE, TABLET]],
                [
                    /\b((zeki)?tb.*\b) b/i,
                ],
                [MODEL, [VENDOR, "Zeki"], [TYPE, TABLET]],
                [
                    /\b([yr]\d{2}) b/i,
                    /\b(dragon[- ]+touch |dt)(\w{5}) b/i,
                ],
                [[VENDOR, "Dragon Touch"], MODEL, [TYPE, TABLET]],
                [
                    /\b(ns-?\w{0,9}) b/i,
                ],
                [MODEL, [VENDOR, "Insignia"], [TYPE, TABLET]],
                [
                    /\b((nxa|next)-?\w{0,9}) b/i,
                ],
                [MODEL, [VENDOR, "NextBook"], [TYPE, TABLET]],
                [
                    /\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i,
                ],
                [[VENDOR, "Voice"], MODEL, [TYPE, MOBILE]],
                [
                    /\b(lvtel\-)?(v1[12]) b/i,
                ],
                [[VENDOR, "LvTel"], MODEL, [TYPE, MOBILE]],
                [
                    /\b(ph-1) /i,
                ],
                [MODEL, [VENDOR, "Essential"], [TYPE, MOBILE]],
                [
                    /\b(v(100md|700na|7011|917g).*\b) b/i,
                ],
                [MODEL, [VENDOR, "Envizen"], [TYPE, TABLET]],
                [
                    /\b(trio[-\w\. ]+) b/i,
                ],
                [MODEL, [VENDOR, "MachSpeed"], [TYPE, TABLET]],
                [
                    /\btu_(1491) b/i,
                ],
                [MODEL, [VENDOR, "Rotor"], [TYPE, TABLET]],
                [
                    /(shield[\w ]+) b/i,
                ],
                [MODEL, [VENDOR, "Nvidia"], [TYPE, TABLET]],
                [
                    /(sprint) (\w+)/i,
                ],
                [VENDOR, MODEL, [TYPE, MOBILE]],
                [
                    /(kin\.[onetw]{3})/i,
                ],
                [
                    [MODEL, /\./g, " "],
                    [VENDOR, MICROSOFT],
                    [TYPE, MOBILE],
                ],
                [
                    /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i,
                ],
                [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]],
                [/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],
                [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]],
                [
                    /(ouya)/i,
                    /(nintendo) ([wids3utch]+)/i,
                ],
                [VENDOR, MODEL, [TYPE, CONSOLE]],
                [
                    /droid.+; (shield) bui/i,
                ],
                [MODEL, [VENDOR, "Nvidia"], [TYPE, CONSOLE]],
                [
                    /(playstation [345portablevi]+)/i,
                ],
                [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]],
                [
                    /\b(xbox(?: one)?(?!; xbox))[\); ]/i,
                ],
                [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]],
                [
                    /smart-tv.+(samsung)/i,
                ],
                [VENDOR, [TYPE, SMARTTV]],
                [/hbbtv.+maple;(\d+)/i],
                [
                    [MODEL, /^/, "SmartTV"],
                    [VENDOR, SAMSUNG],
                    [TYPE, SMARTTV],
                ],
                [
                    /(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i,
                ],
                [
                    [VENDOR, LG],
                    [TYPE, SMARTTV],
                ],
                [
                    /(apple) ?tv/i,
                ],
                [VENDOR, [MODEL, APPLE + " TV"], [TYPE, SMARTTV]],
                [
                    /crkey/i,
                ],
                [
                    [MODEL, CHROME + "cast"],
                    [VENDOR, GOOGLE],
                    [TYPE, SMARTTV],
                ],
                [
                    /droid.+aft(\w)( bui|\))/i,
                ],
                [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]],
                [
                    /\(dtv[\);].+(aquos)/i,
                ],
                [MODEL, [VENDOR, "Sharp"], [TYPE, SMARTTV]],
                [
                    /(bravia[\w- ]+) bui/i,
                ],
                [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]],
                [
                    /(mitv-\w{5}) bui/i,
                ],
                [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]],
                [
                    /\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,
                    /hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i,
                ],
                [
                    [VENDOR, trim],
                    [MODEL, trim],
                    [TYPE, SMARTTV],
                ],
                [
                    /\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i,
                ],
                [[TYPE, SMARTTV]],
                [
                    /((pebble))app/i,
                ],
                [VENDOR, MODEL, [TYPE, WEARABLE]],
                [
                    /droid.+; (glass) \d/i,
                ],
                [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]],
                [/droid.+; (wt63?0{2,3})\)/i],
                [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]],
                [
                    /(quest( 2)?)/i,
                ],
                [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]],
                [
                    /(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i,
                ],
                [VENDOR, [TYPE, EMBEDDED]],
                [
                    /droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i,
                ],
                [MODEL, [TYPE, MOBILE]],
                [
                    /droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i,
                ],
                [MODEL, [TYPE, TABLET]],
                [
                    /\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i,
                ],
                [[TYPE, TABLET]],
                [
                    /(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i,
                ],
                [[TYPE, MOBILE]],
                [
                    /(android[-\w\. ]{0,9});.+buil/i,
                ],
                [MODEL, [VENDOR, "Generic"]],
            ],
            engine: [
                [
                    /windows.+ edge\/([\w\.]+)/i,
                ],
                [VERSION, [NAME, EDGE + "HTML"]],
                [
                    /webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i,
                ],
                [VERSION, [NAME, "Blink"]],
                [
                    /(presto)\/([\w\.]+)/i,
                    /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,
                    /ekioh(flow)\/([\w\.]+)/i,
                    /(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,
                    /(icab)[\/ ]([23]\.[\d\.]+)/i,
                ],
                [NAME, VERSION],
                [
                    /rv\:([\w\.]{1,9})\b.+(gecko)/i,
                ],
                [VERSION, NAME],
            ],
            os: [
                [
                    /microsoft (windows) (vista|xp)/i,
                ],
                [NAME, VERSION],
                [
                    /(windows) nt 6\.2; (arm)/i,
                    /(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,
                    /(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,
                ],
                [NAME, [VERSION, strMapper, windowsVersionMap]],
                [/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],
                [
                    [NAME, "Windows"],
                    [VERSION, strMapper, windowsVersionMap],
                ],
                [
                    /ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,
                    /cfnetwork\/.+darwin/i,
                ],
                [
                    [VERSION, /_/g, "."],
                    [NAME, "iOS"],
                ],
                [
                    /(mac os x) ?([\w\. ]*)/i,
                    /(macintosh|mac_powerpc\b)(?!.+haiku)/i,
                ],
                [
                    [NAME, "Mac OS"],
                    [VERSION, /_/g, "."],
                ],
                [
                    /droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i,
                ],
                [VERSION, NAME],
                [
                    /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,
                    /(blackberry)\w*\/([\w\.]*)/i,
                    /(tizen|kaios)[\/ ]([\w\.]+)/i,
                    /\((series40);/i,
                ],
                [NAME, VERSION],
                [
                    /\(bb(10);/i,
                ],
                [VERSION, [NAME, BLACKBERRY]],
                [
                    /(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i,
                ],
                [VERSION, [NAME, "Symbian"]],
                [
                    /mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i,
                ],
                [VERSION, [NAME, FIREFOX + " OS"]],
                [
                    /web0s;.+rt(tv)/i,
                    /\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i,
                ],
                [VERSION, [NAME, "webOS"]],
                [
                    /crkey\/([\d\.]+)/i,
                ],
                [VERSION, [NAME, CHROME + "cast"]],
                [
                    /(cros) [\w]+ ([\w\.]+\w)/i,
                ],
                [[NAME, "Chromium OS"], VERSION],
                [
                    /(nintendo|playstation) ([wids345portablevuch]+)/i,
                    /(xbox); +xbox ([^\);]+)/i,
                    /\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,
                    /(mint)[\/\(\) ]?(\w*)/i,
                    /(mageia|vectorlinux)[; ]/i,
                    /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,
                    /(hurd|linux) ?([\w\.]*)/i,
                    /(gnu) ?([\w\.]*)/i,
                    /\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,
                    /(haiku) (\w+)/i,
                ],
                [NAME, VERSION],
                [
                    /(sunos) ?([\w\.\d]*)/i,
                ],
                [[NAME, "Solaris"], VERSION],
                [
                    /((?:open)?solaris)[-\/ ]?([\w\.]*)/i,
                    /(aix) ((\d)(?=\.|\)| )[\w\.])*/i,
                    /\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,
                    /(unix) ?([\w\.]*)/i,
                ],
                [NAME, VERSION],
            ],
        };
        var UAParser = function (ua, extensions) {
            if (typeof ua === OBJ_TYPE) {
                extensions = ua;
                ua = undefined;
            }
            if (!(this instanceof UAParser)) {
                return new UAParser(ua, extensions).getResult();
            }
            var _ua = ua ||
                (typeof window !== UNDEF_TYPE && window.navigator && window.navigator.userAgent
                    ? window.navigator.userAgent
                    : EMPTY);
            var _rgxmap = extensions ? extend(regexes, extensions) : regexes;
            this.getBrowser = function () {
                var _browser = {};
                _browser[NAME] = undefined;
                _browser[VERSION] = undefined;
                rgxMapper.call(_browser, _ua, _rgxmap.browser);
                _browser.major = majorize(_browser.version);
                return _browser;
            };
            this.getCPU = function () {
                var _cpu = {};
                _cpu[ARCHITECTURE] = undefined;
                rgxMapper.call(_cpu, _ua, _rgxmap.cpu);
                return _cpu;
            };
            this.getDevice = function () {
                var _device = {};
                _device[VENDOR] = undefined;
                _device[MODEL] = undefined;
                _device[TYPE] = undefined;
                rgxMapper.call(_device, _ua, _rgxmap.device);
                return _device;
            };
            this.getEngine = function () {
                var _engine = {};
                _engine[NAME] = undefined;
                _engine[VERSION] = undefined;
                rgxMapper.call(_engine, _ua, _rgxmap.engine);
                return _engine;
            };
            this.getOS = function () {
                var _os = {};
                _os[NAME] = undefined;
                _os[VERSION] = undefined;
                rgxMapper.call(_os, _ua, _rgxmap.os);
                return _os;
            };
            this.getResult = function () {
                return {
                    ua: this.getUA(),
                    browser: this.getBrowser(),
                    engine: this.getEngine(),
                    os: this.getOS(),
                    device: this.getDevice(),
                    cpu: this.getCPU(),
                };
            };
            this.getUA = function () {
                return _ua;
            };
            this.setUA = function (ua) {
                _ua = typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH ? trim(ua, UA_MAX_LENGTH) : ua;
                return this;
            };
            this.setUA(_ua);
            return this;
        };
        UAParser.VERSION = LIBVERSION;
        UAParser.BROWSER = enumerize([NAME, VERSION, MAJOR]);
        UAParser.CPU = enumerize([ARCHITECTURE]);
        UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);
        UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);
        return UAParser;
    })(typeof window === "object" ? window : this);
    function murmurhash3_32_gc(key, seed) {
        var remainder, bytes, h1, h1b, c1, c1b, c2, c2b, k1, i;
        remainder = key.length & 3;
        bytes = key.length - remainder;
        h1 = seed;
        c1 = 0xcc9e2d51;
        c2 = 0x1b873593;
        i = 0;
        while (i < bytes) {
            k1 =
                (key.charCodeAt(i) & 0xff) |
                    ((key.charCodeAt(++i) & 0xff) << 8) |
                    ((key.charCodeAt(++i) & 0xff) << 16) |
                    ((key.charCodeAt(++i) & 0xff) << 24);
            ++i;
            k1 = ((k1 & 0xffff) * c1 + ((((k1 >>> 16) * c1) & 0xffff) << 16)) & 0xffffffff;
            k1 = (k1 << 15) | (k1 >>> 17);
            k1 = ((k1 & 0xffff) * c2 + ((((k1 >>> 16) * c2) & 0xffff) << 16)) & 0xffffffff;
            h1 ^= k1;
            h1 = (h1 << 13) | (h1 >>> 19);
            h1b = ((h1 & 0xffff) * 5 + ((((h1 >>> 16) * 5) & 0xffff) << 16)) & 0xffffffff;
            h1 = (h1b & 0xffff) + 0x6b64 + ((((h1b >>> 16) + 0xe654) & 0xffff) << 16);
        }
        k1 = 0;
        switch (remainder) {
            case 3:
                k1 ^= (key.charCodeAt(i + 2) & 0xff) << 16;
            case 2:
                k1 ^= (key.charCodeAt(i + 1) & 0xff) << 8;
            case 1:
                k1 ^= key.charCodeAt(i) & 0xff;
                k1 = ((k1 & 0xffff) * c1 + ((((k1 >>> 16) * c1) & 0xffff) << 16)) & 0xffffffff;
                k1 = (k1 << 15) | (k1 >>> 17);
                k1 = ((k1 & 0xffff) * c2 + ((((k1 >>> 16) * c2) & 0xffff) << 16)) & 0xffffffff;
                h1 ^= k1;
        }
        h1 ^= key.length;
        h1 ^= h1 >>> 16;
        h1 = ((h1 & 0xffff) * 0x85ebca6b + ((((h1 >>> 16) * 0x85ebca6b) & 0xffff) << 16)) & 0xffffffff;
        h1 ^= h1 >>> 13;
        h1 = ((h1 & 0xffff) * 0xc2b2ae35 + ((((h1 >>> 16) * 0xc2b2ae35) & 0xffff) << 16)) & 0xffffffff;
        h1 ^= h1 >>> 16;
        return h1 >>> 0;
    }
    function Detector() {
        var baseFonts = ["monospace", "sans-serif", "serif"];
        var testString = "mmmmmmmmmmlli";
        var testSize = "72px";
        var h = document.getElementsByTagName("body")[0];
        var s = document.createElement("span");
        s.style.fontSize = testSize;
        s.innerHTML = testString;
        var defaultWidth = {};
        var defaultHeight = {};
        for (var index in baseFonts) {
            s.style.fontFamily = baseFonts[index];
            h.appendChild(s);
            defaultWidth[baseFonts[index]] = s.offsetWidth;
            defaultHeight[baseFonts[index]] = s.offsetHeight;
            h.removeChild(s);
        }
        function detect(font) {
            var detected = false;
            for (var index in baseFonts) {
                s.style.fontFamily = font + "," + baseFonts[index];
                h.appendChild(s);
                var matched = s.offsetWidth != defaultWidth[baseFonts[index]] || s.offsetHeight != defaultHeight[baseFonts[index]];
                h.removeChild(s);
                detected = detected || matched;
            }
            return detected;
        }
        this.detect = detect;
    }
    var globalThis = typeof window === "object" ? window : this;
    var browserData;
    var fontDetective;
    var ClientJS = function () {
        var parser = new UAParser();
        browserData = parser.getResult();
        fontDetective = new Detector();
        return this;
    };
    ClientJS.prototype = {
        getSoftwareVersion: function () {
            var version = "0.1.11";
            return version;
        },
        getBrowserData: function () {
            return browserData;
        },
        getFingerprint: function () {
            var bar = "|";
            var userAgent = browserData.ua;
            var screenPrint = this.getScreenPrint();
            var pluginList = this.getPlugins();
            var fontList = this.getFonts();
            var localStorage = this.isLocalStorage();
            var sessionStorage = this.isSessionStorage();
            var timeZone = this.getTimeZone();
            var language = this.getLanguage();
            var systemLanguage = this.getSystemLanguage();
            var cookies = this.isCookie();
            var canvasPrint = this.getCanvasPrint();
            var key = userAgent +
                bar +
                screenPrint +
                bar +
                pluginList +
                bar +
                fontList +
                bar +
                localStorage +
                bar +
                sessionStorage +
                bar +
                timeZone +
                bar +
                language +
                bar +
                systemLanguage +
                bar +
                cookies +
                bar +
                canvasPrint;
            var seed = 256;
            return murmurhash3_32_gc(key, seed);
        },
        getCustomFingerprint: function () {
            var bar = "|";
            var key = "";
            for (var i = 0; i < arguments.length; i++) {
                key += arguments[i] + bar;
            }
            return murmurhash3_32_gc(key, 256);
        },
        getUserAgent: function () {
            return browserData.ua;
        },
        getUserAgentLowerCase: function () {
            return browserData.ua.toLowerCase();
        },
        getBrowser: function () {
            return browserData.browser.name;
        },
        getBrowserVersion: function () {
            return browserData.browser.version;
        },
        getBrowserMajorVersion: function () {
            return browserData.browser.major;
        },
        isIE: function () {
            return /IE/i.test(browserData.browser.name);
        },
        isChrome: function () {
            return /Chrome/i.test(browserData.browser.name);
        },
        isFirefox: function () {
            return /Firefox/i.test(browserData.browser.name);
        },
        isSafari: function () {
            return /Safari/i.test(browserData.browser.name);
        },
        isMobileSafari: function () {
            return /Mobile\sSafari/i.test(browserData.browser.name);
        },
        isOpera: function () {
            return /Opera/i.test(browserData.browser.name);
        },
        getEngine: function () {
            return browserData.engine.name;
        },
        getEngineVersion: function () {
            return browserData.engine.version;
        },
        getOS: function () {
            return browserData.os.name;
        },
        getOSVersion: function () {
            return browserData.os.version;
        },
        isWindows: function () {
            return /Windows/i.test(browserData.os.name);
        },
        isMac: function () {
            return /Mac/i.test(browserData.os.name);
        },
        isLinux: function () {
            return /Linux/i.test(browserData.os.name);
        },
        isUbuntu: function () {
            return /Ubuntu/i.test(browserData.os.name);
        },
        isSolaris: function () {
            return /Solaris/i.test(browserData.os.name);
        },
        getDevice: function () {
            return browserData.device.model;
        },
        getDeviceType: function () {
            return browserData.device.type;
        },
        getDeviceVendor: function () {
            return browserData.device.vendor;
        },
        getCPU: function () {
            return browserData.cpu.architecture;
        },
        isMobile: function () {
            var dataString = browserData.ua || navigator.vendor || window.opera;
            return (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(dataString) ||
                /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(dataString.substr(0, 4)));
        },
        isMobileMajor: function () {
            return (this.isMobileAndroid() ||
                this.isMobileBlackBerry() ||
                this.isMobileIOS() ||
                this.isMobileOpera() ||
                this.isMobileWindows());
        },
        isMobileAndroid: function () {
            if (browserData.ua.match(/Android/i)) {
                return true;
            }
            return false;
        },
        isMobileOpera: function () {
            if (browserData.ua.match(/Opera Mini/i)) {
                return true;
            }
            return false;
        },
        isMobileWindows: function () {
            if (browserData.ua.match(/IEMobile/i)) {
                return true;
            }
            return false;
        },
        isMobileBlackBerry: function () {
            if (browserData.ua.match(/BlackBerry/i)) {
                return true;
            }
            return false;
        },
        isMobileIOS: function () {
            if (browserData.ua.match(/iPhone|iPad|iPod/i)) {
                return true;
            }
            return false;
        },
        isIphone: function () {
            if (browserData.ua.match(/iPhone/i)) {
                return true;
            }
            return false;
        },
        isIpad: function () {
            if (browserData.ua.match(/iPad/i)) {
                return true;
            }
            return false;
        },
        isIpod: function () {
            if (browserData.ua.match(/iPod/i)) {
                return true;
            }
            return false;
        },
        getScreenPrint: function () {
            return ("Current Resolution: " +
                this.getCurrentResolution() +
                ", Available Resolution: " +
                this.getAvailableResolution() +
                ", Color Depth: " +
                this.getColorDepth() +
                ", Device XDPI: " +
                this.getDeviceXDPI() +
                ", Device YDPI: " +
                this.getDeviceYDPI());
        },
        getColorDepth: function () {
            return screen.colorDepth;
        },
        getCurrentResolution: function () {
            return screen.width + "x" + screen.height;
        },
        getAvailableResolution: function () {
            return screen.availWidth + "x" + screen.availHeight;
        },
        getDeviceXDPI: function () {
            return screen.deviceXDPI;
        },
        getDeviceYDPI: function () {
            return screen.deviceYDPI;
        },
        getPlugins: function () {
            var pluginsList = "";
            for (var i = 0; i < navigator.plugins.length; i++) {
                if (i == navigator.plugins.length - 1) {
                    pluginsList += navigator.plugins[i].name;
                }
                else {
                    pluginsList += navigator.plugins[i].name + ", ";
                }
            }
            return pluginsList;
        },
        isJava: function () {
            return navigator.javaEnabled();
        },
        getJavaVersion: function () {
            throw new Error("Please use client.java.js or client.js if you need this functionality!");
        },
        isFlash: function () {
            var objPlugin = navigator.plugins["Shockwave Flash"];
            if (objPlugin) {
                return true;
            }
            return false;
        },
        getFlashVersion: function () {
            throw new Error("Please use client.flash.js or client.js if you need this functionality!");
        },
        isSilverlight: function () {
            var objPlugin = navigator.plugins["Silverlight Plug-In"];
            if (objPlugin) {
                return true;
            }
            return false;
        },
        getSilverlightVersion: function () {
            if (this.isSilverlight()) {
                var objPlugin = navigator.plugins["Silverlight Plug-In"];
                return objPlugin.description;
            }
            return "";
        },
        isMimeTypes: function () {
            if (navigator.mimeTypes && navigator.mimeTypes.length) {
                return true;
            }
            return false;
        },
        getMimeTypes: function () {
            var mimeTypeList = "";
            if (navigator.mimeTypes) {
                for (var i = 0; i < navigator.mimeTypes.length; i++) {
                    if (i == navigator.mimeTypes.length - 1) {
                        mimeTypeList += navigator.mimeTypes[i].description;
                    }
                    else {
                        mimeTypeList += navigator.mimeTypes[i].description + ", ";
                    }
                }
            }
            return mimeTypeList;
        },
        isFont: function (font) {
            return fontDetective.detect(font);
        },
        getFonts: function () {
            var fontArray = [
                "Abadi MT Condensed Light",
                "Adobe Fangsong Std",
                "Adobe Hebrew",
                "Adobe Ming Std",
                "Agency FB",
                "Aharoni",
                "Andalus",
                "Angsana New",
                "AngsanaUPC",
                "Aparajita",
                "Arab",
                "Arabic Transparent",
                "Arabic Typesetting",
                "Arial Baltic",
                "Arial Black",
                "Arial CE",
                "Arial CYR",
                "Arial Greek",
                "Arial TUR",
                "Arial",
                "Batang",
                "BatangChe",
                "Bauhaus 93",
                "Bell MT",
                "Bitstream Vera Serif",
                "Bodoni MT",
                "Bookman Old Style",
                "Braggadocio",
                "Broadway",
                "Browallia New",
                "BrowalliaUPC",
                "Calibri Light",
                "Calibri",
                "Californian FB",
                "Cambria Math",
                "Cambria",
                "Candara",
                "Castellar",
                "Casual",
                "Centaur",
                "Century Gothic",
                "Chalkduster",
                "Colonna MT",
                "Comic Sans MS",
                "Consolas",
                "Constantia",
                "Copperplate Gothic Light",
                "Corbel",
                "Cordia New",
                "CordiaUPC",
                "Courier New Baltic",
                "Courier New CE",
                "Courier New CYR",
                "Courier New Greek",
                "Courier New TUR",
                "Courier New",
                "DFKai-SB",
                "DaunPenh",
                "David",
                "DejaVu LGC Sans Mono",
                "Desdemona",
                "DilleniaUPC",
                "DokChampa",
                "Dotum",
                "DotumChe",
                "Ebrima",
                "Engravers MT",
                "Eras Bold ITC",
                "Estrangelo Edessa",
                "EucrosiaUPC",
                "Euphemia",
                "Eurostile",
                "FangSong",
                "Forte",
                "FrankRuehl",
                "Franklin Gothic Heavy",
                "Franklin Gothic Medium",
                "FreesiaUPC",
                "French Script MT",
                "Gabriola",
                "Gautami",
                "Georgia",
                "Gigi",
                "Gisha",
                "Goudy Old Style",
                "Gulim",
                "GulimChe",
                "GungSeo",
                "Gungsuh",
                "GungsuhChe",
                "Haettenschweiler",
                "Harrington",
                "Hei S",
                "HeiT",
                "Heisei Kaku Gothic",
                "Hiragino Sans GB",
                "Impact",
                "Informal Roman",
                "IrisUPC",
                "Iskoola Pota",
                "JasmineUPC",
                "KacstOne",
                "KaiTi",
                "Kalinga",
                "Kartika",
                "Khmer UI",
                "Kino MT",
                "KodchiangUPC",
                "Kokila",
                "Kozuka Gothic Pr6N",
                "Lao UI",
                "Latha",
                "Leelawadee",
                "Levenim MT",
                "LilyUPC",
                "Lohit Gujarati",
                "Loma",
                "Lucida Bright",
                "Lucida Console",
                "Lucida Fax",
                "Lucida Sans Unicode",
                "MS Gothic",
                "MS Mincho",
                "MS PGothic",
                "MS PMincho",
                "MS Reference Sans Serif",
                "MS UI Gothic",
                "MV Boli",
                "Magneto",
                "Malgun Gothic",
                "Mangal",
                "Marlett",
                "Matura MT Script Capitals",
                "Meiryo UI",
                "Meiryo",
                "Menlo",
                "Microsoft Himalaya",
                "Microsoft JhengHei",
                "Microsoft New Tai Lue",
                "Microsoft PhagsPa",
                "Microsoft Sans Serif",
                "Microsoft Tai Le",
                "Microsoft Uighur",
                "Microsoft YaHei",
                "Microsoft Yi Baiti",
                "MingLiU",
                "MingLiU-ExtB",
                "MingLiU_HKSCS",
                "MingLiU_HKSCS-ExtB",
                "Miriam Fixed",
                "Miriam",
                "Mongolian Baiti",
                "MoolBoran",
                "NSimSun",
                "Narkisim",
                "News Gothic MT",
                "Niagara Solid",
                "Nyala",
                "PMingLiU",
                "PMingLiU-ExtB",
                "Palace Script MT",
                "Palatino Linotype",
                "Papyrus",
                "Perpetua",
                "Plantagenet Cherokee",
                "Playbill",
                "Prelude Bold",
                "Prelude Condensed Bold",
                "Prelude Condensed Medium",
                "Prelude Medium",
                "PreludeCompressedWGL Black",
                "PreludeCompressedWGL Bold",
                "PreludeCompressedWGL Light",
                "PreludeCompressedWGL Medium",
                "PreludeCondensedWGL Black",
                "PreludeCondensedWGL Bold",
                "PreludeCondensedWGL Light",
                "PreludeCondensedWGL Medium",
                "PreludeWGL Black",
                "PreludeWGL Bold",
                "PreludeWGL Light",
                "PreludeWGL Medium",
                "Raavi",
                "Rachana",
                "Rockwell",
                "Rod",
                "Sakkal Majalla",
                "Sawasdee",
                "Script MT Bold",
                "Segoe Print",
                "Segoe Script",
                "Segoe UI Light",
                "Segoe UI Semibold",
                "Segoe UI Symbol",
                "Segoe UI",
                "Shonar Bangla",
                "Showcard Gothic",
                "Shruti",
                "SimHei",
                "SimSun",
                "SimSun-ExtB",
                "Simplified Arabic Fixed",
                "Simplified Arabic",
                "Snap ITC",
                "Sylfaen",
                "Symbol",
                "Tahoma",
                "Times New Roman Baltic",
                "Times New Roman CE",
                "Times New Roman CYR",
                "Times New Roman Greek",
                "Times New Roman TUR",
                "Times New Roman",
                "TlwgMono",
                "Traditional Arabic",
                "Trebuchet MS",
                "Tunga",
                "Tw Cen MT Condensed Extra Bold",
                "Ubuntu",
                "Umpush",
                "Univers",
                "Utopia",
                "Utsaah",
                "Vani",
                "Verdana",
                "Vijaya",
                "Vladimir Script",
                "Vrinda",
                "Webdings",
                "Wide Latin",
                "Wingdings",
            ];
            var fontString = "";
            for (var i = 0; i < fontArray.length; i++) {
                if (fontDetective.detect(fontArray[i])) {
                    if (i == fontArray.length - 1) {
                        fontString += fontArray[i];
                    }
                    else {
                        fontString += fontArray[i] + ", ";
                    }
                }
            }
            return fontString;
        },
        isLocalStorage: function () {
            try {
                return !!globalThis.localStorage;
            }
            catch (e) {
                return true;
            }
        },
        isSessionStorage: function () {
            try {
                return !!globalThis.sessionStorage;
            }
            catch (e) {
                return true;
            }
        },
        isCookie: function () {
            return navigator.cookieEnabled;
        },
        getTimeZone: function () {
            var rightNow, myNumber, formattedNumber, result;
            rightNow = new Date();
            myNumber = String(-(rightNow.getTimezoneOffset() / 60));
            if (myNumber < 0) {
                myNumber = myNumber * -1;
                formattedNumber = ("0" + myNumber).slice(-2);
                result = "-" + formattedNumber;
            }
            else {
                formattedNumber = ("0" + myNumber).slice(-2);
                result = "+" + formattedNumber;
            }
            return result;
        },
        getLanguage: function () {
            return navigator.language;
        },
        getSystemLanguage: function () {
            return navigator.systemLanguage || window.navigator.language;
        },
        isCanvas: function () {
            var elem = document.createElement("canvas");
            try {
                return !!(elem.getContext && elem.getContext("2d"));
            }
            catch (e) {
                return false;
            }
        },
        getCanvasPrint: function () {
            var canvas = document.createElement("canvas");
            var ctx;
            try {
                ctx = canvas.getContext("2d");
            }
            catch (e) {
                return "";
            }
            var txt = "ClientJS,org <canvas> 1.0";
            ctx.textBaseline = "top";
            ctx.font = "14px 'Arial'";
            ctx.textBaseline = "alphabetic";
            ctx.fillStyle = "#f60";
            ctx.fillRect(125, 1, 62, 20);
            ctx.fillStyle = "#069";
            ctx.fillText(txt, 2, 15);
            ctx.fillStyle = "rgba(102, 204, 0, 0.7)";
            ctx.fillText(txt, 4, 17);
            return canvas.toDataURL();
        },
    };
    exports.default = ClientJS;
});
define("vendor/FingerprintJS", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var FingerprintJS = (function (e) {
        "use strict";
        var n = function () {
            return ((n =
                Object.assign ||
                    function (e) {
                        for (var n, t = 1, r = arguments.length; t < r; t++)
                            for (var o in (n = arguments[t]))
                                Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o]);
                        return e;
                    }),
                n.apply(this, arguments));
        };
        function t(e, n, t, r) {
            return new (t || (t = Promise))(function (o, a) {
                function i(e) {
                    try {
                        u(r.next(e));
                    }
                    catch (n) {
                        a(n);
                    }
                }
                function c(e) {
                    try {
                        u(r.throw(e));
                    }
                    catch (n) {
                        a(n);
                    }
                }
                function u(e) {
                    var n;
                    e.done
                        ? o(e.value)
                        : ((n = e.value),
                            n instanceof t
                                ? n
                                : new t(function (e) {
                                    e(n);
                                })).then(i, c);
                }
                u((r = r.apply(e, n || [])).next());
            });
        }
        function r(e, n) {
            var t, r, o, a, i = {
                label: 0,
                sent: function () {
                    if (1 & o[0])
                        throw o[1];
                    return o[1];
                },
                trys: [],
                ops: [],
            };
            return ((a = { next: c(0), throw: c(1), return: c(2) }),
                "function" == typeof Symbol &&
                    (a[Symbol.iterator] = function () {
                        return this;
                    }),
                a);
            function c(c) {
                return function (u) {
                    return (function (c) {
                        if (t)
                            throw new TypeError("Generator is already executing.");
                        for (; a && ((a = 0), c[0] && (i = 0)), i;)
                            try {
                                if (((t = 1),
                                    r &&
                                        (o = 2 & c[0] ? r.return : c[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) &&
                                        !(o = o.call(r, c[1])).done))
                                    return o;
                                switch (((r = 0), o && (c = [2 & c[0], o.value]), c[0])) {
                                    case 0:
                                    case 1:
                                        o = c;
                                        break;
                                    case 4:
                                        return i.label++, { value: c[1], done: !1 };
                                    case 5:
                                        i.label++, (r = c[1]), (c = [0]);
                                        continue;
                                    case 7:
                                        (c = i.ops.pop()), i.trys.pop();
                                        continue;
                                    default:
                                        if (!((o = i.trys), (o = o.length > 0 && o[o.length - 1]) || (6 !== c[0] && 2 !== c[0]))) {
                                            i = 0;
                                            continue;
                                        }
                                        if (3 === c[0] && (!o || (c[1] > o[0] && c[1] < o[3]))) {
                                            i.label = c[1];
                                            break;
                                        }
                                        if (6 === c[0] && i.label < o[1]) {
                                            (i.label = o[1]), (o = c);
                                            break;
                                        }
                                        if (o && i.label < o[2]) {
                                            (i.label = o[2]), i.ops.push(c);
                                            break;
                                        }
                                        o[2] && i.ops.pop(), i.trys.pop();
                                        continue;
                                }
                                c = n.call(e, i);
                            }
                            catch (u) {
                                (c = [6, u]), (r = 0);
                            }
                            finally {
                                t = o = 0;
                            }
                        if (5 & c[0])
                            throw c[1];
                        return { value: c[0] ? c[1] : void 0, done: !0 };
                    })([c, u]);
                };
            }
        }
        function o(e, n, t) {
            if (t || 2 === arguments.length)
                for (var r, o = 0, a = n.length; o < a; o++)
                    (!r && o in n) || (r || (r = Array.prototype.slice.call(n, 0, o)), (r[o] = n[o]));
            return e.concat(r || Array.prototype.slice.call(n));
        }
        function a(e, n) {
            return new Promise(function (t) {
                return setTimeout(t, e, n);
            });
        }
        function i(e) {
            return !!e && "function" == typeof e.then;
        }
        function c(e, n) {
            try {
                var t = e();
                i(t)
                    ? t.then(function (e) {
                        return n(!0, e);
                    }, function (e) {
                        return n(!1, e);
                    })
                    : n(!0, t);
            }
            catch (r) {
                n(!1, r);
            }
        }
        function u(e, n, o) {
            return (void 0 === o && (o = 16),
                t(this, void 0, void 0, function () {
                    var t, i, c, u;
                    return r(this, function (r) {
                        switch (r.label) {
                            case 0:
                                (t = Array(e.length)), (i = Date.now()), (c = 0), (r.label = 1);
                            case 1:
                                return c < e.length
                                    ? ((t[c] = n(e[c], c)), (u = Date.now()) >= i + o ? ((i = u), [4, a(0)]) : [3, 3])
                                    : [3, 4];
                            case 2:
                                r.sent(), (r.label = 3);
                            case 3:
                                return ++c, [3, 1];
                            case 4:
                                return [2, t];
                        }
                    });
                }));
        }
        function l(e) {
            e.then(void 0, function () { });
        }
        function s(e, n) {
            (e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]]),
                (n = [n[0] >>> 16, 65535 & n[0], n[1] >>> 16, 65535 & n[1]]);
            var t = [0, 0, 0, 0];
            return ((t[3] += e[3] + n[3]),
                (t[2] += t[3] >>> 16),
                (t[3] &= 65535),
                (t[2] += e[2] + n[2]),
                (t[1] += t[2] >>> 16),
                (t[2] &= 65535),
                (t[1] += e[1] + n[1]),
                (t[0] += t[1] >>> 16),
                (t[1] &= 65535),
                (t[0] += e[0] + n[0]),
                (t[0] &= 65535),
                [(t[0] << 16) | t[1], (t[2] << 16) | t[3]]);
        }
        function d(e, n) {
            (e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]]),
                (n = [n[0] >>> 16, 65535 & n[0], n[1] >>> 16, 65535 & n[1]]);
            var t = [0, 0, 0, 0];
            return ((t[3] += e[3] * n[3]),
                (t[2] += t[3] >>> 16),
                (t[3] &= 65535),
                (t[2] += e[2] * n[3]),
                (t[1] += t[2] >>> 16),
                (t[2] &= 65535),
                (t[2] += e[3] * n[2]),
                (t[1] += t[2] >>> 16),
                (t[2] &= 65535),
                (t[1] += e[1] * n[3]),
                (t[0] += t[1] >>> 16),
                (t[1] &= 65535),
                (t[1] += e[2] * n[2]),
                (t[0] += t[1] >>> 16),
                (t[1] &= 65535),
                (t[1] += e[3] * n[1]),
                (t[0] += t[1] >>> 16),
                (t[1] &= 65535),
                (t[0] += e[0] * n[3] + e[1] * n[2] + e[2] * n[1] + e[3] * n[0]),
                (t[0] &= 65535),
                [(t[0] << 16) | t[1], (t[2] << 16) | t[3]]);
        }
        function m(e, n) {
            return 32 === (n %= 64)
                ? [e[1], e[0]]
                : n < 32
                    ? [(e[0] << n) | (e[1] >>> (32 - n)), (e[1] << n) | (e[0] >>> (32 - n))]
                    : ((n -= 32), [(e[1] << n) | (e[0] >>> (32 - n)), (e[0] << n) | (e[1] >>> (32 - n))]);
        }
        function f(e, n) {
            return 0 === (n %= 64) ? e : n < 32 ? [(e[0] << n) | (e[1] >>> (32 - n)), e[1] << n] : [e[1] << (n - 32), 0];
        }
        function h(e, n) {
            return [e[0] ^ n[0], e[1] ^ n[1]];
        }
        function v(e) {
            return ((e = h(e, [0, e[0] >>> 1])),
                (e = h((e = d(e, [4283543511, 3981806797])), [0, e[0] >>> 1])),
                (e = h((e = d(e, [3301882366, 444984403])), [0, e[0] >>> 1])));
        }
        function p(e, n) {
            n = n || 0;
            var t, r = (e = e || "").length % 16, o = e.length - r, a = [0, n], i = [0, n], c = [0, 0], u = [0, 0], l = [2277735313, 289559509], p = [1291169091, 658871167];
            for (t = 0; t < o; t += 16)
                (c = [
                    (255 & e.charCodeAt(t + 4)) |
                        ((255 & e.charCodeAt(t + 5)) << 8) |
                        ((255 & e.charCodeAt(t + 6)) << 16) |
                        ((255 & e.charCodeAt(t + 7)) << 24),
                    (255 & e.charCodeAt(t)) |
                        ((255 & e.charCodeAt(t + 1)) << 8) |
                        ((255 & e.charCodeAt(t + 2)) << 16) |
                        ((255 & e.charCodeAt(t + 3)) << 24),
                ]),
                    (u = [
                        (255 & e.charCodeAt(t + 12)) |
                            ((255 & e.charCodeAt(t + 13)) << 8) |
                            ((255 & e.charCodeAt(t + 14)) << 16) |
                            ((255 & e.charCodeAt(t + 15)) << 24),
                        (255 & e.charCodeAt(t + 8)) |
                            ((255 & e.charCodeAt(t + 9)) << 8) |
                            ((255 & e.charCodeAt(t + 10)) << 16) |
                            ((255 & e.charCodeAt(t + 11)) << 24),
                    ]),
                    (c = m((c = d(c, l)), 31)),
                    (a = s((a = m((a = h(a, (c = d(c, p)))), 27)), i)),
                    (a = s(d(a, [0, 5]), [0, 1390208809])),
                    (u = m((u = d(u, p)), 33)),
                    (i = s((i = m((i = h(i, (u = d(u, l)))), 31)), a)),
                    (i = s(d(i, [0, 5]), [0, 944331445]));
            switch (((c = [0, 0]), (u = [0, 0]), r)) {
                case 15:
                    u = h(u, f([0, e.charCodeAt(t + 14)], 48));
                case 14:
                    u = h(u, f([0, e.charCodeAt(t + 13)], 40));
                case 13:
                    u = h(u, f([0, e.charCodeAt(t + 12)], 32));
                case 12:
                    u = h(u, f([0, e.charCodeAt(t + 11)], 24));
                case 11:
                    u = h(u, f([0, e.charCodeAt(t + 10)], 16));
                case 10:
                    u = h(u, f([0, e.charCodeAt(t + 9)], 8));
                case 9:
                    (u = d((u = h(u, [0, e.charCodeAt(t + 8)])), p)), (i = h(i, (u = d((u = m(u, 33)), l))));
                case 8:
                    c = h(c, f([0, e.charCodeAt(t + 7)], 56));
                case 7:
                    c = h(c, f([0, e.charCodeAt(t + 6)], 48));
                case 6:
                    c = h(c, f([0, e.charCodeAt(t + 5)], 40));
                case 5:
                    c = h(c, f([0, e.charCodeAt(t + 4)], 32));
                case 4:
                    c = h(c, f([0, e.charCodeAt(t + 3)], 24));
                case 3:
                    c = h(c, f([0, e.charCodeAt(t + 2)], 16));
                case 2:
                    c = h(c, f([0, e.charCodeAt(t + 1)], 8));
                case 1:
                    (c = d((c = h(c, [0, e.charCodeAt(t)])), l)), (a = h(a, (c = d((c = m(c, 31)), p))));
            }
            return ((a = s((a = h(a, [0, e.length])), (i = h(i, [0, e.length])))),
                (i = s(i, a)),
                (a = s((a = v(a)), (i = v(i)))),
                (i = s(i, a)),
                ("00000000" + (a[0] >>> 0).toString(16)).slice(-8) +
                    ("00000000" + (a[1] >>> 0).toString(16)).slice(-8) +
                    ("00000000" + (i[0] >>> 0).toString(16)).slice(-8) +
                    ("00000000" + (i[1] >>> 0).toString(16)).slice(-8));
        }
        function b(e) {
            return parseInt(e);
        }
        function y(e) {
            return parseFloat(e);
        }
        function g(e, n) {
            return "number" == typeof e && isNaN(e) ? n : e;
        }
        function w(e) {
            return e.reduce(function (e, n) {
                return e + (n ? 1 : 0);
            }, 0);
        }
        function L(e, n) {
            if ((void 0 === n && (n = 1), Math.abs(n) >= 1))
                return Math.round(e / n) * n;
            var t = 1 / n;
            return Math.round(e * t) / t;
        }
        function k(e) {
            return e && "object" == typeof e && "message" in e ? e : { message: e };
        }
        function V(e) {
            return "function" != typeof e;
        }
        function W(e, n, o) {
            var a = Object.keys(e).filter(function (e) {
                return !(function (e, n) {
                    for (var t = 0, r = e.length; t < r; ++t)
                        if (e[t] === n)
                            return !0;
                    return !1;
                })(o, e);
            }), i = u(a, function (t) {
                return (function (e, n) {
                    var t = new Promise(function (t) {
                        var r = Date.now();
                        c(e.bind(null, n), function () {
                            for (var e = [], n = 0; n < arguments.length; n++)
                                e[n] = arguments[n];
                            var o = Date.now() - r;
                            if (!e[0])
                                return t(function () {
                                    return { error: k(e[1]), duration: o };
                                });
                            var a = e[1];
                            if (V(a))
                                return t(function () {
                                    return { value: a, duration: o };
                                });
                            t(function () {
                                return new Promise(function (e) {
                                    var n = Date.now();
                                    c(a, function () {
                                        for (var t = [], r = 0; r < arguments.length; r++)
                                            t[r] = arguments[r];
                                        var a = o + Date.now() - n;
                                        if (!t[0])
                                            return e({ error: k(t[1]), duration: a });
                                        e({ value: t[1], duration: a });
                                    });
                                });
                            });
                        });
                    });
                    return (l(t),
                        function () {
                            return t.then(function (e) {
                                return e();
                            });
                        });
                })(e[t], n);
            });
            return (l(i),
                function () {
                    return t(this, void 0, void 0, function () {
                        var e, n, t, o;
                        return r(this, function (r) {
                            switch (r.label) {
                                case 0:
                                    return [4, i];
                                case 1:
                                    return [
                                        4,
                                        u(r.sent(), function (e) {
                                            var n = e();
                                            return l(n), n;
                                        }),
                                    ];
                                case 2:
                                    return (e = r.sent()), [4, Promise.all(e)];
                                case 3:
                                    for (n = r.sent(), t = {}, o = 0; o < a.length; ++o)
                                        t[a[o]] = n[o];
                                    return [2, t];
                            }
                        });
                    });
                });
        }
        function Z() {
            var e = window, n = navigator;
            return (w([
                "MSCSSMatrix" in e,
                "msSetImmediate" in e,
                "msIndexedDB" in e,
                "msMaxTouchPoints" in n,
                "msPointerEnabled" in n,
            ]) >= 4);
        }
        function S() {
            var e = window, n = navigator;
            return w(["msWriteProfilerMark" in e, "MSStream" in e, "msLaunchUri" in n, "msSaveBlob" in n]) >= 3 && !Z();
        }
        function C() {
            var e = window, n = navigator;
            return (w([
                "webkitPersistentStorage" in n,
                "webkitTemporaryStorage" in n,
                0 === n.vendor.indexOf("Google"),
                "webkitResolveLocalFileSystemURL" in e,
                "BatteryManager" in e,
                "webkitMediaStream" in e,
                "webkitSpeechGrammar" in e,
            ]) >= 5);
        }
        function x() {
            var e = window, n = navigator;
            return (w([
                "ApplePayError" in e,
                "CSSPrimitiveValue" in e,
                "Counter" in e,
                0 === n.vendor.indexOf("Apple"),
                "getStorageUpdates" in n,
                "WebKitMediaKeys" in e,
            ]) >= 4);
        }
        function F() {
            var e = window;
            return w(["safari" in e, !("DeviceMotionEvent" in e), !("ongestureend" in e), !("standalone" in navigator)]) >= 3;
        }
        function M() {
            var e, n, t = window;
            return (w([
                "buildID" in navigator,
                "MozAppearance" in
                    (null !== (n = null === (e = document.documentElement) || void 0 === e ? void 0 : e.style) && void 0 !== n
                        ? n
                        : {}),
                "onmozfullscreenchange" in t,
                "mozInnerScreenX" in t,
                "CSSMozDocumentRule" in t,
                "CanvasCaptureMediaStream" in t,
            ]) >= 4);
        }
        function Y() {
            var e = document;
            return e.fullscreenElement || e.msFullscreenElement || e.mozFullScreenElement || e.webkitFullscreenElement || null;
        }
        function G() {
            var e = C(), n = M();
            if (!e && !n)
                return !1;
            var t = window;
            return (w([
                "onorientationchange" in t,
                "orientation" in t,
                e && !("SharedWorker" in t),
                n && /android/i.test(navigator.appVersion),
            ]) >= 2);
        }
        function R(e) {
            var n = new Error(e);
            return (n.name = e), n;
        }
        function X(e, n, o) {
            var i, c, u;
            return (void 0 === o && (o = 50),
                t(this, void 0, void 0, function () {
                    var t, l;
                    return r(this, function (r) {
                        switch (r.label) {
                            case 0:
                                (t = document), (r.label = 1);
                            case 1:
                                return t.body ? [3, 3] : [4, a(o)];
                            case 2:
                                return r.sent(), [3, 1];
                            case 3:
                                (l = t.createElement("iframe")), (r.label = 4);
                            case 4:
                                return (r.trys.push([4, , 10, 11]),
                                    [
                                        4,
                                        new Promise(function (e, r) {
                                            var o = !1, a = function () {
                                                (o = !0), e();
                                            };
                                            (l.onload = a),
                                                (l.onerror = function (e) {
                                                    (o = !0), r(e);
                                                });
                                            var i = l.style;
                                            i.setProperty("display", "block", "important"),
                                                (i.position = "absolute"),
                                                (i.top = "0"),
                                                (i.left = "0"),
                                                (i.visibility = "hidden"),
                                                n && "srcdoc" in l ? (l.srcdoc = n) : (l.src = "about:blank"),
                                                t.body.appendChild(l);
                                            var c = function () {
                                                var e, n;
                                                o ||
                                                    ("complete" ===
                                                        (null === (n = null === (e = l.contentWindow) || void 0 === e ? void 0 : e.document) ||
                                                            void 0 === n
                                                            ? void 0
                                                            : n.readyState)
                                                        ? a()
                                                        : setTimeout(c, 10));
                                            };
                                            c();
                                        }),
                                    ]);
                            case 5:
                                r.sent(), (r.label = 6);
                            case 6:
                                return (null === (c = null === (i = l.contentWindow) || void 0 === i ? void 0 : i.document) || void 0 === c
                                    ? void 0
                                    : c.body)
                                    ? [3, 8]
                                    : [4, a(o)];
                            case 7:
                                return r.sent(), [3, 6];
                            case 8:
                                return [4, e(l, l.contentWindow)];
                            case 9:
                                return [2, r.sent()];
                            case 10:
                                return null === (u = l.parentNode) || void 0 === u || u.removeChild(l), [7];
                            case 11:
                                return [2];
                        }
                    });
                }));
        }
        function A(e) {
            for (var n = (function (e) {
                for (var n, t, r = "Unexpected syntax '".concat(e, "'"), o = /^\s*([a-z-]*)(.*)$/i.exec(e), a = o[1] || void 0, i = {}, c = /([.:#][\w-]+|\[.+?\])/gi, u = function (e, n) {
                    (i[e] = i[e] || []), i[e].push(n);
                };;) {
                    var l = c.exec(o[2]);
                    if (!l)
                        break;
                    var s = l[0];
                    switch (s[0]) {
                        case ".":
                            u("class", s.slice(1));
                            break;
                        case "#":
                            u("id", s.slice(1));
                            break;
                        case "[":
                            var d = /^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(s);
                            if (!d)
                                throw new Error(r);
                            u(d[1], null !== (t = null !== (n = d[4]) && void 0 !== n ? n : d[5]) && void 0 !== t ? t : "");
                            break;
                        default:
                            throw new Error(r);
                    }
                }
                return [a, i];
            })(e), t = n[0], r = n[1], o = document.createElement(null != t ? t : "div"), a = 0, i = Object.keys(r); a < i.length; a++) {
                var c = i[a], u = r[c].join(" ");
                "style" === c ? j(o.style, u) : o.setAttribute(c, u);
            }
            return o;
        }
        function j(e, n) {
            for (var t = 0, r = n.split(";"); t < r.length; t++) {
                var o = r[t], a = /^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(o);
                if (a) {
                    var i = a[1], c = a[2], u = a[4];
                    e.setProperty(i, c, u || "");
                }
            }
        }
        var I = ["monospace", "sans-serif", "serif"], J = [
            "sans-serif-thin",
            "ARNO PRO",
            "Agency FB",
            "Arabic Typesetting",
            "Arial Unicode MS",
            "AvantGarde Bk BT",
            "BankGothic Md BT",
            "Batang",
            "Bitstream Vera Sans Mono",
            "Calibri",
            "Century",
            "Century Gothic",
            "Clarendon",
            "EUROSTILE",
            "Franklin Gothic",
            "Futura Bk BT",
            "Futura Md BT",
            "GOTHAM",
            "Gill Sans",
            "HELV",
            "Haettenschweiler",
            "Helvetica Neue",
            "Humanst521 BT",
            "Leelawadee",
            "Letter Gothic",
            "Levenim MT",
            "Lucida Bright",
            "Lucida Sans",
            "Menlo",
            "MS Mincho",
            "MS Outlook",
            "MS Reference Specialty",
            "MS UI Gothic",
            "MT Extra",
            "MYRIAD PRO",
            "Marlett",
            "Meiryo UI",
            "Microsoft Uighur",
            "Minion Pro",
            "Monotype Corsiva",
            "PMingLiU",
            "Pristina",
            "SCRIPTINA",
            "Segoe UI Light",
            "Serifa",
            "SimHei",
            "Small Fonts",
            "Staccato222 BT",
            "TRAJAN PRO",
            "Univers CE 55 Medium",
            "Vrinda",
            "ZWAdobeF",
        ];
        function H(e) {
            return e.toDataURL();
        }
        var P, N;
        function D() {
            var e = this;
            return ((function () {
                if (void 0 === N) {
                    var e = function () {
                        var n = z();
                        E(n) ? (N = setTimeout(e, 2500)) : ((P = n), (N = void 0));
                    };
                    e();
                }
            })(),
                function () {
                    return t(e, void 0, void 0, function () {
                        var e;
                        return r(this, function (n) {
                            switch (n.label) {
                                case 0:
                                    return E((e = z()))
                                        ? P
                                            ? [2, o([], P, !0)]
                                            : Y()
                                                ? [
                                                    4,
                                                    ((t = document),
                                                        (t.exitFullscreen ||
                                                            t.msExitFullscreen ||
                                                            t.mozCancelFullScreen ||
                                                            t.webkitExitFullscreen).call(t)),
                                                ]
                                                : [3, 2]
                                        : [3, 2];
                                case 1:
                                    n.sent(), (e = z()), (n.label = 2);
                                case 2:
                                    return E(e) || (P = e), [2, e];
                            }
                            var t;
                        });
                    });
                });
        }
        function z() {
            var e = screen;
            return [
                g(y(e.availTop), null),
                g(y(e.width) - y(e.availWidth) - g(y(e.availLeft), 0), null),
                g(y(e.height) - y(e.availHeight) - g(y(e.availTop), 0), null),
                g(y(e.availLeft), null),
            ];
        }
        function E(e) {
            for (var n = 0; n < 4; ++n)
                if (e[n])
                    return !1;
            return !0;
        }
        function T(e) {
            var n;
            return t(this, void 0, void 0, function () {
                var t, o, i, c, u, l, s;
                return r(this, function (r) {
                    switch (r.label) {
                        case 0:
                            for (t = document, o = t.createElement("div"), i = new Array(e.length), c = {}, B(o), s = 0; s < e.length; ++s)
                                "DIALOG" === (u = A(e[s])).tagName && u.show(),
                                    B((l = t.createElement("div"))),
                                    l.appendChild(u),
                                    o.appendChild(l),
                                    (i[s] = u);
                            r.label = 1;
                        case 1:
                            return t.body ? [3, 3] : [4, a(50)];
                        case 2:
                            return r.sent(), [3, 1];
                        case 3:
                            t.body.appendChild(o);
                            try {
                                for (s = 0; s < e.length; ++s)
                                    i[s].offsetParent || (c[e[s]] = !0);
                            }
                            finally {
                                null === (n = o.parentNode) || void 0 === n || n.removeChild(o);
                            }
                            return [2, c];
                    }
                });
            });
        }
        function B(e) {
            e.style.setProperty("display", "block", "important");
        }
        function _(e) {
            return matchMedia("(inverted-colors: ".concat(e, ")")).matches;
        }
        function O(e) {
            return matchMedia("(forced-colors: ".concat(e, ")")).matches;
        }
        function U(e) {
            return matchMedia("(prefers-contrast: ".concat(e, ")")).matches;
        }
        function Q(e) {
            return matchMedia("(prefers-reduced-motion: ".concat(e, ")")).matches;
        }
        function K(e) {
            return matchMedia("(dynamic-range: ".concat(e, ")")).matches;
        }
        var q = Math, $ = function () {
            return 0;
        };
        var ee = {
            default: [],
            apple: [{ font: "-apple-system-body" }],
            serif: [{ fontFamily: "serif" }],
            sans: [{ fontFamily: "sans-serif" }],
            mono: [{ fontFamily: "monospace" }],
            min: [{ fontSize: "1px" }],
            system: [{ fontFamily: "system-ui" }],
        };
        var ne = {
            fonts: function () {
                return X(function (e, n) {
                    var t = n.document, r = t.body;
                    r.style.fontSize = "48px";
                    var o = t.createElement("div"), a = {}, i = {}, c = function (e) {
                        var n = t.createElement("span"), r = n.style;
                        return ((r.position = "absolute"),
                            (r.top = "0"),
                            (r.left = "0"),
                            (r.fontFamily = e),
                            (n.textContent = "mmMwWLliI0O&1"),
                            o.appendChild(n),
                            n);
                    }, u = I.map(c), l = (function () {
                        for (var e = {}, n = function (n) {
                            e[n] = I.map(function (e) {
                                return (function (e, n) {
                                    return c("'".concat(e, "',").concat(n));
                                })(n, e);
                            });
                        }, t = 0, r = J; t < r.length; t++) {
                            n(r[t]);
                        }
                        return e;
                    })();
                    r.appendChild(o);
                    for (var s = 0; s < I.length; s++)
                        (a[I[s]] = u[s].offsetWidth), (i[I[s]] = u[s].offsetHeight);
                    return J.filter(function (e) {
                        return ((n = l[e]),
                            I.some(function (e, t) {
                                return n[t].offsetWidth !== a[e] || n[t].offsetHeight !== i[e];
                            }));
                        var n;
                    });
                });
            },
            domBlockers: function (e) {
                var n = (void 0 === e ? {} : e).debug;
                return t(this, void 0, void 0, function () {
                    var e, t, o, a, i;
                    return r(this, function (r) {
                        switch (r.label) {
                            case 0:
                                return x() || G()
                                    ? ((c = atob),
                                        (e = {
                                            abpIndo: [
                                                "#Iklan-Melayang",
                                                "#Kolom-Iklan-728",
                                                "#SidebarIklan-wrapper",
                                                '[title="ALIENBOLA" i]',
                                                c("I0JveC1CYW5uZXItYWRz"),
                                            ],
                                            abpvn: [".quangcao", "#mobileCatfish", c("LmNsb3NlLWFkcw=="), '[id^="bn_bottom_fixed_"]', "#pmadv"],
                                            adBlockFinland: [
                                                ".mainostila",
                                                c("LnNwb25zb3JpdA=="),
                                                ".ylamainos",
                                                c("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),
                                                c("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd"),
                                            ],
                                            adBlockPersian: [
                                                "#navbar_notice_50",
                                                ".kadr",
                                                'TABLE[width="140px"]',
                                                "#divAgahi",
                                                c("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd"),
                                            ],
                                            adBlockWarningRemoval: [
                                                "#adblock-honeypot",
                                                ".adblocker-root",
                                                ".wp_adblock_detect",
                                                c("LmhlYWRlci1ibG9ja2VkLWFk"),
                                                c("I2FkX2Jsb2NrZXI="),
                                            ],
                                            adGuardAnnoyances: [
                                                ".hs-sosyal",
                                                "#cookieconsentdiv",
                                                'div[class^="app_gdpr"]',
                                                ".as-oil",
                                                '[data-cypress="soft-push-notification-modal"]',
                                            ],
                                            adGuardBase: [
                                                ".BetterJsPopOverlay",
                                                c("I2FkXzMwMFgyNTA="),
                                                c("I2Jhbm5lcmZsb2F0MjI="),
                                                c("I2NhbXBhaWduLWJhbm5lcg=="),
                                                c("I0FkLUNvbnRlbnQ="),
                                            ],
                                            adGuardChinese: [
                                                c("LlppX2FkX2FfSA=="),
                                                c("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),
                                                "#widget-quan",
                                                c("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),
                                                c("YVtocmVmKj0iLjE5NTZobC5jb20vIl0="),
                                            ],
                                            adGuardFrench: [
                                                "#pavePub",
                                                c("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),
                                                ".mobile_adhesion",
                                                ".widgetadv",
                                                c("LmFkc19iYW4="),
                                            ],
                                            adGuardGerman: ['aside[data-portal-id="leaderboard"]'],
                                            adGuardJapanese: [
                                                "#kauli_yad_1",
                                                c("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),
                                                c("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),
                                                c("LmFkZ29vZ2xl"),
                                                c("Ll9faXNib29zdFJldHVybkFk"),
                                            ],
                                            adGuardMobile: [
                                                c("YW1wLWF1dG8tYWRz"),
                                                c("LmFtcF9hZA=="),
                                                'amp-embed[type="24smi"]',
                                                "#mgid_iframe1",
                                                c("I2FkX2ludmlld19hcmVh"),
                                            ],
                                            adGuardRussian: [
                                                c("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),
                                                c("LnJlY2xhbWE="),
                                                'div[id^="smi2adblock"]',
                                                c("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),
                                                "#psyduckpockeball",
                                            ],
                                            adGuardSocial: [
                                                c("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),
                                                c("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),
                                                ".etsy-tweet",
                                                "#inlineShare",
                                                ".popup-social",
                                            ],
                                            adGuardSpanishPortuguese: [
                                                "#barraPublicidade",
                                                "#Publicidade",
                                                "#publiEspecial",
                                                "#queTooltip",
                                                ".cnt-publi",
                                            ],
                                            adGuardTrackingProtection: [
                                                "#qoo-counter",
                                                c("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),
                                                c("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),
                                                c("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),
                                                "#top100counter",
                                            ],
                                            adGuardTurkish: [
                                                "#backkapat",
                                                c("I3Jla2xhbWk="),
                                                c("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),
                                                c("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),
                                                c("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ=="),
                                            ],
                                            bulgarian: [
                                                c("dGQjZnJlZW5ldF90YWJsZV9hZHM="),
                                                "#ea_intext_div",
                                                ".lapni-pop-over",
                                                "#xenium_hot_offers",
                                            ],
                                            easyList: [
                                                ".yb-floorad",
                                                c("LndpZGdldF9wb19hZHNfd2lkZ2V0"),
                                                c("LnRyYWZmaWNqdW5reS1hZA=="),
                                                ".textad_headline",
                                                c("LnNwb25zb3JlZC10ZXh0LWxpbmtz"),
                                            ],
                                            easyListChina: [
                                                c("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),
                                                c("LmZyb250cGFnZUFkdk0="),
                                                "#taotaole",
                                                "#aafoot.top_box",
                                                ".cfa_popup",
                                            ],
                                            easyListCookie: [
                                                ".ezmob-footer",
                                                ".cc-CookieWarning",
                                                "[data-cookie-number]",
                                                c("LmF3LWNvb2tpZS1iYW5uZXI="),
                                                ".sygnal24-gdpr-modal-wrap",
                                            ],
                                            easyListCzechSlovak: [
                                                "#onlajny-stickers",
                                                c("I3Jla2xhbW5pLWJveA=="),
                                                c("LnJla2xhbWEtbWVnYWJvYXJk"),
                                                ".sklik",
                                                c("W2lkXj0ic2tsaWtSZWtsYW1hIl0="),
                                            ],
                                            easyListDutch: [
                                                c("I2FkdmVydGVudGll"),
                                                c("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),
                                                ".adstekst",
                                                c("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),
                                                "#semilo-lrectangle",
                                            ],
                                            easyListGermany: [
                                                "#SSpotIMPopSlider",
                                                c("LnNwb25zb3JsaW5rZ3J1ZW4="),
                                                c("I3dlcmJ1bmdza3k="),
                                                c("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),
                                                c("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0="),
                                            ],
                                            easyListItaly: [
                                                c("LmJveF9hZHZfYW5udW5jaQ=="),
                                                ".sb-box-pubbliredazionale",
                                                c("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),
                                                c("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),
                                                c("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ=="),
                                            ],
                                            easyListLithuania: [
                                                c("LnJla2xhbW9zX3RhcnBhcw=="),
                                                c("LnJla2xhbW9zX251b3JvZG9z"),
                                                c("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),
                                                c("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),
                                                c("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd"),
                                            ],
                                            estonian: [c("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],
                                            fanboyAnnoyances: [
                                                "#ac-lre-player",
                                                ".navigate-to-top",
                                                "#subscribe_popup",
                                                ".newsletter_holder",
                                                "#back-top",
                                            ],
                                            fanboyAntiFacebook: [".util-bar-module-firefly-visible"],
                                            fanboyEnhancedTrackers: [
                                                ".open.pushModal",
                                                "#issuem-leaky-paywall-articles-zero-remaining-nag",
                                                "#sovrn_container",
                                                'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',
                                                ".BlockNag__Card",
                                            ],
                                            fanboySocial: [
                                                "#FollowUs",
                                                "#meteored_share",
                                                "#social_follow",
                                                ".article-sharer",
                                                ".community__social-desc",
                                            ],
                                            frellwitSwedish: [
                                                c("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),
                                                c("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),
                                                "article.category-samarbete",
                                                c("ZGl2LmhvbGlkQWRz"),
                                                "ul.adsmodern",
                                            ],
                                            greekAdBlock: [
                                                c("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),
                                                c("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),
                                                c("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),
                                                "DIV.agores300",
                                                "TABLE.advright",
                                            ],
                                            hungarian: [
                                                "#cemp_doboz",
                                                ".optimonk-iframe-container",
                                                c("LmFkX19tYWlu"),
                                                c("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),
                                                "#hirdetesek_box",
                                            ],
                                            iDontCareAboutCookies: [
                                                '.alert-info[data-block-track*="CookieNotice"]',
                                                ".ModuleTemplateCookieIndicator",
                                                ".o--cookies--container",
                                                "#cookies-policy-sticky",
                                                "#stickyCookieBar",
                                            ],
                                            icelandicAbp: [c("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],
                                            latvian: [
                                                c("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),
                                                c("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ=="),
                                            ],
                                            listKr: [
                                                c("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),
                                                c("I2xpdmVyZUFkV3JhcHBlcg=="),
                                                c("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),
                                                c("aW5zLmZhc3R2aWV3LWFk"),
                                                ".revenue_unit_item.dable",
                                            ],
                                            listeAr: [
                                                c("LmdlbWluaUxCMUFk"),
                                                ".right-and-left-sponsers",
                                                c("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),
                                                c("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),
                                                c("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd"),
                                            ],
                                            listeFr: [
                                                c("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),
                                                c("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),
                                                c("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),
                                                ".site-pub-interstitiel",
                                                'div[id^="crt-"][data-criteo-id]',
                                            ],
                                            officialPolish: [
                                                "#ceneo-placeholder-ceneo-12",
                                                c("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),
                                                c("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),
                                                c("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),
                                                c("ZGl2I3NrYXBpZWNfYWQ="),
                                            ],
                                            ro: [
                                                c("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),
                                                c("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),
                                                c("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),
                                                c("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),
                                                'a[href^="/url/"]',
                                            ],
                                            ruAd: [
                                                c("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),
                                                c("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),
                                                c("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),
                                                "#pgeldiz",
                                                ".yandex-rtb-block",
                                            ],
                                            thaiAds: [
                                                "a[href*=macau-uta-popup]",
                                                c("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),
                                                c("LmFkczMwMHM="),
                                                ".bumq",
                                                ".img-kosana",
                                            ],
                                            webAnnoyancesUltralist: [
                                                "#mod-social-share-2",
                                                "#social-tools",
                                                c("LmN0cGwtZnVsbGJhbm5lcg=="),
                                                ".zergnet-recommend",
                                                ".yt.btn-link.btn-md.btn",
                                            ],
                                        }),
                                        (t = Object.keys(e)),
                                        [
                                            4,
                                            T((i = []).concat.apply(i, t.map(function (n) {
                                                return e[n];
                                            }))),
                                        ])
                                    : [2, void 0];
                            case 1:
                                return ((o = r.sent()),
                                    n &&
                                        (function (e, n) {
                                            for (var t = "DOM blockers debug:\n```", r = 0, o = Object.keys(e); r < o.length; r++) {
                                                var a = o[r];
                                                t += "\n".concat(a, ":");
                                                for (var i = 0, c = e[a]; i < c.length; i++) {
                                                    var u = c[i];
                                                    t += "\n  ".concat(n[u] ? "ðŸš«" : "âž¡ï¸", " ").concat(u);
                                                }
                                            }
                                            console.log("".concat(t, "\n```"));
                                        })(e, o),
                                    (a = t.filter(function (n) {
                                        var t = e[n];
                                        return (w(t.map(function (e) {
                                            return o[e];
                                        })) >
                                            0.6 * t.length);
                                    })).sort(),
                                    [2, a]);
                        }
                        var c;
                    });
                });
            },
            fontPreferences: function () {
                return (function (e, n) {
                    void 0 === n && (n = 4e3);
                    return X(function (t, r) {
                        var a = r.document, i = a.body, c = i.style;
                        (c.width = "".concat(n, "px")),
                            (c.webkitTextSizeAdjust = c.textSizeAdjust = "none"),
                            C() ? (i.style.zoom = "".concat(1 / r.devicePixelRatio)) : x() && (i.style.zoom = "reset");
                        var u = a.createElement("div");
                        return ((u.textContent = o([], Array((n / 20) << 0), !0)
                            .map(function () {
                            return "word";
                        })
                            .join(" ")),
                            i.appendChild(u),
                            e(a, i));
                    }, '<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">');
                })(function (e, n) {
                    for (var t = {}, r = {}, o = 0, a = Object.keys(ee); o < a.length; o++) {
                        var i = a[o], c = ee[i], u = c[0], l = void 0 === u ? {} : u, s = c[1], d = void 0 === s ? "mmMwWLliI0fiflO&1" : s, m = e.createElement("span");
                        (m.textContent = d), (m.style.whiteSpace = "nowrap");
                        for (var f = 0, h = Object.keys(l); f < h.length; f++) {
                            var v = h[f], p = l[v];
                            void 0 !== p && (m.style[v] = p);
                        }
                        (t[i] = m), n.appendChild(e.createElement("br")), n.appendChild(m);
                    }
                    for (var b = 0, y = Object.keys(ee); b < y.length; b++) {
                        r[(i = y[b])] = t[i].getBoundingClientRect().width;
                    }
                    return r;
                });
            },
            audio: function () {
                var e = window, n = e.OfflineAudioContext || e.webkitOfflineAudioContext;
                if (!n)
                    return -2;
                if (x() &&
                    !F() &&
                    !(function () {
                        var e = window;
                        return (w([
                            "DOMRectList" in e,
                            "RTCPeerConnectionIceEvent" in e,
                            "SVGGeometryElement" in e,
                            "ontransitioncancel" in e,
                        ]) >= 3);
                    })())
                    return -1;
                var t = new n(1, 5e3, 44100), r = t.createOscillator();
                (r.type = "triangle"), (r.frequency.value = 1e4);
                var o = t.createDynamicsCompressor();
                (o.threshold.value = -50),
                    (o.knee.value = 40),
                    (o.ratio.value = 12),
                    (o.attack.value = 0),
                    (o.release.value = 0.25),
                    r.connect(o),
                    o.connect(t.destination),
                    r.start(0);
                var a = (function (e) {
                    var n = 3, t = 500, r = 500, o = 5e3, a = function () { };
                    return [
                        new Promise(function (c, u) {
                            var s = !1, d = 0, m = 0;
                            e.oncomplete = function (e) {
                                return c(e.renderedBuffer);
                            };
                            var f = function () {
                                setTimeout(function () {
                                    return u(R("timeout"));
                                }, Math.min(r, m + o - Date.now()));
                            }, h = function () {
                                try {
                                    var r = e.startRendering();
                                    switch ((i(r) && l(r), e.state)) {
                                        case "running":
                                            (m = Date.now()), s && f();
                                            break;
                                        case "suspended":
                                            document.hidden || d++, s && d >= n ? u(R("suspended")) : setTimeout(h, t);
                                    }
                                }
                                catch (o) {
                                    u(o);
                                }
                            };
                            h(),
                                (a = function () {
                                    s || ((s = !0), m > 0 && f());
                                });
                        }),
                        a,
                    ];
                })(t), c = a[0], u = a[1], s = c.then(function (e) {
                    return (function (e) {
                        for (var n = 0, t = 0; t < e.length; ++t)
                            n += Math.abs(e[t]);
                        return n;
                    })(e.getChannelData(0).subarray(4500));
                }, function (e) {
                    if ("timeout" === e.name || "suspended" === e.name)
                        return -3;
                    throw e;
                });
                return (l(s),
                    function () {
                        return u(), s;
                    });
            },
            screenFrame: function () {
                var e = this, n = D();
                return function () {
                    return t(e, void 0, void 0, function () {
                        var e, t;
                        return r(this, function (r) {
                            switch (r.label) {
                                case 0:
                                    return [4, n()];
                                case 1:
                                    return ((e = r.sent()),
                                        [
                                            2,
                                            [
                                                (t = function (e) {
                                                    return null === e ? null : L(e, 10);
                                                })(e[0]),
                                                t(e[1]),
                                                t(e[2]),
                                                t(e[3]),
                                            ],
                                        ]);
                            }
                        });
                    });
                };
            },
            osCpu: function () {
                return navigator.oscpu;
            },
            languages: function () {
                var e, n = navigator, t = [], r = n.language || n.userLanguage || n.browserLanguage || n.systemLanguage;
                if ((void 0 !== r && t.push([r]), Array.isArray(n.languages)))
                    (C() &&
                        w([
                            !("MediaSettingsRange" in (e = window)),
                            "RTCEncodedAudioFrame" in e,
                            "" + e.Intl == "[object Intl]",
                            "" + e.Reflect == "[object Reflect]",
                        ]) >= 3) ||
                        t.push(n.languages);
                else if ("string" == typeof n.languages) {
                    var o = n.languages;
                    o && t.push(o.split(","));
                }
                return t;
            },
            colorDepth: function () {
                return window.screen.colorDepth;
            },
            deviceMemory: function () {
                return g(y(navigator.deviceMemory), void 0);
            },
            screenResolution: function () {
                var e = screen, n = function (e) {
                    return g(b(e), null);
                }, t = [n(e.width), n(e.height)];
                return t.sort().reverse(), t;
            },
            hardwareConcurrency: function () {
                return g(b(navigator.hardwareConcurrency), void 0);
            },
            timezone: function () {
                var e, n = null === (e = window.Intl) || void 0 === e ? void 0 : e.DateTimeFormat;
                if (n) {
                    var t = new n().resolvedOptions().timeZone;
                    if (t)
                        return t;
                }
                var r, o = ((r = new Date().getFullYear()),
                    -Math.max(y(new Date(r, 0, 1).getTimezoneOffset()), y(new Date(r, 6, 1).getTimezoneOffset())));
                return "UTC".concat(o >= 0 ? "+" : "").concat(Math.abs(o));
            },
            sessionStorage: function () {
                try {
                    return !!window.sessionStorage;
                }
                catch (e) {
                    return !0;
                }
            },
            localStorage: function () {
                try {
                    return !!window.localStorage;
                }
                catch (e) {
                    return !0;
                }
            },
            indexedDB: function () {
                if (!Z() && !S())
                    try {
                        return !!window.indexedDB;
                    }
                    catch (e) {
                        return !0;
                    }
            },
            openDatabase: function () {
                return !!window.openDatabase;
            },
            cpuClass: function () {
                return navigator.cpuClass;
            },
            platform: function () {
                var e = navigator.platform;
                return "MacIntel" === e && x() && !F()
                    ? (function () {
                        if ("iPad" === navigator.platform)
                            return !0;
                        var e = screen, n = e.width / e.height;
                        return w(["MediaSource" in window, !!Element.prototype.webkitRequestFullscreen, n > 0.65 && n < 1.53]) >= 2;
                    })()
                        ? "iPad"
                        : "iPhone"
                    : e;
            },
            plugins: function () {
                var e = navigator.plugins;
                if (e) {
                    for (var n = [], t = 0; t < e.length; ++t) {
                        var r = e[t];
                        if (r) {
                            for (var o = [], a = 0; a < r.length; ++a) {
                                var i = r[a];
                                o.push({ type: i.type, suffixes: i.suffixes });
                            }
                            n.push({ name: r.name, description: r.description, mimeTypes: o });
                        }
                    }
                    return n;
                }
            },
            canvas: function () {
                var e, n, t = !1, r = (function () {
                    var e = document.createElement("canvas");
                    return (e.width = 1), (e.height = 1), [e, e.getContext("2d")];
                })(), o = r[0], a = r[1];
                if ((function (e, n) {
                    return !(!n || !e.toDataURL);
                })(o, a)) {
                    (t = (function (e) {
                        return e.rect(0, 0, 10, 10), e.rect(2, 2, 6, 6), !e.isPointInPath(5, 5, "evenodd");
                    })(a)),
                        (function (e, n) {
                            (e.width = 240),
                                (e.height = 60),
                                (n.textBaseline = "alphabetic"),
                                (n.fillStyle = "#f60"),
                                n.fillRect(100, 1, 62, 20),
                                (n.fillStyle = "#069"),
                                (n.font = '11pt "Times New Roman"');
                            var t = "Cwm fjordbank gly ".concat(String.fromCharCode(55357, 56835));
                            n.fillText(t, 2, 15),
                                (n.fillStyle = "rgba(102, 204, 0, 0.2)"),
                                (n.font = "18pt Arial"),
                                n.fillText(t, 4, 45);
                        })(o, a);
                    var i = H(o);
                    i !== H(o)
                        ? (e = n = "unstable")
                        : ((n = i),
                            (function (e, n) {
                                (e.width = 122), (e.height = 110), (n.globalCompositeOperation = "multiply");
                                for (var t = 0, r = [
                                    ["#f2f", 40, 40],
                                    ["#2ff", 80, 40],
                                    ["#ff2", 60, 80],
                                ]; t < r.length; t++) {
                                    var o = r[t], a = o[0], i = o[1], c = o[2];
                                    (n.fillStyle = a), n.beginPath(), n.arc(i, c, 40, 0, 2 * Math.PI, !0), n.closePath(), n.fill();
                                }
                                (n.fillStyle = "#f9c"),
                                    n.arc(60, 60, 60, 0, 2 * Math.PI, !0),
                                    n.arc(60, 60, 20, 0, 2 * Math.PI, !0),
                                    n.fill("evenodd");
                            })(o, a),
                            (e = H(o)));
                }
                else
                    e = n = "";
                return { winding: t, geometry: e, text: n };
            },
            touchSupport: function () {
                var e, n = navigator, t = 0;
                void 0 !== n.maxTouchPoints
                    ? (t = b(n.maxTouchPoints))
                    : void 0 !== n.msMaxTouchPoints && (t = n.msMaxTouchPoints);
                try {
                    document.createEvent("TouchEvent"), (e = !0);
                }
                catch (r) {
                    e = !1;
                }
                return { maxTouchPoints: t, touchEvent: e, touchStart: "ontouchstart" in window };
            },
            vendor: function () {
                return navigator.vendor || "";
            },
            vendorFlavors: function () {
                for (var e = [], n = 0, t = [
                    "chrome",
                    "safari",
                    "__crWeb",
                    "__gCrWeb",
                    "yandex",
                    "__yb",
                    "__ybro",
                    "__firefox__",
                    "__edgeTrackingPreventionStatistics",
                    "webkit",
                    "oprt",
                    "samsungAr",
                    "ucweb",
                    "UCShellJava",
                    "puffinDevice",
                ]; n < t.length; n++) {
                    var r = t[n], o = window[r];
                    o && "object" == typeof o && e.push(r);
                }
                return e.sort();
            },
            cookiesEnabled: function () {
                var e = document;
                try {
                    e.cookie = "cookietest=1; SameSite=Strict;";
                    var n = -1 !== e.cookie.indexOf("cookietest=");
                    return (e.cookie = "cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT"), n;
                }
                catch (t) {
                    return !1;
                }
            },
            colorGamut: function () {
                for (var e = 0, n = ["rec2020", "p3", "srgb"]; e < n.length; e++) {
                    var t = n[e];
                    if (matchMedia("(color-gamut: ".concat(t, ")")).matches)
                        return t;
                }
            },
            invertedColors: function () {
                return !!_("inverted") || (!_("none") && void 0);
            },
            forcedColors: function () {
                return !!O("active") || (!O("none") && void 0);
            },
            monochrome: function () {
                if (matchMedia("(min-monochrome: 0)").matches) {
                    for (var e = 0; e <= 100; ++e)
                        if (matchMedia("(max-monochrome: ".concat(e, ")")).matches)
                            return e;
                    throw new Error("Too high value");
                }
            },
            contrast: function () {
                return U("no-preference")
                    ? 0
                    : U("high") || U("more")
                        ? 1
                        : U("low") || U("less")
                            ? -1
                            : U("forced")
                                ? 10
                                : void 0;
            },
            reducedMotion: function () {
                return !!Q("reduce") || (!Q("no-preference") && void 0);
            },
            hdr: function () {
                return !!K("high") || (!K("standard") && void 0);
            },
            math: function () {
                var e, n = q.acos || $, t = q.acosh || $, r = q.asin || $, o = q.asinh || $, a = q.atanh || $, i = q.atan || $, c = q.sin || $, u = q.sinh || $, l = q.cos || $, s = q.cosh || $, d = q.tan || $, m = q.tanh || $, f = q.exp || $, h = q.expm1 || $, v = q.log1p || $;
                return {
                    acos: n(0.12312423423423424),
                    acosh: t(1e308),
                    acoshPf: ((e = 1e154), q.log(e + q.sqrt(e * e - 1))),
                    asin: r(0.12312423423423424),
                    asinh: o(1),
                    asinhPf: (function (e) {
                        return q.log(e + q.sqrt(e * e + 1));
                    })(1),
                    atanh: a(0.5),
                    atanhPf: (function (e) {
                        return q.log((1 + e) / (1 - e)) / 2;
                    })(0.5),
                    atan: i(0.5),
                    sin: c(-1e300),
                    sinh: u(1),
                    sinhPf: (function (e) {
                        return q.exp(e) - 1 / q.exp(e) / 2;
                    })(1),
                    cos: l(10.000000000123),
                    cosh: s(1),
                    coshPf: (function (e) {
                        return (q.exp(e) + 1 / q.exp(e)) / 2;
                    })(1),
                    tan: d(-1e300),
                    tanh: m(1),
                    tanhPf: (function (e) {
                        return (q.exp(2 * e) - 1) / (q.exp(2 * e) + 1);
                    })(1),
                    exp: f(1),
                    expm1: h(1),
                    expm1Pf: (function (e) {
                        return q.exp(e) - 1;
                    })(1),
                    log1p: v(10),
                    log1pPf: (function (e) {
                        return q.log(1 + e);
                    })(10),
                    powPI: (function (e) {
                        return q.pow(q.PI, e);
                    })(-100),
                };
            },
            videoCard: function () {
                var e, n = document.createElement("canvas"), t = null !== (e = n.getContext("webgl")) && void 0 !== e ? e : n.getContext("experimental-webgl");
                if (t && "getExtension" in t) {
                    var r = t.getExtension("WEBGL_debug_renderer_info");
                    if (r)
                        return {
                            vendor: (t.getParameter(r.UNMASKED_VENDOR_WEBGL) || "").toString(),
                            renderer: (t.getParameter(r.UNMASKED_RENDERER_WEBGL) || "").toString(),
                        };
                }
            },
            pdfViewerEnabled: function () {
                return navigator.pdfViewerEnabled;
            },
            architecture: function () {
                var e = new Float32Array(1), n = new Uint8Array(e.buffer);
                return (e[0] = 1 / 0), (e[0] = e[0] - e[0]), n[3];
            },
        };
        function te(e) {
            var n = (function (e) {
                if (G())
                    return 0.4;
                if (x())
                    return F() ? 0.5 : 0.3;
                var n = e.platform.value || "";
                if (/^Win/.test(n))
                    return 0.6;
                if (/^Mac/.test(n))
                    return 0.5;
                return 0.7;
            })(e), t = (function (e) {
                return L(0.99 + 0.01 * e, 1e-4);
            })(n);
            return { score: n, comment: "$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g, "".concat(t)) };
        }
        function re(e) {
            return JSON.stringify(e, function (e, t) {
                return t instanceof Error
                    ? n({
                        name: (r = t).name,
                        message: r.message,
                        stack: null === (o = r.stack) || void 0 === o ? void 0 : o.split("\n"),
                    }, r)
                    : t;
                var r, o;
            }, 2);
        }
        function oe(e) {
            return p((function (e) {
                for (var n = "", t = 0, r = Object.keys(e).sort(); t < r.length; t++) {
                    var o = r[t], a = e[o], i = a.error ? "error" : JSON.stringify(a.value);
                    n += ""
                        .concat(n ? "|" : "")
                        .concat(o.replace(/([:|\\])/g, "\\$1"), ":")
                        .concat(i);
                }
                return n;
            })(e));
        }
        function ae(e) {
            return (void 0 === e && (e = 50),
                (function (e, n) {
                    void 0 === n && (n = 1 / 0);
                    var t = window.requestIdleCallback;
                    return t
                        ? new Promise(function (e) {
                            return t.call(window, function () {
                                return e();
                            }, { timeout: n });
                        })
                        : a(Math.min(e, n));
                })(e, 2 * e));
        }
        function ie(e, n) {
            var o = Date.now();
            return {
                get: function (a) {
                    return t(this, void 0, void 0, function () {
                        var t, i, c;
                        return r(this, function (r) {
                            switch (r.label) {
                                case 0:
                                    return (t = Date.now()), [4, e()];
                                case 1:
                                    return ((i = r.sent()),
                                        (c = (function (e) {
                                            var n;
                                            return {
                                                get visitorId() {
                                                    return void 0 === n && (n = oe(this.components)), n;
                                                },
                                                set visitorId(e) {
                                                    n = e;
                                                },
                                                confidence: te(e),
                                                components: e,
                                                version: "3.4.2",
                                            };
                                        })(i)),
                                        (n || (null == a ? void 0 : a.debug)) &&
                                            console.log("Copy the text below to get the debug data:\n\n```\nversion: "
                                                .concat(c.version, "\nuserAgent: ")
                                                .concat(navigator.userAgent, "\ntimeBetweenLoadAndGet: ")
                                                .concat(t - o, "\nvisitorId: ")
                                                .concat(c.visitorId, "\ncomponents: ")
                                                .concat(re(i), "\n```")),
                                        [2, c]);
                            }
                        });
                    });
                },
            };
        }
        function ce(e) {
            var n = void 0 === e ? {} : e, o = n.delayFallback, a = n.debug;
            return (n.monitoring,
                t(this, void 0, void 0, function () {
                    return r(this, function (e) {
                        switch (e.label) {
                            case 0:
                                return [4, ae(o)];
                            case 1:
                                return e.sent(), [2, ie(W(ne, { debug: a }, []), a)];
                        }
                    });
                }));
        }
        var ue = { load: ce, hashComponents: oe, componentsToDebugString: re }, le = p;
        return ((e.componentsToDebugString = re),
            (e.default = ue),
            (e.getFullscreenElement = Y),
            (e.getScreenFrame = D),
            (e.hashComponents = oe),
            (e.isAndroid = G),
            (e.isChromium = C),
            (e.isDesktopSafari = F),
            (e.isEdgeHTML = S),
            (e.isGecko = M),
            (e.isTrident = Z),
            (e.isWebKit = x),
            (e.load = ce),
            (e.loadSources = W),
            (e.murmurX64Hash128 = le),
            (e.prepareForSources = ae),
            (e.sources = ne),
            (e.transformSource = function (e, n) {
                var t = function (e) {
                    return V(e)
                        ? n(e)
                        : function () {
                            var t = e();
                            return i(t) ? t.then(n) : n(t);
                        };
                };
                return function (n) {
                    var r = e(n);
                    return i(r) ? r.then(t) : t(r);
                };
            }),
            (e.withIframe = X),
            Object.defineProperty(e, "__esModule", { value: !0 }),
            e);
    })({});
    exports.default = FingerprintJS;
});
define("common/Integration", ["require", "exports", "common/logger"], function (require, exports, logger_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var loadScript = function (url) { return __awaiter(void 0, void 0, void 0, function () {
        return __generator(this, function (_a) {
            return [2, new Promise(function (resolve, reject) {
                    try {
                        if (!url) {
                            throw new Error("No URL provided for integration script");
                        }
                        if (typeof document !== "undefined") {
                            var script = document.createElement("script");
                            script.src = url;
                            script.async = true;
                            script.onload = function () {
                                resolve();
                            };
                            script.onerror = function (error) {
                                logger_1.Logger.error("Could not load integration script", error).log();
                                resolve();
                            };
                            document.body.appendChild(script);
                        }
                    }
                    catch (error) {
                        logger_1.Logger.error("Could not load integration script", error).log();
                        resolve();
                    }
                })];
        });
    }); };
    var Integration = (function () {
        function Integration(_a) {
            var config = _a.config, url = _a.url, name = _a.name, purposes = _a.purposes, requestId = _a.requestId, parentContext = _a.parentContext;
            this.config = {};
            this.url = "";
            this.purposes = [];
            this.dodgeballRequestId = "";
            this.config = config;
            this.url = url;
            this.name = name;
            this.purposes = purposes;
            this.dodgeballRequestId = requestId;
            this.parentContext = parentContext;
        }
        Integration.prototype.load = function () {
            return __awaiter(this, void 0, void 0, function () {
                var error_1;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            _a.trys.push([0, 4, , 5]);
                            logger_1.Logger.info("Loading Integration: ".concat(this.name)).log();
                            if (!!this.url) return [3, 2];
                            logger_1.Logger.info("No URL provided for integration: ".concat(this.name)).log();
                            return [4, Promise.resolve()];
                        case 1: return [2, _a.sent()];
                        case 2: return [4, loadScript(this.url)];
                        case 3: return [2, _a.sent()];
                        case 4:
                            error_1 = _a.sent();
                            logger_1.Logger.error("Could not load Javascript for integration: ".concat(this.name), error_1).log();
                            return [2, Promise.reject(error_1)];
                        case 5: return [2];
                    }
                });
            });
        };
        Integration.prototype._resetConfig = function (_a) {
            var url = _a.url, config = _a.config, requestId = _a.requestId, _b = _a.purposes, purposes = _b === void 0 ? [] : _b;
            this.url = url;
            this.config = config;
            this.dodgeballRequestId = requestId;
            if (purposes.length > 0) {
                this.purposes = purposes;
            }
        };
        return Integration;
    }());
    exports.default = Integration;
});
define("integrations/DODGEBALL_FINGERPRINT_SERVICE", ["require", "exports", "vendor/ClientJS", "vendor/FingerprintJS", "common/types", "common/Integration"], function (require, exports, ClientJS_1, FingerprintJS_1, types_1, Integration_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.DodgeballFingerprinterIntegration = void 0;
    ClientJS_1 = __importDefault(ClientJS_1);
    FingerprintJS_1 = __importDefault(FingerprintJS_1);
    Integration_1 = __importDefault(Integration_1);
    var INTEGRATION_NAME = "DODGEBALL_FINGERPRINT_SERVICE";
    var DodgeballFingerprinterIntegration = (function (_super) {
        __extends(DodgeballFingerprinterIntegration, _super);
        function DodgeballFingerprinterIntegration(_a) {
            var url = _a.url, config = _a.config, requestId = _a.requestId, parentContext = _a.parentContext;
            return _super.call(this, {
                url: "",
                config: config,
                name: INTEGRATION_NAME,
                purposes: [types_1.IntegrationPurpose.IDENTIFY],
                requestId: requestId,
                parentContext: parentContext,
            }) || this;
        }
        DodgeballFingerprinterIntegration.prototype.hasLoaded = function () {
            return window === null || window === void 0 ? void 0 : window.hasOwnProperty("FingerprintJS");
        };
        DodgeballFingerprinterIntegration.prototype.configure = function () {
            return __awaiter(this, void 0, void 0, function () {
                var _this = this;
                return __generator(this, function (_a) {
                    if (this.client) {
                        return [2];
                    }
                    if (ClientJS_1.default) {
                        this.client = new ClientJS_1.default();
                    }
                    return [2, new Promise(function (resolve) {
                            var fpPromise = window.FingerprintJS.load();
                            fpPromise.then(function (fpClient) {
                                _this.fpClient = fpClient;
                                resolve();
                            });
                        })];
                });
            });
        };
        DodgeballFingerprinterIntegration.prototype.reconfigure = function (_a) {
            var url = _a.url, config = _a.config, requestId = _a.requestId;
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            this._resetConfig({ url: url, config: config, requestId: requestId });
                            return [4, this.configure()];
                        case 1:
                            _b.sent();
                            return [2];
                    }
                });
            });
        };
        DodgeballFingerprinterIntegration.prototype.getBrowserFingerprint = function () {
            if (this.client) {
                var browserFingerprint = {
                    userAgent: this.client.getUserAgent(),
                    browser: this.client.getBrowser(),
                    browserVersion: this.client.getBrowserVersion(),
                    browserMajorVersion: this.client.getBrowserMajorVersion(),
                    isIE: this.client.isIE(),
                    isChrome: this.client.isChrome(),
                    isFirefox: this.client.isFirefox(),
                    isSafari: this.client.isSafari(),
                    isOpera: this.client.isOpera(),
                    engine: this.client.getEngine(),
                    engineVersion: this.client.getEngineVersion(),
                    os: this.client.getOS(),
                    osVersion: this.client.getOSVersion(),
                    isWindows: this.client.isWindows(),
                    isMac: this.client.isMac(),
                    isLinux: this.client.isLinux(),
                    isUbuntu: this.client.isUbuntu(),
                    isSolaris: this.client.isSolaris(),
                    device: this.client.getDevice(),
                    deviceType: this.client.getDeviceType(),
                    deviceVendor: this.client.getDeviceVendor(),
                    cpu: this.client.getCPU(),
                    isMobile: this.client.isMobile(),
                    isMobileMajor: this.client.isMobileMajor(),
                    isMobileAndroid: this.client.isMobileAndroid(),
                    isMobileOpera: this.client.isMobileOpera(),
                    isMobileWindows: this.client.isMobileWindows(),
                    isMobileBlackBerry: this.client.isMobileBlackBerry(),
                    isMobileIOS: this.client.isMobileIOS(),
                    isIphone: this.client.isIphone(),
                    isIpad: this.client.isIpad(),
                    isIpod: this.client.isIpod(),
                    screenPrint: this.client.getScreenPrint(),
                    colorDepth: this.client.getColorDepth(),
                    currentResolution: this.client.getCurrentResolution(),
                    availableResolution: this.client.getAvailableResolution(),
                    deviceXDPI: this.client.getDeviceXDPI(),
                    deviceYDPI: this.client.getDeviceYDPI(),
                    plugins: this.client.getPlugins(),
                    isJava: this.client.isJava(),
                    isFlash: this.client.isFlash(),
                    isSilverlight: this.client.isSilverlight(),
                    silverlightVersion: this.client.getSilverlightVersion(),
                    mimeTypes: this.client.getMimeTypes(),
                    isMimeTypes: this.client.isMimeTypes(),
                    fonts: this.client.getFonts(),
                    isLocalStorage: this.client.isLocalStorage(),
                    isSessionStorage: this.client.isSessionStorage(),
                    isCookie: this.client.isCookie(),
                    timeZone: this.client.getTimeZone(),
                    language: this.client.getLanguage(),
                    systemLanguage: this.client.getSystemLanguage(),
                    isCanvas: this.client.isCanvas(),
                    canvasPrint: this.client.getCanvasPrint(),
                    fingerprint: this.client.getFingerprint(),
                };
                return browserFingerprint;
            }
            else {
                return {};
            }
        };
        DodgeballFingerprinterIntegration.prototype.identify = function () {
            return __awaiter(this, void 0, void 0, function () {
                var fp, dbFingerprintProps, fpResult, error_2;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            fp = {
                                source: INTEGRATION_NAME,
                                props: {},
                                hash: "",
                            };
                            _a.label = 1;
                        case 1:
                            _a.trys.push([1, 3, , 4]);
                            dbFingerprintProps = this.getBrowserFingerprint();
                            return [4, this.fpClient.get()];
                        case 2:
                            fpResult = _a.sent();
                            fp.hash = fpResult.visitorId;
                            fp.props = dbFingerprintProps;
                            return [3, 4];
                        case 3:
                            error_2 = _a.sent();
                            console.error(error_2);
                            fp.error = error_2.toString();
                            return [3, 4];
                        case 4: return [2, fp];
                    }
                });
            });
        };
        DodgeballFingerprinterIntegration.prototype.getMetadata = function () {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    return [2, { name: INTEGRATION_NAME, metadata: {} }];
                });
            });
        };
        return DodgeballFingerprinterIntegration;
    }(Integration_1.default));
    exports.DodgeballFingerprinterIntegration = DodgeballFingerprinterIntegration;
    if (window) {
        if (!window.hasOwnProperty("_dodgeball_integrations")) {
            window._dodgeball_integrations = {};
        }
        if (!window.hasOwnProperty("FingerprintJS")) {
            window.FingerprintJS = FingerprintJS_1.default;
        }
        if (!window._dodgeball_integrations.hasOwnProperty(INTEGRATION_NAME)) {
            window._dodgeball_integrations[INTEGRATION_NAME] = DodgeballFingerprinterIntegration;
        }
    }
});
}(dodgeballRequire));</script><script src="./Vapi - Dashboard_files/veriff.js.download" async=""></script><textarea tabindex="-1" aria-hidden="true" style="min-height: 0px !important; max-height: none !important; height: 0px !important; visibility: hidden !important; overflow: hidden !important; position: absolute !important; z-index: -1000 !important; top: 0px !important; right: 0px !important; border-width: 0px; box-sizing: border-box; font-family: Inter, sans-serif; font-size: 16px; font-style: normal; font-weight: 400; letter-spacing: normal; line-height: 22px; padding: 8px 12px; tab-size: 4; text-indent: 0px; text-rendering: auto; text-transform: none; width: 100%; word-break: normal;"></textarea></body></html>